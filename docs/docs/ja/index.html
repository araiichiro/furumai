<!DOCTYPE html>
<html lang="ja-JP">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Furumai | Furumai</title>
    <meta name="description" content="Furumai: Behavior description tool">
    <meta name="og:image" content="/furumai/docs/og.png">
    
    <link rel="preload" href="/furumai/docs/assets/css/0.styles.4e68afe6.css" as="style"><link rel="preload" href="/furumai/docs/assets/js/app.4c461af0.js" as="script"><link rel="preload" href="/furumai/docs/assets/js/10.bf1442ab.js" as="script"><link rel="preload" href="/furumai/docs/assets/js/4.485b3d4b.js" as="script"><link rel="prefetch" href="/furumai/docs/assets/js/11.09e228cf.js"><link rel="prefetch" href="/furumai/docs/assets/js/2.91ed7139.js"><link rel="prefetch" href="/furumai/docs/assets/js/3.94fc669b.js"><link rel="prefetch" href="/furumai/docs/assets/js/5.11f54a81.js"><link rel="prefetch" href="/furumai/docs/assets/js/6.124ea529.js"><link rel="prefetch" href="/furumai/docs/assets/js/7.dada0102.js"><link rel="prefetch" href="/furumai/docs/assets/js/8.4dd3cd29.js"><link rel="prefetch" href="/furumai/docs/assets/js/9.4740c9e7.js">
    <link rel="stylesheet" href="/furumai/docs/assets/css/0.styles.4e68afe6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/furumai/docs/ja/" class="home-link router-link-exact-active router-link-active"><!----> <span class="site-name">Furumai</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/furumai/docs/" class="nav-link">en-US</a></li><li class="dropdown-item"><!----> <a href="/furumai/docs/ja/" class="nav-link router-link-exact-active router-link-active">ja-JP</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/furumai/docs/" class="nav-link">en-US</a></li><li class="dropdown-item"><!----> <a href="/furumai/docs/ja/" class="nav-link router-link-exact-active router-link-active">ja-JP</a></li></ul></div></div> <!----></nav>  <!----> </div> <div class="page"> <div class="content"><h1 id="furumai"><a href="#furumai" aria-hidden="true" class="header-anchor">#</a> Furumai</h1> <p>システムやアルゴリズムの動作図（パラパラ漫画）を、DOT（Graphviz）風のテキスト記述から生成できるツールを作りました:
<a href="https://araiichiro.github.io/furumai/">Furumai - behavior visualization tool</a></p> <h1 id="ギャラリー"><a href="#ギャラリー" aria-hidden="true" class="header-anchor">#</a> ギャラリー</h1> <!----> <!----> <!----> <!----> <h1 id="特徴"><a href="#特徴" aria-hidden="true" class="header-anchor">#</a> 特徴</h1> <ul><li>テキストベースの記述
<ul><li>DOT（Graphviz）風の言語で記述。1枚絵ではなく動作図（パラパラ漫画）をテキスト記述から生成。</li></ul></li> <li>SVGへ出力可能</li></ul> <h1 id="背景"><a href="#背景" aria-hidden="true" class="header-anchor">#</a> 背景</h1> <p>既存のお絵かきツール・図表生成ツールには下記の使いにくさがありました。</p> <ul><li><p>GUIのお絵かきツール</p> <ul><li>自由に配置できる反面、要素数が多いと作図・調整が手間</li> <li>複数の図があるとき、1枚変更すると後続の図も修正しないといけない</li></ul></li> <li><p>テキストベースの図表生成ツール</p> <ul><li>要素の位置の指定がしにくい</li> <li>状態変化を表現しにくい
<ul><li>要素の追加・削除で他要素の位置が変わってしまう</li> <li>変更点だけを記述できず、記述量が多くなりがち（図全体を枚数分だけ記述しないといけない）</li></ul></li></ul></li></ul> <p>そこで自動で図中の各要素の配置を調整して動作図を作成できるツールを開発しました。</p> <h1 id="機能"><a href="#機能" aria-hidden="true" class="header-anchor">#</a> 機能</h1> <h2 id="基本図形"><a href="#基本図形" aria-hidden="true" class="header-anchor">#</a> 基本図形</h2> <p>基本図形として <code>box</code> / <code>person</code> / <code>cylinder</code> が指定できます。要素間に矢印を配置できます。</p> <!----> <!----> <h2 id="動作図（パラパラ漫画）を出力"><a href="#動作図（パラパラ漫画）を出力" aria-hidden="true" class="header-anchor">#</a> 動作図（パラパラ漫画）を出力</h2> <p><code>---</code> で動作図の各フレームを区切ります。</p> <!----> <!----> <h2 id="ラベル-テキスト"><a href="#ラベル-テキスト" aria-hidden="true" class="header-anchor">#</a> ラベル / テキスト</h2> <!----> <!----> <h2 id="svg属性"><a href="#svg属性" aria-hidden="true" class="header-anchor">#</a> SVG属性</h2> <p>SVGの属性が指定できます。</p> <!----> <!----> <h2 id="zone-group"><a href="#zone-group" aria-hidden="true" class="header-anchor">#</a> Zone / Group</h2> <p>図表の構成要素をまとめる方法として下記のものがあります。</p> <ul><li><code>Group</code> <ul><li>横方向にならべてまとめます</li></ul></li> <li><code>Zone</code> <ul><li>縦方向にならべてまとめます</li></ul></li></ul> <!----> <!----> <h2 id="margin-padding"><a href="#margin-padding" aria-hidden="true" class="header-anchor">#</a> Margin / Padding</h2> <p>ウェブページにおける <code>margin</code> / <code>padding</code> のような余白を設定できます。</p> <!----> <!----> <h2 id="dx-dy"><a href="#dx-dy" aria-hidden="true" class="header-anchor">#</a> dx / dy</h2> <p>自動配置の結果、矢印が重なってしまうケースがあります。その場合、 <code>dx</code> / <code>dy</code> 属性を指定して矢印の配置をずらせます。</p> <!----> <!----> <h2 id="均等配置（左詰めしない）"><a href="#均等配置（左詰めしない）" aria-hidden="true" class="header-anchor">#</a> 均等配置（左詰めしない）</h2> <!----> <!----> <h2 id="差分記述モード"><a href="#差分記述モード" aria-hidden="true" class="header-anchor">#</a> 差分記述モード</h2> <p>下記のようにファイルの先頭に記述することで、差分での記述できます。アルゴリズムの動作説明などの「小さな変化がつみかさなる」ようなものの場合に差分記述モードが役立ちます。</p> <p>初期状態で非表示にすれば、変更があってから表示されるようにできます。</p> <!----> <!----> <!----> <!----> <h2 id="表示済み要素の非表示"><a href="#表示済み要素の非表示" aria-hidden="true" class="header-anchor">#</a> 表示済み要素の非表示</h2> <p>表示済み要素を非表示にするには下記のように <code>hide</code> もしくは <code>delete</code> を使用します。</p> <!----> <!----> <h2 id="rough-mode"><a href="#rough-mode" aria-hidden="true" class="header-anchor">#</a> Rough Mode</h2> <p><code>Rough.js</code> のチェックボックスにチェックを入れると、Rough.jsが有効になります。</p> <h1 id="文法"><a href="#文法" aria-hidden="true" class="header-anchor">#</a> 文法</h1> <div class="language-g4 extra-class"><pre class="language-text"><code>grammar Furumai;

story: moment ('---' moment)* '---'? EOF;
moment: stmt_list ;

stmt_list: stmt (';' stmt)* ';'? ;
stmt: node_stmt
    | edge_stmt
    | attr_stmt
    | assignment
    | group
    | zone
    | hide
    ;

attr_stmt : (GROUP | NODE | EDGE | ZONE) attr_list ;
attr_list : '[' assignment ( ( ',' | ';' )?  assignment)* ']' ;
assignment : ID '=' ID ;

edge_stmt : ID '-&gt;' ID attr_list? ;

node_stmt : ID attr_list? ;

group : GROUP ID '{' stmt_list '}' ;
zone  : ZONE  ID '{' stmt_list '}' ;

hide: (HIDE | DELETE) (ID | ID '-&gt;' ID);

NODE : 'node' ;
EDGE : 'edge' ;
GROUP: 'group' ;
ZONE : 'zone' ;
HIDE: 'hide' ;
DELETE: 'delete' ;

ID : '\'' (~'\'')* '\'' {this.text = this.text.slice(1, -1)}
   | '&quot;' (~'&quot;')* '&quot;' {this.text = this.text.slice(1, -1)}
   | [a-zA-Z_0-9\-] [a-zA-Z_0-9.\-]*
   ;

SPACES : [ \u000B\t\r\n] -&gt; channel(HIDDEN) ;
</code></pre></div><div id="footer" data-v-4c006914><hr data-v-4c006914> <a href="/furumai/docs/about.html" data-v-4c006914>About</a> <a href="/furumai/docs/gallery.html" data-v-4c006914>Gallery</a> <a href="https://github.com/araiichiro/furumai" data-v-4c006914>GitHub Repository</a></div></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/furumai/docs/assets/js/app.4c461af0.js" defer></script><script src="/furumai/docs/assets/js/10.bf1442ab.js" defer></script><script src="/furumai/docs/assets/js/4.485b3d4b.js" defer></script>
  </body>
</html>
