(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{160:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(157),s=i.__importDefault(r(184));e.Attribute=class{constructor(t,e){this.key=t,this.value=e}};class n{constructor(t,e){this.box=t,this.attrs=e}static of(t){const e=t.reduce((t,e)=>(t[e.key]=e.value,t),{}),{id:r,x:o,y:u,width:h,height:c,margin:l,padding:d}=e,f=i.__rest(e,["id","x","y","width","height","margin","padding"]),p={id:r,x:a(o),y:a(u),width:a(h),height:a(c),margin:s.default.parse(l),padding:s.default.parse(d)};return Object.keys(p).forEach(t=>{void 0===p[t]&&delete p[t]}),new n(p,f)}static fromBox(t){return new n(t,{})}merge(t){return new n(Object.assign(Object.assign({},this.box),t.box),Object.assign(Object.assign({},this.attrs),t.attrs))}}e.Attributes=n,n.empty=n.of([]);function o(t,e){return Object.keys(t).reduce((r,i)=>{const s=t[i];return e(i,s)&&(r[i]=s),r},{})}function a(t){return t?Number(t):void 0}e.ElementAttribute=class{constructor(t,e){this.elementName=t,this.attributes=e}},e.toDict=function(t){return t.reduce((t,e)=>(t[e.elementName]=n.of(e.attributes),t),{})},e.divideAttrs=function(t){const e=o(t,(t,e)=>!t.startsWith("text.")),r={};return Object.keys(t).forEach(e=>{if(e.startsWith("text.")){const i=e.slice("text.".length);r[i]=t[e]}else["y","dx","dy"].indexOf(e)>-1||(r[e]=t[e])}),{shape:e,text:r}},e.filter=o,e.num=a,e.asString=function(t){return Object.keys(t).reduce((e,r)=>(e[r]=t[r].toString(),e),{})}},184:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class i{constructor(t,e,r,i){this.top=t,this.right=e,this.bottom=r,this.left=i}static parse(t){if(t){const e=t.split(" ").map(t=>Number(t));return 4===e.length?i.gap4(e[0],e[1],e[2],e[3]):2===e.length?i.gap2(e[0],e[1]):1===e.length?i.gap1(e[0]):void 0}}static gap1(t){return new i(t,t,t,t)}static gap2(t,e){return new i(t,e,t,e)}static gap4(t,e,r,s){return new i(t,e,r,s)}toString(){return`${this.top} ${this.right} ${this.bottom} ${this.left}`}}e.default=i,i.zero=i.gap1(0)},192:function(t,e,r){"use strict";r.r(e);var i=r(379),s=r(233);for(var n in s)"default"!==n&&function(t){r.d(e,t,function(){return s[t]})}(n);var o=r(0),a=Object(o.a)(s.default,i.a,i.b,!1,null,"3eeb6fa8",null);e.default=a.exports},193:function(t,e,r){"use strict";r.r(e);var i=r(380),s=r(235);for(var n in s)"default"!==n&&function(t){r.d(e,t,function(){return s[t]})}(n);var o=r(0),a=Object(o.a)(s.default,i.a,i.b,!1,null,"c8448f98",null);e.default=a.exports},203:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(160);e.visible=function(t){return t.updateAttributes(new i.Attributes({},{visibility:"visible"}))},e.hide=function(t){return t.updateAttributes(new i.Attributes({},{visibility:"hidden"}))}},204:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(157).__importDefault(r(184));class s{constructor(t,e,r,i,s,n){this.x=t,this.y=e,this.width=r,this.height=i,this.margin=s,this.padding=n}static of(t){const{x:e,y:r,width:n,height:o,margin:a,padding:u}=Object.assign({x:0,y:0,width:0,height:0,margin:i.default.zero,padding:i.default.zero},t);return new s(e,r,n,o,a,u)}get grossArea(){const{x:t,y:e,width:r,height:i}=this,{left:s,right:n,top:o,bottom:a}=this.margin;return{x:t-s,y:e-o,width:s+r+n,height:o+i+a}}get area(){return this}get contentArea(){const{x:t,y:e,width:r,height:i,padding:s}=this;return{x:t+s.left,y:e+s.top,width:r-(s.left+s.right),height:i-(s.top+s.bottom)}}get cx(){return this.x+this.width/2}get cy(){return this.y+this.height/2}inflate(t){const{x:e,y:r,width:i,height:n}=t,{left:o,right:a,top:u,bottom:h}=this.padding;return new s(e-o,r-u,o+i+a,u+n+h,this.margin,this.padding)}calcGrossArea(t,e){const{x:r,y:i}=t,{width:s,height:n}=e,{left:o,right:a,top:u,bottom:h}=this.margin,c=s?{width:s+(o+a)}:{},l=n?{height:n+(u+h)}:{};return Object.assign(Object.assign({x:r-o,y:i-u},c),l)}calcArea(t,e={}){const{x:r,y:i}=t,{width:s,height:n}=e,{left:o,right:a,top:u,bottom:h}=this.margin,c=s?{width:s-(o+a)}:{},l=n?{height:n-(u+h)}:{};return Object.assign(Object.assign({x:r+o,y:i+u},c),l)}calcContentArea(t,e={}){const{x:r,y:i,width:s,height:n}=this.calcArea(t,e),{left:o,right:a,top:u,bottom:h}=this.padding,c=s?{width:s-(o+a)}:{},l=n?{height:n-(u+h)}:{};return Object.assign(Object.assign({x:r+o,y:i+u},c),l)}update(t){return s.of(Object.assign(Object.assign({},this),t))}move(t,e){const{x:r,y:i}=this;return this.update({x:r+t,y:i+e})}}e.Box=s,s.zero=s.of({})},206:function(t,e,r){"use strict";r.r(e);var i=r(207),s=r.n(i);for(var n in i)"default"!==n&&function(t){r.d(e,t,function(){return i[t]})}(n);e.default=s.a},207:function(t,e,r){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0});const s=r(157),n=r(168),o=s.__importDefault(r(282)),a=r(369);let u=i=class extends n.Vue{constructor(){super(...arguments),this.version=-1,this.furumaiData={}}appUrl(t){return`/furumai/#/apps/${t}`}mounted(){if(this.url){const t=this.url.split("/");if(t[0]!==i.codec.formatVersion)throw new Error(`unsupported data format version: ${t[0]}`);{const e=i.codec.decode(t[1]),{version:r}=e,n=s.__rest(e,["version"]);if(!(r&&r>0))throw new Error("app version is not specified");this.version=r,this.furumaiData=n}}}};u.codec=new a.DataEncoderDecoderV1,s.__decorate([n.Prop({default:"no name"})],u.prototype,"filename",void 0),s.__decorate([n.Prop()],u.prototype,"url",void 0),s.__decorate([n.Prop({default:"true"})],u.prototype,"viewCode",void 0),u=i=s.__decorate([n.Component({components:{FurumaiApp1:o.default}})],u),e.default=u},208:function(t,e,r){"use strict";r.r(e);var i=r(209),s=r.n(i);for(var n in i)"default"!==n&&function(t){r.d(e,t,function(){return i[t]})}(n);e.default=s.a},209:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(157),s=r(168),n=r(283),o=i.__importDefault(r(361));let a=class extends s.Vue{constructor(){super(...arguments),this.errors="",this.defaultConfig="group[margin='100 20', padding='20 16'];\nzone[margin='20 150', padding='20 16'];\nnode[margin='24 20', padding='24 16', width=215, height=150, 'stroke-width'=2];\n'font-size'=24;",this.svgs=[]}onRouteChanged(t,e){this.draw(this.furumaiData.code)}pre(t){return t.replace(/</g,"&lt;")}mounted(){const t=this.$refs.editor;t&&t.focus(),this.draw(this.furumaiData.code)}furumai(){this.changeUrl(this.furumaiData)}download(){const t=this.$refs.moments.getElementsByTagName("svg");for(let e=0;e<t.length;e++){const r=t.item(e);if(r){const t='<?xml version="1.0" encoding="UTF-8"?>'+r.outerHTML,i=window.URL.createObjectURL(new Blob([t],{type:"image/svg+xml"})),s=document.createElement("a");s.href=i,s.download=`furumai-${e}.svg`,document.body.appendChild(s),s.click(),document.body.removeChild(s)}}}toSvgOrError(t){try{return n.vue(t,this.defaultConfig)}catch(t){return t}}draw(t){this.errors="";Object.assign({},this.furumaiData.animation);let e=this.toSvgOrError(t);if(e instanceof Error){const t=e.stack||"";this.errors=t}else{if(!this.furumaiData.displayFirstSvg){const[t,...r]=e;e=r.length>0?r:e}this.svgs=e}}};i.__decorate([s.Prop({default:{}})],a.prototype,"furumaiData",void 0),i.__decorate([s.Prop()],a.prototype,"changeUrl",void 0),i.__decorate([s.Prop({default:!0})],a.prototype,"editorMode",void 0),i.__decorate([s.Prop({default:!0})],a.prototype,"viewCode",void 0),i.__decorate([s.Watch("$route")],a.prototype,"onRouteChanged",null),a=i.__decorate([s.Component({components:{SvgComponent:o.default}})],a),e.default=a},228:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class i{constructor(t){this.svgAttrs=t}static of(t){return Object.keys(t).forEach(e=>{const r=t[e];if(!function(t,e){return(s.has(t)||t.startsWith("text.")&&s.has(t.slice("text.".length)))&&(r=e,/^[0-9a-zA-Z\s\-_.,%]*$/.test(r)||/^#[0-9a-fA-F]{3}$/.test(i=r)||/^#[0-9a-fA-F]{6}$/.test(i)||!isNaN(Number(r)));var r,i}(e,r))throw new Error(`Sorry, the attribute is not used for security reason: ${e} => ${r}`)}),new i(t)}}e.SecureSvgAttrs=i;const s=new Set(["cx","cy","d","dx","dy","fill","font-family","font-size","font-stretch","font-style","font-variant","font-weight","fx","fy","height","id","lengthAdjust","markerHeight","markerUnits","markerWidth","method","orient","overline-position","overline-thickness","pathLength","rx","ry","slope","spreadMethod","textLength","underline-position","underline-thickness","viewBox","width","x","y","alignment-baseline","baseline-shift","color","display","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-size-adjust","kerning","letter-spacing","lighting-color","opacity","overflow","pointer-events","shape-rendering","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","stroke","text-anchor","text-decoration","visibility","word-spacing","writing-mode","margin","padding"])},229:function(t,e,r){"use strict";r.r(e);var i=r(230),s=r.n(i);for(var n in i)"default"!==n&&function(t){r.d(e,t,function(){return i[t]})}(n);e.default=s.a},230:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(157),s=r(168),n=i.__importDefault(r(362)),o=r(367);let a=class extends s.Vue{constructor(){super(...arguments),this.roughHtml=""}mounted(){s.Vue.nextTick(()=>this.refresh())}onShapeChanged(t,e){this.roughHtml="",s.Vue.nextTick(()=>this.refresh())}refresh(){const t=this.$refs.svgContainer.firstElementChild,e=o.convertSvg(t);this.roughHtml=e.innerHTML}};i.__decorate([s.Prop()],a.prototype,"shape",void 0),i.__decorate([s.Prop()],a.prototype,"rough",void 0),i.__decorate([s.Watch("shape")],a.prototype,"onShapeChanged",null),a=i.__decorate([s.Component({components:{Group:n.default}})],a),e.default=a},231:function(t,e,r){"use strict";r.r(e);var i=r(232),s=r.n(i);for(var n in i)"default"!==n&&function(t){r.d(e,t,function(){return i[t]})}(n);e.default=s.a},232:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(157),s=r(168),n=i.__importDefault(r(192)),o=i.__importDefault(r(193)),a=i.__importDefault(r(363)),u=i.__importDefault(r(364)),h=i.__importDefault(r(365)),c=i.__importDefault(r(366));let l=class extends s.Vue{get childGroups(){return this.g.children.filter(t=>"group"===t.type).map(t=>t)}get boxes(){return this.g.children.filter(t=>"box"===t.type)}get cylinders(){return this.g.children.filter(t=>"cylinder"===t.type)}get persons(){return this.g.children.filter(t=>"person"===t.type)}get arrows(){return this.g.children.filter(t=>"arrow"===t.type)}get attrs(){return Object.assign({fill:"none",stroke:"black"},this.g.svgAttrs.svgAttrs)}};i.__decorate([s.Prop()],l.prototype,"g",void 0),l=i.__decorate([s.Component({name:"Group",components:{Person:u.default,Cylinder:a.default,TextContent:o.default,GridArea:n.default,Box:h.default,Arrow:c.default}})],l),e.default=l},233:function(t,e,r){"use strict";r.r(e);var i=r(234),s=r.n(i);for(var n in i)"default"!==n&&function(t){r.d(e,t,function(){return i[t]})}(n);e.default=s.a},234:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(157),s=r(168);let n=class extends s.Vue{get attrs(){const{x:t,y:e,width:r,height:i,margin:s}=this.box;return{fill:"none",stroke:"none",visibility:"hidden",x:t-s.left,y:e-s.top,width:s.left+r+s.right,height:s.top+i+s.bottom}}};i.__decorate([s.Prop()],n.prototype,"box",void 0),n=i.__decorate([s.Component],n),e.default=n},235:function(t,e,r){"use strict";r.r(e);var i=r(236),s=r.n(i);for(var n in i)"default"!==n&&function(t){r.d(e,t,function(){return i[t]})}(n);e.default=s.a},236:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(157),s=r(168),n=r(160);let o=class extends s.Vue{get dxy(){const{dx:t,dy:e}=this.attrs;return{x:n.num(t)||0,y:n.num(e)||0}}get texts(){const t=this.content.label,e=this.content.t,r=t?e?t+"\\n"+e:t:e||"";return r?r.split("\\n"):[]}};i.__decorate([s.Prop()],o.prototype,"content",void 0),i.__decorate([s.Prop({default:{x:0,y:0}})],o.prototype,"position",void 0),i.__decorate([s.Prop()],o.prototype,"attrs",void 0),o=i.__decorate([s.Component],o),e.default=o},237:function(t,e,r){"use strict";r.r(e);var i=r(238),s=r.n(i);for(var n in i)"default"!==n&&function(t){r.d(e,t,function(){return i[t]})}(n);e.default=s.a},238:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(157),s=r(168),n=i.__importDefault(r(192)),o=i.__importDefault(r(193)),a=r(160);let u=class extends s.Vue{get attrs(){const{shape:t,text:e}=a.divideAttrs(this.shape.svgAttrs.svgAttrs);return{shape:Object.assign({fill:"none",stroke:"black"},t),text:Object.assign({},e)}}get textPosition(){const{x:t,y:e,padding:r}=this.shape.box;return{x:t+r.left,y:e+r.top}}get d(){const t=this.shape.box,e=t.cx,r=t.cy,{width:i,height:s}=t,n=8+1.2*i/20,o=e-i/2,a=e+i/2,u=r-s/2,h=u-n,c=u+n,l=r+s/2,d=l+n;return`M ${a},${u}\nC ${a},${c}\n  ${o},${c}\n  ${o},${u}\nM ${a},${u}\nC ${a},${h}\n  ${o},${h}\n  ${o},${u}\nM ${a},${u}\nL ${a},${l}\nC ${a},${d}\n  ${o},${d}\n  ${o},${l}\nL ${o},${u}`}};i.__decorate([s.Prop()],u.prototype,"shape",void 0),u=i.__decorate([s.Component({components:{TextContent:o.default,GridArea:n.default}})],u),e.default=u},239:function(t,e,r){"use strict";r.r(e);var i=r(240),s=r.n(i);for(var n in i)"default"!==n&&function(t){r.d(e,t,function(){return i[t]})}(n);e.default=s.a},240:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(157),s=r(168),n=i.__importDefault(r(192)),o=i.__importDefault(r(193)),a=r(160);let u=class extends s.Vue{get attrs(){const{shape:t,text:e}=a.divideAttrs(this.shape.svgAttrs.svgAttrs);return{shape:Object.assign({fill:"none",stroke:"black"},t),text:Object.assign({"text-anchor":"middle"},e)}}get textPosition(){const{x:t,y:e,width:r}=this.shape.box;return{x:t+r/2,y:e-32}}get d(){const t=this.shape.box,{x:e,y:r,width:i,height:s}=t;return this.person(e+i/4,r,i/2,s)}person(t,e,r,i){const s=this.shape.box.cx,n=t+r,o=e+i,a=i/5,u=s-a,h=s+a,c=e-a/3,l=e+a,d=e+2*a+a/3,f=e+3*a,p=4*a+e;return`M ${u},${l}\nC ${u},${d}\n${h},${d}\n${h},${l}\nM ${u},${l}\nC ${u},${c}\n${h},${c}\n${h},${l}\nM${s},${e+2*a}\nL${s},${p}\nM${t},${f}\nL${n},${f}\nM${s},${p}\nL${t},${o}\nM${s},${p}\nL${n},${o}`}};i.__decorate([s.Prop()],u.prototype,"shape",void 0),u=i.__decorate([s.Component({components:{TextContent:o.default,GridArea:n.default}})],u),e.default=u},241:function(t,e,r){"use strict";r.r(e);var i=r(242),s=r.n(i);for(var n in i)"default"!==n&&function(t){r.d(e,t,function(){return i[t]})}(n);e.default=s.a},242:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(157),s=r(168),n=i.__importDefault(r(192)),o=i.__importDefault(r(193)),a=r(160);let u=class extends s.Vue{get attrs(){const{shape:t,text:e}=a.divideAttrs(this.shape.svgAttrs.svgAttrs),{x:r,y:i,width:s,height:n,margin:o,padding:u}=a.asString(this.shape.box);return{shape:Object.assign({id:`_rect_${this.shape.id}`,fill:"none",stroke:"black",x:r,y:i,width:s,height:n,margin:o,padding:u},t),text:Object.assign({},e)}}get textPosition(){const{x:t,y:e,padding:r}=this.shape.box;return{x:t+r.left,y:e+r.top}}};i.__decorate([s.Prop()],u.prototype,"shape",void 0),u=i.__decorate([s.Component({components:{TextContent:o.default,GridArea:n.default}})],u),e.default=u},243:function(t,e,r){"use strict";r.r(e);var i=r(244),s=r.n(i);for(var n in i)"default"!==n&&function(t){r.d(e,t,function(){return i[t]})}(n);e.default=s.a},244:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(157),s=r(168),n=i.__importDefault(r(192)),o=r(276),a=i.__importDefault(r(193)),u=r(160);let h=class extends s.Vue{constructor(){super(...arguments),this.defaults={arrow:{width:2,head:{size:26,degree:27}}}}get textPosition(){const{x1:t,y1:e,x2:r,y2:i}=this.xy;let s=new o.Vector2d(t,e,r,i).normalize();const n=((s=(s=s.dy>0?s.rotate(-90):s.rotate(90)).multiple(24)).dy,-15);let a=new o.Vector2d(t,e,r,i);const u=a.dx/a.length,h=a.multiple(u),c=Math.abs(u)>.98?h.multiple(.35):h.multiple(.1),l=this.shape.box;return{x:l.cx+s.dx-c.dx,y:l.cy+s.dy+n-c.dy}}get xy(){const{x:t,y:e,width:r,height:i}=this.shape.box;return{x1:t,y1:e,x2:t+r,y2:e+i}}get d(){const{x1:t,y1:e,x2:r,y2:i}=this.xy;function s(s,n){return new o.Vector2d(t,e,r,i).normalize().multiple(n).rotate(s).negate().move(r,i)}const n=this.defaults.arrow.head.degree,a=this.defaults.arrow.head.size,u=s(n,a),h=s(-n,a);return`M ${t} ${e}\nL ${r} ${i}\nM ${u.x2} ${u.y2}\nL ${r} ${i}\nM ${h.x2} ${h.y2}\nL ${r} ${i}`}get attrs(){const{shape:t,text:e}=u.divideAttrs(this.shape.svgAttrs.svgAttrs),r=this.defaults.arrow.width;return{shape:Object.assign({stroke:"black","stroke-width":`${r}`},t),text:Object.assign({},e)}}};i.__decorate([s.Prop()],h.prototype,"shape",void 0),h=i.__decorate([s.Component({components:{TextContent:a.default,GridArea:n.default}})],h),e.default=h},245:function(t,e,r){},246:function(t,e,r){},275:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(353),s=r(203),n=r(160);class o{constructor(t,e,r,i=n.Attributes.empty){this.id=t,this.tailId=e,this.headId=r,this.attrs=i}static of(t,e,r,i=n.Attributes.empty){return new o(this.idOf(t,r),t,r,i)}static idOf(t,e){return`_edge_${t}_to_${e}`}static find(t){}setup(t){const e=t.findGridArea(this.tailId),r=t.findGridArea(this.headId);s.visible(e),s.visible(r);const n=t.findOverlay(this.id);if(n)return n.updateAttributes(this.attrs);{const e=t.lookupAttributes("edge").merge(this.attrs);return new i.EdgeOverlay(this.id,this.tailId,this.headId,e.attrs)}}}e.Edge=o},276:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class i{constructor(t,e,r,i){this.x1=t,this.y1=e,this.x2=r,this.y2=i}get length(){return Math.sqrt(Math.pow(this.dx,2)+Math.pow(this.dy,2))}get dx(){return this.x2-this.x1}get dy(){return this.y2-this.y1}rotate(t){const e=this.x1,r=this.y1,n=t*Math.PI/180;const o={real:Math.cos(n),imaginary:Math.sin(n)},a=s({real:this.dx,imaginary:this.dy},o);return new i(e,r,e+a.real,r+a.imaginary)}negate(){const t=this.x1,e=this.y1;return new i(t,e,t-this.dx,e-this.dy)}reverse(){return new i(this.x2,this.y2,this.x1,this.y1)}move(t,e){return new i(this.x1+t,this.y1+e,this.x2+t,this.y2+e)}normalize(){const t=this.length;return new i(0,0,this.dx/t,this.dy/t)}multiple(t){const e=this.x1,r=this.y1;return new i(e,r,e+this.dx*t,r+this.dy*t)}}function s(t,e){return{real:t.real*e.real-t.imaginary*e.imaginary,imaginary:t.real*e.imaginary+t.imaginary*e.real}}e.Vector2d=i,e.multiply=s},277:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(157),s=r(278),n=r(228);class o{constructor(t,e,r,i=[]){this.id=t,this.attrs=e,this.elem=r,this.overlays=i}get get(){return this.elem}updateAttributes(t){return this.attrs=Object.assign(Object.assign({},this.attrs),t.attrs),this.elem=this.elem.withBox(t.box),this}find(t){if(this.id===t)return this;{const e=[...this.elem.children.map(e=>e.find(t)),...this.overlays.map(e=>e.id===t?e:void 0)].filter(t=>t);return 1===e.length?e[0]:void 0}}map(t){return new o(this.id,this.attrs,t(this.elem),this.overlays)}append(t){return t instanceof o||t instanceof s.GridCell?new o(this.id,this.attrs,this.elem.append(t),this.overlays):new o(this.id,this.attrs,this.elem,[t,...this.overlays])}vue(){const t=this.elem.box,e=this.attrs,{t:r}=e,s=i.__rest(e,["t"]),o=this.elem.children.map(t=>t.vue()),a=this.overlays.map(t=>t.vue(this)),u={label:this.id,t:r};return{type:"group",id:this.id,box:t,text:u,svgAttrs:n.SecureSvgAttrs.of(s),children:o.concat(a)}}}e.Container=o},278:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(157),s=r(356),n=r(228),o=r(160);class a{constructor(t,e,r){this.id=t,this.cell=e,this.attrs=r}static of(t,e,r){return new a(t,new s.Cell(e),r)}get get(){return this.cell}updateAttributes(t){return this.attrs=Object.assign(Object.assign({},this.attrs),t.attrs),this.cell=this.cell.withBox(t.box),this}find(t){return this.id===t?this:void 0}map(t){const e=this.attrs,{dx:r,dy:s}=e,n=i.__rest(e,["dx","dy"]),u=t(this.cell),h=u.box.move(o.num(r)||0,o.num(s)||0);return new a(this.id,u.withBox(h),n)}vue(){const t=this.attrs,{shape:e,label:r,t:s}=t,o=i.__rest(t,["shape","label","t"]),a=e||"box",u={label:r||this.id,t:s},h=n.SecureSvgAttrs.of(o);return{type:a,id:this.id,box:this.cell.box,text:u,svgAttrs:h}}}e.GridCell=a},279:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(157).__importDefault(r(184));class s{constructor(t,e){this.children=t,this.box=e}fit(t,e={}){const r=this.box.contentArea,n=this.box.calcContentArea(t,e),{x:o,y:a,width:u,height:h}=n;let c=a;const l=h?i.default.gap2((h-r.height)/(2*this.children.length),0):i.default.zero,d=u?{width:u}:{},f=h?{height:r.height/this.children.length}:{},p=[];for(const t of this.children){c+=l.top;const e=t.map(t=>t.fit({x:o,y:c},Object.assign(Object.assign({},d),f)));p.push(e),c+=e.get.box.grossArea.height,c+=l.bottom}const _=Math.max(...p.map(t=>t.get.box.grossArea.width)),g={x:o,y:a,width:_,height:c-a};return new s(p,this.box.inflate(g))}withBox(t){return new s(this.children,this.box.update(t))}append(t){return new s([...this.children,t],this.box)}}e.Portrait=s},280:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(157),s=r(277),n=r(359),o=r(360),a=r(160),u=r(279),h=r(204);e.Story=class{constructor(t){this.ss=t}get mode(){const t=a.Attributes.of(this.ss[0].attributes).attrs,{config:e}=t,r=i.__rest(t,["config"]),s={};return(e||"").split(",").forEach(t=>{const e=t.split("=");s[e[0]]=e[1]}),Object.assign(Object.assign({mode:"_",align:"_"},s),r)}play(t){const{mode:e,align:r}=this.mode,[i,...s]=this.ss.map(t=>n.Frame.of(t.blocks,t.attributes,t.childAttributes));return t.push(i),new l(new c(t,s.values(),"diff"===e),"center"===r)}baseFrames(){return this.ss.map(t=>n.Frame.of(t.blocks,t.attributes,t.childAttributes))}};class c{constructor(t,e,r){this.boot=t,this.frames=e,this.diffMode=r,this.last=void 0}next(){if(this.last){const t=this.frames.next();if(t.done)return t;{const e=t.value,r=this.diffMode?this.last:this.initEnv();return this.last=e.setup(r),{done:!1,value:this.last}}}return this.last=this.initEnv(),{done:!1,value:this.last}}[Symbol.iterator](){return this}initEnv(){const t=o.Env.of(new s.Container("_init",{},new u.Portrait([],h.Box.zero)),{});return this.boot.reduce((t,e)=>e.setup(t),t)}}class l{constructor(t,e){this.it=t,this.centerAlign=e}next(){const t=this.it.next();if(t.done)return t;{const e=t.value.container.map(t=>t.fit({x:0,y:0})),r=this.centerAlign?e.map(t=>t.fit({x:0,y:0},{width:e.get.box.width})):e;return{done:t.done,value:r}}}[Symbol.iterator](){return this}}},282:function(t,e,r){"use strict";r.r(e);var i=r(384),s=r(208);for(var n in s)"default"!==n&&function(t){r.d(e,t,function(){return s[t]})}(n);r(368);var o=r(0),a=Object(o.a)(s.default,i.a,i.b,!1,null,null,null);e.default=a.exports},283:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(284),s=r(280);e.vue=function(t,e){const r=i.parse(t);if(r instanceof s.Story){const t=i.parse(e).baseFrames(),s=[];for(const e of r.play(t))s.push(e.vue());return s}return r}},284:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(285),s=r(349),n=r(350),o=r(351),a=r(352),u=r(275),h=r(355),c=r(358),l=r(280),d=r(160);e.parse=function(t){const e=i.CharStreams.fromString(t),r=new f,o=new s.FurumaiLexer(e);o.removeErrorListeners(),o.addErrorListener(r);const a=new i.CommonTokenStream(o),u=new n.FurumaiParser(a);u.removeErrorListeners(),u.addErrorListener(r);const h=u.story();return r.errors.length>0?new SyntaxError(JSON.stringify(r.errors)):(new p).visit(h)};class f{constructor(){this.errors=[]}syntaxError(t,e,r,i,s,n){const o={message:s,range:{at:{column:i,row:r}}};this.errors.push(o)}}class p{static isBuildingBlock(t){return t instanceof h.Compound||t instanceof c.Node||t instanceof u.Edge||t instanceof o.HideBlock||t instanceof a.HideEdge}visitStory(t){if(t.EOF()){const e=t.moment().map(t=>this.visit(t));return new l.Story(e)}throw new SyntaxError("invalid input statement syntax")}visitMoment(t){return this.visit(t.stmt_list())}visitStmt_list(t){const e=t.stmt().map(t=>this.visit(t)),r=[],i=[],s=[];return e.forEach(t=>{if(p.isBuildingBlock(t))r.push(t);else if(t instanceof d.ElementAttribute)i.push(t);else{if(!(t instanceof d.Attribute))throw new Error("not implemented: "+JSON.stringify(t));s.push(t)}}),{blocks:r,attributes:s,childAttributes:i}}visitStmt(t){const e=t.node_stmt()||t.edge_stmt()||t.attr_stmt()||t.assignment()||t.zone()||t.group()||t.hide();if(e)return this.visit(e);throw new Error("not implemented")}visitAttr_stmt(t){const e=t.GROUP()||t.NODE()||t.EDGE()||t.ZONE(),r=t.attr_list(),i=r?this.visit(r):[];if(e)return new d.ElementAttribute(e.text,i);throw new Error("internal error: invalid state (parse)")}visitAttr_list(t){return t.assignment().map(t=>this.visit(t))}visitAssignment(t){const e=t.ID().map(t=>t.text);return new d.Attribute(e[0],e[1])}visitEdge_stmt(t){const e=t.ID().map(t=>t.text),r=t.attr_list();if(r){const t=this.visit(r);return u.Edge.of(e[0],"->",e[1],d.Attributes.of(t))}return u.Edge.of(e[0],"->",e[1])}visitNode_stmt(t){const e=t.attr_list();if(e){const r=this.visit(e);return new c.Node(t.ID().text,d.Attributes.of(r))}return new c.Node(t.ID().text)}visitGroup(t){const e=t.stmt_list();if(e){const r=this.visit(e),i=d.Attributes.of(r.attributes),s=d.toDict(r.childAttributes);return new h.Compound(t.ID().text,"group",r.blocks,i,s)}return new h.Compound(t.ID().text,"group")}visitZone(t){const e=t.stmt_list();if(e){const r=this.visit(e),i=d.Attributes.of(r.attributes),s=d.toDict(r.childAttributes);return new h.Compound(t.ID().text,"zone",r.blocks,i,s)}return new h.Compound(t.ID().text,"zone")}visitHide(t){const e=t.ID().map(t=>t.text);if(1===e.length)return new o.HideBlock(e[0]);if(2===e.length)return new a.HideEdge(e[0],e[1]);throw new Error("not implemented")}visit(t){return t.accept(this)}visitChildren(t){let e;const r=t.childCount;for(let i=0;i<r;i++){e=t.getChild(i).accept(this)}return e}visitErrorNode(t){}visitTerminal(t){}}},349:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(157),s=r(201),n=r(174),o=r(196),a=r(176),u=i.__importStar(r(166));class h extends n.Lexer{constructor(t){super(t),this._interp=new o.LexerATNSimulator(h._ATN,this)}get vocabulary(){return h.VOCABULARY}get grammarFileName(){return"Furumai.g4"}get ruleNames(){return h.ruleNames}get serializedATN(){return h._serializedATN}get channelNames(){return h.channelNames}get modeNames(){return h.modeNames}action(t,e,r){switch(e){case 15:this.ID_action(t,r)}}ID_action(t,e){switch(e){case 0:case 1:this.text=this.text.slice(1,-1)}}static get _ATN(){return h.__ATN||(h.__ATN=(new s.ATNDeserializer).deserialize(u.toCharArray(h._serializedATN))),h.__ATN}}e.FurumaiLexer=h,h.T__0=1,h.T__1=2,h.T__2=3,h.T__3=4,h.T__4=5,h.T__5=6,h.T__6=7,h.T__7=8,h.T__8=9,h.NODE=10,h.EDGE=11,h.GROUP=12,h.ZONE=13,h.HIDE=14,h.DELETE=15,h.ID=16,h.SPACES=17,h.channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"],h.modeNames=["DEFAULT_MODE"],h.ruleNames=["T__0","T__1","T__2","T__3","T__4","T__5","T__6","T__7","T__8","NODE","EDGE","GROUP","ZONE","HIDE","DELETE","ID","SPACES"],h._LITERAL_NAMES=[void 0,"'---'","';'","'['","','","']'","'='","'->'","'{'","'}'","'node'","'edge'","'group'","'zone'","'hide'","'delete'"],h._SYMBOLIC_NAMES=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"NODE","EDGE","GROUP","ZONE","HIDE","DELETE","ID","SPACES"],h.VOCABULARY=new a.VocabularyImpl(h._LITERAL_NAMES,h._SYMBOLIC_NAMES,[]),h._serializedATN='줝쪺֍꾺体؇쉁z\b\t\t\t\t\t\t\b\t\b\t\t\t\n\t\n\v\t\v\f\t\f\r\t\r\t\t\t\t\t\b\b\b\t\t\n\n\v\v\v\v\v\f\f\f\f\f\r\r\r\r\r\r^\n\fa\vg\n\fj\vp\n\fs\vu\n\t\v\r\b\t\n\v\f\r!#))$$//2;C\\aac|/02;C\\aac|\v\r""~\t\v\r!#%)+\t-\v/\r1368:?DJOT!t#v%&/&\'/\'(/()*=*+,],\b-...\n/0_0\f12?234/45@567}7899:;p;<q<=f=>g>?@g@AfABiBCgCDEiEFtFGqGHwHIrIJK|KLqLMpMNgNOPjPQkQRfRSgSTUfUVgVWnWXgXYvYZgZ [_)\\^\n]\\^a_]_``ba_bc)cu\bdh$eg\nfegjhfhiikjhkl$lu\bmq\tnp\tonpsqoqrrusqt[tdtmu"vw\twxxy\by$_hqt'},350:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(157),s=r(167),n=r(201),o=r(189),a=r(164),u=r(190),h=r(171),c=r(156),l=r(176),d=i.__importStar(r(166));class f extends o.Parser{constructor(t){super(t),this._interp=new u.ParserATNSimulator(f._ATN,this)}get vocabulary(){return f.VOCABULARY}get grammarFileName(){return"Furumai.g4"}get ruleNames(){return f.ruleNames}get serializedATN(){return f._serializedATN}story(){let t,e=new p(this._ctx,this.state);this.enterRule(e,0,f.RULE_story);try{let r;for(this.enterOuterAlt(e,1),this.state=24,this.moment(),this.state=29,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,0,this._ctx);2!==r&&r!==s.ATN.INVALID_ALT_NUMBER;)1===r&&(this.state=25,this.match(f.T__0),this.state=26,this.moment()),this.state=31,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,0,this._ctx);this.state=33,this._errHandler.sync(this),(t=this._input.LA(1))===f.T__0&&(this.state=32,this.match(f.T__0)),this.state=35,this.match(f.EOF)}catch(t){if(!(t instanceof h.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}moment(){let t=new _(this._ctx,this.state);this.enterRule(t,2,f.RULE_moment);try{this.enterOuterAlt(t,1),this.state=37,this.stmt_list()}catch(e){if(!(e instanceof h.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}stmt_list(){let t,e=new g(this._ctx,this.state);this.enterRule(e,4,f.RULE_stmt_list);try{let r;for(this.enterOuterAlt(e,1),this.state=39,this.stmt(),this.state=44,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,2,this._ctx);2!==r&&r!==s.ATN.INVALID_ALT_NUMBER;)1===r&&(this.state=40,this.match(f.T__1),this.state=41,this.stmt()),this.state=46,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,2,this._ctx);this.state=48,this._errHandler.sync(this),(t=this._input.LA(1))===f.T__1&&(this.state=47,this.match(f.T__1))}catch(t){if(!(t instanceof h.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}stmt(){let t=new m(this._ctx,this.state);this.enterRule(t,6,f.RULE_stmt);try{switch(this.state=57,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,4,this._ctx)){case 1:this.enterOuterAlt(t,1),this.state=50,this.node_stmt();break;case 2:this.enterOuterAlt(t,2),this.state=51,this.edge_stmt();break;case 3:this.enterOuterAlt(t,3),this.state=52,this.attr_stmt();break;case 4:this.enterOuterAlt(t,4),this.state=53,this.assignment();break;case 5:this.enterOuterAlt(t,5),this.state=54,this.group();break;case 6:this.enterOuterAlt(t,6),this.state=55,this.zone();break;case 7:this.enterOuterAlt(t,7),this.state=56,this.hide()}}catch(e){if(!(e instanceof h.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}attr_stmt(){let t,e=new v(this._ctx,this.state);this.enterRule(e,8,f.RULE_attr_stmt);try{this.enterOuterAlt(e,1),this.state=59,0!=(-32&(t=this._input.LA(1)))||0==(1<<t&(1<<f.NODE|1<<f.EDGE|1<<f.GROUP|1<<f.ZONE))?this._errHandler.recoverInline(this):(this._input.LA(1)===c.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()),this.state=60,this.attr_list()}catch(t){if(!(t instanceof h.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}attr_list(){let t,e=new x(this._ctx,this.state);this.enterRule(e,10,f.RULE_attr_list);try{for(this.enterOuterAlt(e,1),this.state=62,this.match(f.T__2),this.state=63,this.assignment(),this.state=70,this._errHandler.sync(this),t=this._input.LA(1);0==(-32&t)&&0!=(1<<t&(1<<f.T__1|1<<f.T__3|1<<f.ID));)this.state=65,this._errHandler.sync(this),(t=this._input.LA(1))!==f.T__1&&t!==f.T__3||(this.state=64,(t=this._input.LA(1))!==f.T__1&&t!==f.T__3?this._errHandler.recoverInline(this):(this._input.LA(1)===c.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume())),this.state=67,this.assignment(),this.state=72,this._errHandler.sync(this),t=this._input.LA(1);this.state=73,this.match(f.T__4)}catch(t){if(!(t instanceof h.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}assignment(){let t=new y(this._ctx,this.state);this.enterRule(t,12,f.RULE_assignment);try{this.enterOuterAlt(t,1),this.state=75,this.match(f.ID),this.state=76,this.match(f.T__5),this.state=77,this.match(f.ID)}catch(e){if(!(e instanceof h.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}edge_stmt(){let t,e=new b(this._ctx,this.state);this.enterRule(e,14,f.RULE_edge_stmt);try{this.enterOuterAlt(e,1),this.state=79,this.match(f.ID),this.state=80,this.match(f.T__6),this.state=81,this.match(f.ID),this.state=83,this._errHandler.sync(this),(t=this._input.LA(1))===f.T__2&&(this.state=82,this.attr_list())}catch(t){if(!(t instanceof h.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}node_stmt(){let t,e=new w(this._ctx,this.state);this.enterRule(e,16,f.RULE_node_stmt);try{this.enterOuterAlt(e,1),this.state=85,this.match(f.ID),this.state=87,this._errHandler.sync(this),(t=this._input.LA(1))===f.T__2&&(this.state=86,this.attr_list())}catch(t){if(!(t instanceof h.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}group(){let t=new E(this._ctx,this.state);this.enterRule(t,18,f.RULE_group);try{this.enterOuterAlt(t,1),this.state=89,this.match(f.GROUP),this.state=90,this.match(f.ID),this.state=91,this.match(f.T__7),this.state=92,this.stmt_list(),this.state=93,this.match(f.T__8)}catch(e){if(!(e instanceof h.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}zone(){let t=new A(this._ctx,this.state);this.enterRule(t,20,f.RULE_zone);try{this.enterOuterAlt(t,1),this.state=95,this.match(f.ZONE),this.state=96,this.match(f.ID),this.state=97,this.match(f.T__7),this.state=98,this.stmt_list(),this.state=99,this.match(f.T__8)}catch(e){if(!(e instanceof h.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}hide(){let t,e=new O(this._ctx,this.state);this.enterRule(e,22,f.RULE_hide);try{switch(this.enterOuterAlt(e,1),this.state=101,(t=this._input.LA(1))!==f.HIDE&&t!==f.DELETE?this._errHandler.recoverInline(this):(this._input.LA(1)===c.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()),this.state=106,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,9,this._ctx)){case 1:this.state=102,this.match(f.ID);break;case 2:this.state=103,this.match(f.ID),this.state=104,this.match(f.T__6),this.state=105,this.match(f.ID)}}catch(t){if(!(t instanceof h.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}static get _ATN(){return f.__ATN||(f.__ATN=(new n.ATNDeserializer).deserialize(d.toCharArray(f._serializedATN))),f.__ATN}}e.FurumaiParser=f,f.T__0=1,f.T__1=2,f.T__2=3,f.T__3=4,f.T__4=5,f.T__5=6,f.T__6=7,f.T__7=8,f.T__8=9,f.NODE=10,f.EDGE=11,f.GROUP=12,f.ZONE=13,f.HIDE=14,f.DELETE=15,f.ID=16,f.SPACES=17,f.RULE_story=0,f.RULE_moment=1,f.RULE_stmt_list=2,f.RULE_stmt=3,f.RULE_attr_stmt=4,f.RULE_attr_list=5,f.RULE_assignment=6,f.RULE_edge_stmt=7,f.RULE_node_stmt=8,f.RULE_group=9,f.RULE_zone=10,f.RULE_hide=11,f.ruleNames=["story","moment","stmt_list","stmt","attr_stmt","attr_list","assignment","edge_stmt","node_stmt","group","zone","hide"],f._LITERAL_NAMES=[void 0,"'---'","';'","'['","','","']'","'='","'->'","'{'","'}'","'node'","'edge'","'group'","'zone'","'hide'","'delete'"],f._SYMBOLIC_NAMES=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"NODE","EDGE","GROUP","ZONE","HIDE","DELETE","ID","SPACES"],f.VOCABULARY=new l.VocabularyImpl(f._LITERAL_NAMES,f._SYMBOLIC_NAMES,[]),f._serializedATN="줝쪺֍꾺体؇쉁o\t\t\t\t\t\t\b\t\b\t\t\t\n\t\n\v\t\v\f\t\f\r\t\r\n\f!\v$\n-\n\f0\v3\n<\nD\nG\n\fJ\v\b\b\b\b\t\t\t\t\tV\n\t\n\n\nZ\n\n\v\v\v\v\v\v\f\f\f\f\f\f\r\r\r\r\r\rm\n\r\r\b\n\f\fq')\b;\n=\f@MQW[ag!  #!\"$#\"#$$%%&&'(().\b*++-\b,*-0.,.//20.13212334<\n5<\t6<\n7<\b8<\v9<\f:<\r;4;5;6;7;8;9;:<\t=>\t>?\f?\v@AAH\bBD\tCBCDDEEG\bFCGJHFHIIKJHKLL\rMNNO\bOPPQRRS\tSUTV\fUTUVVWYXZ\fYXYZZ[\\\\]]^\n^__`\v`abbccd\ndeef\vfgl\thmijjk\tkmlhlim\f#.2;CHUYl";class p extends a.ParserRuleContext{moment(t){return void 0===t?this.getRuleContexts(_):this.getRuleContext(t,_)}EOF(){return this.getToken(f.EOF,0)}constructor(t,e){super(t,e)}get ruleIndex(){return f.RULE_story}enterRule(t){t.enterStory&&t.enterStory(this)}exitRule(t){t.exitStory&&t.exitStory(this)}accept(t){return t.visitStory?t.visitStory(this):t.visitChildren(this)}}e.StoryContext=p;class _ extends a.ParserRuleContext{stmt_list(){return this.getRuleContext(0,g)}constructor(t,e){super(t,e)}get ruleIndex(){return f.RULE_moment}enterRule(t){t.enterMoment&&t.enterMoment(this)}exitRule(t){t.exitMoment&&t.exitMoment(this)}accept(t){return t.visitMoment?t.visitMoment(this):t.visitChildren(this)}}e.MomentContext=_;class g extends a.ParserRuleContext{stmt(t){return void 0===t?this.getRuleContexts(m):this.getRuleContext(t,m)}constructor(t,e){super(t,e)}get ruleIndex(){return f.RULE_stmt_list}enterRule(t){t.enterStmt_list&&t.enterStmt_list(this)}exitRule(t){t.exitStmt_list&&t.exitStmt_list(this)}accept(t){return t.visitStmt_list?t.visitStmt_list(this):t.visitChildren(this)}}e.Stmt_listContext=g;class m extends a.ParserRuleContext{node_stmt(){return this.tryGetRuleContext(0,w)}edge_stmt(){return this.tryGetRuleContext(0,b)}attr_stmt(){return this.tryGetRuleContext(0,v)}assignment(){return this.tryGetRuleContext(0,y)}group(){return this.tryGetRuleContext(0,E)}zone(){return this.tryGetRuleContext(0,A)}hide(){return this.tryGetRuleContext(0,O)}constructor(t,e){super(t,e)}get ruleIndex(){return f.RULE_stmt}enterRule(t){t.enterStmt&&t.enterStmt(this)}exitRule(t){t.exitStmt&&t.exitStmt(this)}accept(t){return t.visitStmt?t.visitStmt(this):t.visitChildren(this)}}e.StmtContext=m;class v extends a.ParserRuleContext{attr_list(){return this.getRuleContext(0,x)}GROUP(){return this.tryGetToken(f.GROUP,0)}NODE(){return this.tryGetToken(f.NODE,0)}EDGE(){return this.tryGetToken(f.EDGE,0)}ZONE(){return this.tryGetToken(f.ZONE,0)}constructor(t,e){super(t,e)}get ruleIndex(){return f.RULE_attr_stmt}enterRule(t){t.enterAttr_stmt&&t.enterAttr_stmt(this)}exitRule(t){t.exitAttr_stmt&&t.exitAttr_stmt(this)}accept(t){return t.visitAttr_stmt?t.visitAttr_stmt(this):t.visitChildren(this)}}e.Attr_stmtContext=v;class x extends a.ParserRuleContext{assignment(t){return void 0===t?this.getRuleContexts(y):this.getRuleContext(t,y)}constructor(t,e){super(t,e)}get ruleIndex(){return f.RULE_attr_list}enterRule(t){t.enterAttr_list&&t.enterAttr_list(this)}exitRule(t){t.exitAttr_list&&t.exitAttr_list(this)}accept(t){return t.visitAttr_list?t.visitAttr_list(this):t.visitChildren(this)}}e.Attr_listContext=x;class y extends a.ParserRuleContext{ID(t){return void 0===t?this.getTokens(f.ID):this.getToken(f.ID,t)}constructor(t,e){super(t,e)}get ruleIndex(){return f.RULE_assignment}enterRule(t){t.enterAssignment&&t.enterAssignment(this)}exitRule(t){t.exitAssignment&&t.exitAssignment(this)}accept(t){return t.visitAssignment?t.visitAssignment(this):t.visitChildren(this)}}e.AssignmentContext=y;class b extends a.ParserRuleContext{ID(t){return void 0===t?this.getTokens(f.ID):this.getToken(f.ID,t)}attr_list(){return this.tryGetRuleContext(0,x)}constructor(t,e){super(t,e)}get ruleIndex(){return f.RULE_edge_stmt}enterRule(t){t.enterEdge_stmt&&t.enterEdge_stmt(this)}exitRule(t){t.exitEdge_stmt&&t.exitEdge_stmt(this)}accept(t){return t.visitEdge_stmt?t.visitEdge_stmt(this):t.visitChildren(this)}}e.Edge_stmtContext=b;class w extends a.ParserRuleContext{ID(){return this.getToken(f.ID,0)}attr_list(){return this.tryGetRuleContext(0,x)}constructor(t,e){super(t,e)}get ruleIndex(){return f.RULE_node_stmt}enterRule(t){t.enterNode_stmt&&t.enterNode_stmt(this)}exitRule(t){t.exitNode_stmt&&t.exitNode_stmt(this)}accept(t){return t.visitNode_stmt?t.visitNode_stmt(this):t.visitChildren(this)}}e.Node_stmtContext=w;class E extends a.ParserRuleContext{GROUP(){return this.getToken(f.GROUP,0)}ID(){return this.getToken(f.ID,0)}stmt_list(){return this.getRuleContext(0,g)}constructor(t,e){super(t,e)}get ruleIndex(){return f.RULE_group}enterRule(t){t.enterGroup&&t.enterGroup(this)}exitRule(t){t.exitGroup&&t.exitGroup(this)}accept(t){return t.visitGroup?t.visitGroup(this):t.visitChildren(this)}}e.GroupContext=E;class A extends a.ParserRuleContext{ZONE(){return this.getToken(f.ZONE,0)}ID(){return this.getToken(f.ID,0)}stmt_list(){return this.getRuleContext(0,g)}constructor(t,e){super(t,e)}get ruleIndex(){return f.RULE_zone}enterRule(t){t.enterZone&&t.enterZone(this)}exitRule(t){t.exitZone&&t.exitZone(this)}accept(t){return t.visitZone?t.visitZone(this):t.visitChildren(this)}}e.ZoneContext=A;class O extends a.ParserRuleContext{HIDE(){return this.tryGetToken(f.HIDE,0)}DELETE(){return this.tryGetToken(f.DELETE,0)}ID(t){return void 0===t?this.getTokens(f.ID):this.getToken(f.ID,t)}constructor(t,e){super(t,e)}get ruleIndex(){return f.RULE_hide}enterRule(t){t.enterHide&&t.enterHide(this)}exitRule(t){t.exitHide&&t.exitHide(this)}accept(t){return t.visitHide?t.visitHide(this):t.visitChildren(this)}}e.HideContext=O},351:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(203);e.HideBlock=class{constructor(t){this.id=t}setup(t){const e=t.findGridArea(this.id);if(!e)throw new Error(`not found: ${this.id}`);i.hide(e)}find(t){return t===this.id?this:void 0}}},352:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(275),s=r(203);e.HideEdge=class{constructor(t,e){this.tailId=t,this.headId=e}setup(t){const e=t.findOverlay(i.Edge.idOf(this.tailId,this.headId));if(!e)throw new Error(`edge not found: ${this.tailId} -> ${this.headId}`);s.hide(e)}find(t){}}},353:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(157),s=r(354),n=r(228),o=r(160);class a{constructor(t,e,r,i){this.id=t,this.tailId=e,this.headId=r,this.attrs=i}static findBox(t,e){return t.find(e).get.box}updateAttributes(t){return this.attrs=Object.assign(Object.assign({},this.attrs),t.attrs),this}vue(t){const e=a.findBox(t,this.tailId),r=a.findBox(t,this.headId),{dx:u,dy:h}=this.attrs,c=s.Arrow.singleton.fit(e,r,o.num(u)||0,o.num(h)||0),l=this.attrs,{t:d,label:f}=l,p=i.__rest(l,["t","label"]),_=n.SecureSvgAttrs.of(Object.assign({visibility:"visible"},p)),g={label:f,t:d};return{type:"arrow",id:this.id,box:c,text:g,svgAttrs:_}}}e.EdgeOverlay=a},354:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(276),s=r(204);class n{fit(t,e,r,n){function o(t,e){const r=[];if(t.dx<0){const i=-(t.x1-e.cx+e.width/2)/t.dx;r.push(t.multiple(i))}else if(t.dx>0){const i=(e.cx-t.x1+e.width/2)/t.dx;r.push(t.multiple(i))}if(t.dy<0){const i=-(t.y1-e.cy+e.height/2)/t.dy;r.push(t.multiple(i))}else if(t.dy>0){const i=(e.cy-t.y1+e.height/2)/t.dy;r.push(t.multiple(i))}if(1===r.length)return r[0];if(2===r.length){const t=r[0],e=r[1];return t.length<e.length?t:e}throw new Error("not implemented: "+JSON.stringify(r)+", "+JSON.stringify(t))}const a=t.cx+r,u=t.cy+n,h=e.cx+r,c=e.cy+n,l=new i.Vector2d(a,u,h,c),d=o(l,t),f=o(l.reverse(),e),p=a+d.dx,_=u+d.dy,g=h+f.dx-p,m=c+f.dy-_;return s.Box.of({x:p,y:_,width:g,height:m})}}e.Arrow=n,n.singleton=new n},355:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(277),s=r(357),n=r(279),o=r(204),a=r(160);e.Compound=class{constructor(t,e,r=[],i=a.Attributes.empty,s){this.id=t,this.compoundType=e,this.blocks=r,this.attrs=i,this.childAttrs=s}setup(t){const e=t.lookupAttributes(this.compoundType).merge(this.attrs),r=e.attrs,a=e.box,u=new("zone"===this.compoundType?n.Portrait:s.Landscape)([],o.Box.of(a)),h=new i.Container(this.id,r,u);return this.blocks.reduce((e,r)=>{const i=r.setup(t.newEnv(e,this.childAttrs||{}));return i?e.append(i):e},h)}}},356:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(157).__importDefault(r(184));class s{constructor(t){this.box=t}static gap(t,e){const{width:r,height:s}=Object.assign(Object.assign({},t),e);return i.default.gap2(s-t.height,r-t.width)}fit(t,e){const r=s.gap(this.box.grossArea,e),i=t.x+r.left,n=t.y+r.right;return this.withBox(this.box.calcArea({x:i,y:n}))}withBox(t){return new s(this.box.update(t))}}e.Cell=s},357:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(157).__importDefault(r(184));class s{constructor(t,e){this.children=t,this.box=e}fit(t,e={}){const r=this.box.contentArea,n=this.box.calcContentArea(t,e),{x:o,y:a,width:u,height:h}=n;let c=o;const l=u?i.default.gap2(0,(u-r.width)/(2*this.children.length)):i.default.zero,d=u?{width:r.width/this.children.length}:{},f=h?{height:h}:{},p=[];for(const t of this.children){c+=l.left;const e=t.map(t=>t.fit({x:c,y:a},Object.assign(Object.assign({},d),f)));p.push(e),c+=e.get.box.grossArea.width,c+=l.right}const _=Math.max(...p.map(t=>t.get.box.grossArea.height)),g={x:o,y:a,width:c-o,height:_};return new s(p,this.box.inflate(g))}withBox(t){return new s(this.children,this.box.update(t))}append(t){return new s([...this.children,t],this.box)}}e.Landscape=s},358:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(278),s=r(204),n=r(203),o=r(160);e.Node=class{constructor(t,e=o.Attributes.empty){this.id=t,this.attrs=e}static find(t){}setup(t){const e=t.findGridArea(this.id);if(e)return n.visible(e),void e.updateAttributes(this.attrs);{const e=t.lookupAttributes("node").merge(this.attrs);return i.GridCell.of(this.id,s.Box.of(e.box),e.attrs)}}}},359:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(157),s=i.__importDefault(r(184)),n=r(160);class o{constructor(t,e,r,i,s){this.blocks=t,this.mode=e,this.align=r,this.attrs=i,this.childAttrs=s}static of(t,e,r){const a=n.Attributes.of(e),u=Object.assign({margin:s.default.zero,padding:s.default.zero},a.box),h=a.attrs,{config:c}=h,l=i.__rest(h,["config"]),d={};(c||"").split(",").forEach(t=>{const e=t.split("=");d[e[0]]=e[1]});const{mode:f,align:p}=Object.assign({mode:"_",align:"_"},d);return new o(t,f,p,new n.Attributes(u,l),n.toDict(r))}setup(t){const e=t.container.updateAttributes(this.attrs);return this.blocks.reduce((t,e)=>{const r=e.setup(t);return r?t.update(t.container.append(r)):t},t.newEnv(e,this.childAttrs))}}e.Frame=o},360:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(160);class s{constructor(t,e,r){this.container=t,this.attrs=e,this.baseEnv=r}static of(t,e){return new s(t,e)}newEnv(t,e){return new s(t,e,this)}update(t){return new s(t,this.attrs,this.baseEnv)}lookupAttributes(t){const e=this.baseEnv?this.baseEnv.lookupAttributes(t):i.Attributes.empty;return this.attrs[t]?e.merge(this.attrs[t]):e}findGridArea(t){return this.container.find(t)}findOverlay(t){return this.container.find(t)}}e.Env=s},361:function(t,e,r){"use strict";r.r(e);var i=r(376),s=r(229);for(var n in s)"default"!==n&&function(t){r.d(e,t,function(){return s[t]})}(n);var o=r(0),a=Object(o.a)(s.default,i.a,i.b,!1,null,"6b974f0e",null);e.default=a.exports},362:function(t,e,r){"use strict";r.r(e);var i=r(377),s=r(231);for(var n in s)"default"!==n&&function(t){r.d(e,t,function(){return s[t]})}(n);var o=r(0),a=Object(o.a)(s.default,i.a,i.b,!1,null,"33ef9dee",null);e.default=a.exports},363:function(t,e,r){"use strict";r.r(e);var i=r(375),s=r(237);for(var n in s)"default"!==n&&function(t){r.d(e,t,function(){return s[t]})}(n);var o=r(0),a=Object(o.a)(s.default,i.a,i.b,!1,null,"79382f9e",null);e.default=a.exports},364:function(t,e,r){"use strict";r.r(e);var i=r(383),s=r(239);for(var n in s)"default"!==n&&function(t){r.d(e,t,function(){return s[t]})}(n);var o=r(0),a=Object(o.a)(s.default,i.a,i.b,!1,null,"a16010c4",null);e.default=a.exports},365:function(t,e,r){"use strict";r.r(e);var i=r(382),s=r(241);for(var n in s)"default"!==n&&function(t){r.d(e,t,function(){return s[t]})}(n);var o=r(0),a=Object(o.a)(s.default,i.a,i.b,!1,null,"55dd33ce",null);e.default=a.exports},366:function(t,e,r){"use strict";r.r(e);var i=r(381),s=r(243);for(var n in s)"default"!==n&&function(t){r.d(e,t,function(){return s[t]})}(n);var o=r(0),a=Object(o.a)(s.default,i.a,i.b,!1,null,"fcbd638c",null);e.default=a.exports},367:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(374),s=document;let n=new i.RoughSVG(document.createElementNS("http://www.w3.org/2000/svg","svg"));function o(t){const e={},r=t.attributes;for(let t=0;t<r.length;t++){const i=r.item(t);if(!i)throw new Error("null");e[i.name.replace(/[-_](.)/g,(t,e)=>e.toUpperCase())]=i.value,e[i.name]=i.value}return e}function a(t,e){return Object.keys(e).forEach(r=>t.setAttribute(r,e[r])),t}function u(t){const e=t.tagName,r=o(t),i=Object.assign({hachureGap:2,fillWeight:.6,roughness:2},r);switch(e){case"g":const h=a(s.createElementNS("http://www.w3.org/2000/svg","g"),o(t)),c=t.children;for(let t=0;t<c.length;t++){const e=c.item(t);if(!e)throw new Error("null");{const t=u(e),r=e.getAttribute("visibility");r&&t.setAttribute("visibility",r),h.append(t)}}return h;case"text":const l=a(s.createElementNS("http://www.w3.org/2000/svg","text"),o(t)),d=t.children;for(let t=0;t<d.length;t++){const e=d.item(t);if(!e)throw new Error("null");l.append(u(e))}return l;case"tspan":const f=a(s.createElementNS("http://www.w3.org/2000/svg","tspan"),o(t));return f.textContent=t.textContent,f;case"path":return n.path(r.d,r);case"line":return n.line(parseFloat(r.x1),parseFloat(r.y1),parseFloat(r.x1),parseFloat(r.y2),i);case"rect":return n.rectangle(parseFloat(r.x),parseFloat(r.y),parseFloat(r.width),parseFloat(r.height),i);case"ellipse":return n.ellipse(parseFloat(r.cx),parseFloat(r.cy),parseFloat(r.rx),parseFloat(r.ry),i);case"circle":return n.circle(parseFloat(r.cx),parseFloat(r.cy),parseFloat(r.r),i);case"polygon":default:throw new Error("not implemented")}}e.convertSvg=function(t){const e=t.getAttribute("width")||0,r=t.getAttribute("height")||0,s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.setAttribute("xmlns","http://www.w3.org/2000/svg"),s.setAttribute("width",`${e}`),s.setAttribute("height",`${r}`),s.setAttribute("viewBox",`0 0 ${2*Number(e)} ${2*Number(r)}`),n=new i.RoughSVG(s);const o=t.children;for(let t=0;t<o.length;t++){const e=o.item(t);if(!e)throw new Error("null");s.append(u(e))}return s}},368:function(t,e,r){"use strict";var i=r(245);r.n(i).a},369:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(157).__importDefault(r(370));e.DataEncoderDecoderV1=class{constructor(){this.formatVersion="v1"}decode(t){const e=i.default.decompressFromEncodedURIComponent(t);return JSON.parse(e)}encode(t){const e=JSON.stringify(t);return i.default.compressToEncodedURIComponent(e)}}},371:function(t,e,r){"use strict";var i=r(246);r.n(i).a},375:function(t,e,r){"use strict";var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("g",[r("path",t._b({attrs:{d:t.d}},"path",t.attrs.shape,!1)),t._v(" "),r("TextContent",{attrs:{content:t.shape.text,position:t.textPosition,attrs:t.attrs.text}}),t._v(" "),r("GridArea",{attrs:{box:t.shape.box}})],1)},s=[];r.d(e,"a",function(){return i}),r.d(e,"b",function(){return s})},376:function(t,e,r){"use strict";var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"svgContainer"},[t.rough&&t.roughHtml.length>0?r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 "+t.shape.box.width+" "+t.shape.box.height,width:t.shape.box.width/2,height:t.shape.box.height/2},domProps:{innerHTML:t._s(t.roughHtml)}}):r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 "+t.shape.box.width+" "+t.shape.box.height,width:t.shape.box.width/2,height:t.shape.box.height/2}},[r("Group",{attrs:{g:t.shape}})],1)])},s=[];r.d(e,"a",function(){return i}),r.d(e,"b",function(){return s})},377:function(t,e,r){"use strict";var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("g",t._b({},"g",t.g.svgAttrs.svgAttrs,!1),[t._l(t.childGroups,function(t){return r("Group",{key:t.id,attrs:{g:t}})}),t._v(" "),t._l(t.boxes,function(t){return r("Box",{key:t.id,attrs:{shape:t}})}),t._v(" "),t._l(t.cylinders,function(t){return r("Cylinder",{key:t.id,attrs:{shape:t}})}),t._v(" "),t._l(t.persons,function(t){return r("Person",{key:t.id,attrs:{shape:t}})}),t._v(" "),t._l(t.arrows,function(t){return r("Arrow",{key:t.id,attrs:{shape:t}})}),t._v(" "),r("GridArea",{attrs:{box:t.g.box}})],2)},s=[];r.d(e,"a",function(){return i}),r.d(e,"b",function(){return s})},378:function(t,e,r){"use strict";var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("nav",{staticClass:"nav"},[r("div",{staticClass:"nav-right"},[r("a",{staticClass:"edit-button",attrs:{href:t.appUrl(t.url)}},[t._v("Edit")])])]),t._v(" "),1===t.version?r("FurumaiApp1",{attrs:{furumaiData:t.furumaiData,editorMode:!1,viewCode:"false"!==this.viewCode}}):-1===t.version?r("div",[t._v("version = -1")]):r("div",[t._v("version error: "+t._s(t.version))])],1)},s=[];r.d(e,"a",function(){return i}),r.d(e,"b",function(){return s})},379:function(t,e,r){"use strict";var i=function(){var t=this.$createElement;return(this._self._c||t)("rect",this._b({},"rect",this.attrs,!1))},s=[];r.d(e,"a",function(){return i}),r.d(e,"b",function(){return s})},380:function(t,e,r){"use strict";var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("text",t._b({attrs:{x:t.position.x+t.dxy.x,y:t.position.y+t.dxy.y}},"text",t.attrs,!1),t._l(t.texts,function(e){return r("tspan",t._b({attrs:{dy:"1em",x:t.position.x+t.dxy.x}},"tspan",t.attrs,!1),[t._v(t._s(e))])}),0)},s=[];r.d(e,"a",function(){return i}),r.d(e,"b",function(){return s})},381:function(t,e,r){"use strict";var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("g",[r("path",t._b({attrs:{d:t.d}},"path",t.attrs.shape,!1)),t._v(" "),r("TextContent",{attrs:{content:t.shape.text,position:t.textPosition,attrs:t.attrs.text}}),t._v(" "),r("GridArea",{attrs:{box:t.shape.box}})],1)},s=[];r.d(e,"a",function(){return i}),r.d(e,"b",function(){return s})},382:function(t,e,r){"use strict";var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("g",[r("rect",t._b({},"rect",t.attrs.shape,!1)),t._v(" "),r("TextContent",{attrs:{content:t.shape.text,position:t.textPosition,attrs:t.attrs.text}}),t._v(" "),r("GridArea",{attrs:{box:t.shape.box}})],1)},s=[];r.d(e,"a",function(){return i}),r.d(e,"b",function(){return s})},383:function(t,e,r){"use strict";var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("g",[r("path",t._b({attrs:{d:t.d}},"path",t.attrs.shape,!1)),t._v(" "),r("TextContent",{attrs:{content:t.shape.text,position:t.textPosition,attrs:t.attrs.text}}),t._v(" "),r("GridArea",{attrs:{box:t.shape.box}})],1)},s=[];r.d(e,"a",function(){return i}),r.d(e,"b",function(){return s})},384:function(t,e,r){"use strict";var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app1"},[r("div",{staticClass:"row"},[t.viewCode?r("div",{staticClass:"col"},[t.editorMode?r("div",{staticClass:"code-editor-wrap"},[r("label",[r("div",[r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.furumaiData.code,expression:"furumaiData.code"}],ref:"editor",staticClass:"code-editor",attrs:{title:"Furumai Description"},domProps:{value:t.furumaiData.code},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey?t.furumai(e):null},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.altKey?t.furumai(e):null},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.metaKey?t.furumai(e):null}],input:function(e){e.target.composing||t.$set(t.furumaiData,"code",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"nav-right"},[r("label",{staticClass:"options"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.furumaiData.rough,expression:"furumaiData.rough"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.furumaiData.rough)?t._i(t.furumaiData.rough,null)>-1:t.furumaiData.rough},on:{change:[function(e){var r=t.furumaiData.rough,i=e.target,s=!!i.checked;if(Array.isArray(r)){var n=t._i(r,null);i.checked?n<0&&t.$set(t.furumaiData,"rough",r.concat([null])):n>-1&&t.$set(t.furumaiData,"rough",r.slice(0,n).concat(r.slice(n+1)))}else t.$set(t.furumaiData,"rough",s)},t.furumai]}}),t._v("Rough.js\n            ")]),t._v(" "),r("label",{staticClass:"options"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.furumaiData.displayFirstSvg,expression:"furumaiData.displayFirstSvg"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.furumaiData.displayFirstSvg)?t._i(t.furumaiData.displayFirstSvg,null)>-1:t.furumaiData.displayFirstSvg},on:{change:[function(e){var r=t.furumaiData.displayFirstSvg,i=e.target,s=!!i.checked;if(Array.isArray(r)){var n=t._i(r,null);i.checked?n<0&&t.$set(t.furumaiData,"displayFirstSvg",r.concat([null])):n>-1&&t.$set(t.furumaiData,"displayFirstSvg",r.slice(0,n).concat(r.slice(n+1)))}else t.$set(t.furumaiData,"displayFirstSvg",s)},t.furumai]}}),t._v("Display 1st SVG\n            ")]),t._v(" "),r("button",{staticClass:"button primary furumai-button",on:{click:t.furumai}},[t._v("View (Ctrl + Enter)")])]),t._v(" "),r("hr"),t._v(" "),r("div",[t._v("\n            Default settings:\n            "),r("pre",[t._v(t._s(t.defaultConfig))])])])]):r("div",{staticClass:"code-viewer"},[r("pre",{staticClass:"language-none"},[t._v(t._s(t.pre(t.furumaiData.code)))])])]):t._e(),t._v(" "),r("div",{staticClass:"col-6"},[t.errors.length>0?r("div",{staticClass:"text-error"},[r("pre",[t._v(t._s(t.errors))])]):r("div",{ref:"moments"},t._l(t.svgs,function(e){return r("div",{staticClass:"card"},[r("SvgComponent",{attrs:{shape:e,rough:t.furumaiData.rough}})],1)}),0),t._v(" "),r("div",{staticClass:"nav-right moments-footer"},[t.editorMode?r("button",{staticClass:"button primary",on:{click:t.download}},[t._v("Download SVG(s)")]):t._e()])])])])},s=[];r.d(e,"a",function(){return i}),r.d(e,"b",function(){return s})},386:function(t,e,r){"use strict";r.r(e);var i=r(378),s=r(206);for(var n in s)"default"!==n&&function(t){r.d(e,t,function(){return s[t]})}(n);r(371);var o=r(0),a=Object(o.a)(s.default,i.a,i.b,!1,null,null,null);e.default=a.exports}}]);