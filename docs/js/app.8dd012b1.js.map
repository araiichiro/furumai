{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/FurumaiApp.vue","webpack:///./src/components/Header.vue","webpack:///./src/components/FurumaiApp.vue?d243","webpack:///./src/layout/engine/Gap.ts","webpack:///./src/components/Header.vue?d73d","webpack:///./src/components/Header.vue?1c36","webpack:///./src/components/Header.vue?8991","webpack:///./src/components/svg/Person.vue?d5dd","webpack:///./src/furumai/utils.ts","webpack:///./src/components/svg/Person.vue?3710","webpack:///./src/components/svg/Person.vue?ac57","webpack:///./src/furumai/setup/HideBlock.ts","webpack:///./src/components/FurumaiApp.vue?37c3","webpack:///./src/shared/vue/SecureSvgAttrs.ts","webpack:///./src/components/svg/SvgComponent.vue?1ceb","webpack:///./src/layout/engine/Arrow.ts","webpack:///./src/furumai/parser.ts","webpack:///./src/components/FurumaiApp1.vue?85f4","webpack:///./src/components/Footer.vue?47c3","webpack:///./src/components/svg/GridArea.vue?d089","webpack:///./src/furumai/setup/Story.ts","webpack:///./src/App.vue?0a6b","webpack:///./src/App.vue","webpack:///./src/AppLayout.vue?9ec8","webpack:///./src/AppLayout.vue?51c2","webpack:///./src/components/svg/Arrow.vue","webpack:///./src/components/svg/Cylinder.vue?c61a","webpack:///./src/components/FurumaiApp.vue?9d5d","webpack:///./src/components/FurumaiApp.vue?58e5","webpack:///./src/components/svg/Box.vue?3d02","webpack:///./src/components/svg/Box.vue?2730","webpack:///./src/components/svg/Group.vue?e8ee","webpack:///./src/generated/antlr4ts/FurumaiParser.ts","webpack:///./src/shared/vue/utils.ts","webpack:///./src/components/svg/Group.vue","webpack:///./src/router.ts","webpack:///./src/AppLayout.vue?90ad","webpack:///./src/components/FurumaiApp1.vue","webpack:///./src/layout/engine/Landscape.ts","webpack:///./src/components/svg/GridArea.vue","webpack:///./src/components/FurumaiApp1.vue?b413","webpack:///./src/components/svg/Arrow.vue?6edc","webpack:///./src/components/svg/Arrow.vue?e437","webpack:///./src/components/svg/TextContent.vue?b4e5","webpack:///./src/components/svg/Cylinder.vue?46ad","webpack:///./src/components/svg/Cylinder.vue?c2dc","webpack:///./src/furumai/setup/Edge.ts","webpack:///./src/components/svg/GridArea.vue?ebb9","webpack:///./src/components/svg/GridArea.vue?d6d0","webpack:///./src/layout/engine/Box.ts","webpack:///./src/AppLayout.vue","webpack:///./src/components/svg/GridArea.vue?4f90","webpack:///./src/furumai/setup/Compound.ts","webpack:///./src/components/Footer.vue?55fc","webpack:///./src/components/Footer.vue?3699","webpack:///./src/components/svg/Group.vue?2d30","webpack:///./src/furumai/setup/HideEdge.ts","webpack:///./src/components/svg/Cylinder.vue","webpack:///./src/rough/rougher.ts","webpack:///./src/layout/engine/Vector2d.ts","webpack:///./src/layout/engine/Cell.ts","webpack:///./src/components/FurumaiApp1.vue?fbee","webpack:///./src/components/FurumaiApp1.vue?221d","webpack:///./src/components/svg/TextContent.vue","webpack:///./src/components/svg/Box.vue","webpack:///./src/furumai/setup/Node.ts","webpack:///./src/furumai/grid/GridCell.ts","webpack:///./src/components/svg/Arrow.vue?ce28","webpack:///./src/furumai/setup/Env.ts","webpack:///./src/components/Header.vue?0d54","webpack:///./src/furumai/setup/Frame.ts","webpack:///./src/furumai/grid/Container.ts","webpack:///./src/AppLayout.vue?afea","webpack:///./src/furumai/grid/utils.ts","webpack:///./src/AppLayout.vue?d1a0","webpack:///./src/sample.ts","webpack:///./src/components/svg/Person.vue?6e6d","webpack:///./src/components/FurumaiApp1.vue?9fe8","webpack:///./src/main.ts","webpack:///./src/components/Header.vue?f073","webpack:///./src/components/svg/SvgComponent.vue","webpack:///./src/furumai/grid/EdgeOverlay.ts","webpack:///./src/io/DataEncoderDecoderV1.ts","webpack:///./src/components/svg/Arrow.vue?b622","webpack:///./src/components/Footer.vue?6cd6","webpack:///./src/components/svg/Group.vue?bbb8","webpack:///./src/components/svg/Group.vue?b49c","webpack:///./src/components/svg/Box.vue?19ed","webpack:///./src/components/svg/Cylinder.vue?6446","webpack:///./src/components/svg/SvgComponent.vue?af6c","webpack:///./src/components/svg/SvgComponent.vue?c4dc","webpack:///./src/components/svg/SvgComponent.vue?d7e1","webpack:///./src/components/svg/TextContent.vue?824e","webpack:///./src/components/svg/TextContent.vue?dc4d","webpack:///./src/components/svg/Box.vue?77de","webpack:///./src/layout/engine/Portrait.ts","webpack:///./src/generated/antlr4ts/FurumaiLexer.ts","webpack:///./src/components/svg/Person.vue","webpack:///./src/components/svg/TextContent.vue?0f95","webpack:///./src/components/Footer.vue"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","component","Gap","top","right","bottom","left","gapString","g","split","map","Number","gap4","gap2","gap1","gap","tb","rl","this","zero","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","path","_v","_m","staticRenderFns","Person","Vue","shape","text","divideAttrs","svgAttrs","fill","stroke","x","y","width","box","height","person","cx","xx","yy","cr","cxr","cxl","yuu","yum","yud","xl","xr","y1","y2","y3","Prop","Component","components","TextContent","GridArea","Attribute","Attributes","dic","reduce","obj","id","margin","padding","num","parse","keys","forEach","k","undefined","rest","empty","of","ElementAttribute","elementName","attributes","toDict","shapeAttrs","filter","_","startsWith","textAttrs","f","v","asString","arg","toString","_b","textPosition","HideBlock","env","area","findGridArea","Error","hide","FurumaiApp","version","furumaiData","params","$route","format","codec","formatVersion","decode","encoded","encode","$router","DataEncoderDecoderV1","FurumaiApp1","SecureSvgAttrs","isValid","isColor","color3","color6","test","availableSvgAttributes","Set","attrName","attrValue","checkName","has","checkValue","isNaN","SvgComponent","roughHtml","nextTick","refresh","val","newVal","$refs","svgContainer","svg","firstElementChild","converted","convertSvg","innerHTML","Watch","Group","Arrow","tail","head","dx","dy","cut","candidates","ratio","x1","multiple","cy","a","b","JSON","stringify","x2","vec","Vector2d","tailCut","headCut","reverse","Box","singleton","inputStream","CharStreams","fromString","errorListener","FurumaiErrorListener","lexer","FurumaiLexer","removeErrorListeners","addErrorListener","tokenStream","CommonTokenStream","parser","FurumaiParser","tree","story","errors","SyntaxError","visitor","FurumaiVisitorImpl","visit","recognizer","offendingSymbol","line","charPositionInLine","msg","e","error","message","range","at","column","row","Compound","Node","Edge","HideEdge","ctx","eof","EOF","ss","moment","frame","Story","stmt_list","statements","stmt","blocks","childAttributes","isBuildingBlock","node_stmt","edge_stmt","attr_stmt","assignment","zone","group","attrType","GROUP","NODE","EDGE","ZONE","attrList","attr_list","ids","ID","stmtList","childAttrs","accept","node","childCount","getChild","defaultConfig","svgs","route","oldRoute","draw","code","replace","editor","focus","changeUrl","div","moments","cards","getElementsByTagName","item","blob","outerHTML","url","URL","createObjectURL","Blob","type","link","document","createElement","href","download","body","appendChild","click","removeChild","vue","animation","toSvgOrError","stack","displayFirstSvg","first","default","Footer","config","conf","cf","kv","align","boot","init","updates","Frame","ContainerIterableIterator","EnvIterableIterator","values","frames","diffMode","last","next","done","nextFrame","baseEnv","initEnv","setup","iterator","bootEnv","Env","Container","Portrait","it","centerAlign","fit","container","ret","script","_s","Parser","input","super","_interp","ParserATNSimulator","_ATN","VOCABULARY","ruleNames","_serializedATN","_la","_localctx","StoryContext","_ctx","state","enterRule","RULE_story","_alt","enterOuterAlt","_errHandler","sync","interpreter","adaptivePredict","_input","ATN","INVALID_ALT_NUMBER","match","T__0","LA","re","RecognitionException","exception","reportError","recover","exitRule","MomentContext","RULE_moment","Stmt_listContext","RULE_stmt_list","T__1","StmtContext","RULE_stmt","Attr_stmtContext","RULE_attr_stmt","recoverInline","Token","matchedEOF","reportMatch","consume","Attr_listContext","RULE_attr_list","T__2","T__3","T__4","AssignmentContext","RULE_assignment","T__5","Edge_stmtContext","RULE_edge_stmt","T__6","Node_stmtContext","RULE_node_stmt","GroupContext","RULE_group","T__7","T__8","ZoneContext","RULE_zone","HideContext","RULE_hide","HIDE","DELETE","__ATN","ATNDeserializer","deserialize","Utils","toCharArray","SPACES","_LITERAL_NAMES","_SYMBOLIC_NAMES","VocabularyImpl","ParserRuleContext","getRuleContexts","getRuleContext","getToken","parent","invokingState","listener","enterStory","exitStory","visitStory","visitChildren","enterMoment","exitMoment","visitMoment","enterStmt_list","exitStmt_list","visitStmt_list","tryGetRuleContext","enterStmt","exitStmt","visitStmt","tryGetToken","enterAttr_stmt","exitAttr_stmt","visitAttr_stmt","enterAttr_list","exitAttr_list","visitAttr_list","getTokens","enterAssignment","exitAssignment","visitAssignment","enterEdge_stmt","exitEdge_stmt","visitEdge_stmt","enterNode_stmt","exitNode_stmt","visitNode_stmt","enterGroup","exitGroup","visitGroup","enterZone","exitZone","visitZone","enterHide","exitHide","visitHide","furumaiCode","defaults","baseFrames","play","use","base","routes","children","redirect","sampleFragment","Landscape","point","grossSize","old","contentArea","childrenArea","calcContentArea","w","h","childNodes","moved","elem","grossArea","maxHeight","Math","max","childContentArea","inflate","update","child","tailId","headId","op","idOf","visible","existing","findOverlay","updateAttributes","baseAttrs","lookupAttributes","merged","merge","EdgeOverlay","contentGrossArea","size","calcArea","visibility","compoundType","fitterClass","fitter","initContainer","block","newEnv","append","Cylinder","overlay","rc","RoughSVG","createElementNS","root","getAttribute","setAttribute","cs","convert","dict","aa","group1","toUpperCase","setAttributes","tag","tagName","options","hachureGap","fillWeight","roughness","gcs","tcs","tspan","textContent","parseFloat","rectangle","ellipse","rx","ry","circle","sqrt","degree","degToRad","deg","PI","th","rotate","real","cos","imaginary","sin","rotated","multiply","Cell","oldGrossSize","newGrossSize","withBox","directives","rawName","expression","ref","domProps","on","$event","indexOf","_k","keyCode","ctrlKey","furumai","altKey","metaKey","target","composing","$set","Array","isArray","rough","_i","$$a","$$el","$$c","checked","$$v","$$i","concat","pre","_e","_l","GridCell","cell","move","label","shapeType","arrow","xy","normalize","rotateBase","pump","v1","negate","pumpUp","va","vb","strokeWidth","className","find","Header","overlays","lay","applyTo","App","sampleCode","productionTip","router","$mount","findBox","jsonString","decompressFromEncodedURIComponent","decoded","compressToEncodedURIComponent","curve","ydm","ydd","position","content","maxWidth","Lexer","LexerATNSimulator","channelNames","modeNames","ruleIndex","actionIndex","ID_action","txt"],"mappings":"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","file":"js/app.8dd012b1.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import { render, staticRenderFns } from \"./FurumaiApp.vue?vue&type=template&id=552de43b&\"\nimport script from \"./FurumaiApp.vue?vue&type=script&lang=ts&\"\nexport * from \"./FurumaiApp.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { render, staticRenderFns } from \"./Header.vue?vue&type=template&id=427dc33c&scoped=true&\"\nimport script from \"./Header.vue?vue&type=script&lang=ts&\"\nexport * from \"./Header.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Header.vue?vue&type=style&index=0&id=427dc33c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"427dc33c\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FurumaiApp.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FurumaiApp.vue?vue&type=script&lang=ts&\"","export default class Gap {\n  public static zero = Gap.gap1(0)\n\n  public static parse(gapString: string): Gap | undefined {\n    if (gapString) {\n      const g = gapString.split(' ').map((s) => Number(s))\n      if (g.length === 4) {\n        return Gap.gap4(g[0], g[1], g[2], g[3])\n      } else if (g.length === 2) {\n        return Gap.gap2(g[0], g[1])\n      } else if (g.length === 1) {\n        return Gap.gap1(g[0])\n      } else {\n        return undefined\n      }\n    } else {\n      return undefined\n    }\n  }\n\n  public static gap1(gap: number): Gap {\n    return new Gap(gap, gap, gap, gap)\n  }\n\n  public static gap2(tb: number, rl: number): Gap {\n    return new Gap(tb, rl, tb, rl)\n  }\n\n  public static gap4(top: number, right: number, bottom: number, left: number): Gap {\n    return new Gap(top, right, bottom, left)\n  }\n\n  constructor(\n    readonly top: number,\n    readonly right: number,\n    readonly bottom: number,\n    readonly left: number,\n  ) {\n  }\n\n  public toString(): string {\n    return `${this.top} ${this.right} ${this.bottom} ${this.left}`\n  }\n}\n","import mod from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=style&index=0&id=427dc33c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=style&index=0&id=427dc33c&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"nav\"},[_c('div',{staticClass:\"nav-left\"},[_c('router-link',{staticClass:\"brand\",attrs:{\"to\":{path: '/'}}},[_vm._v(\"Furumai\")]),_vm._m(0)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tabs\"},[_c('a',{attrs:{\"href\":\"./docs/\"}},[_vm._v(\"Docs\")]),_c('a',{attrs:{\"href\":\"https://github.com/araiichiro/furumai\"}},[_vm._v(\"GitHub\")])])}]\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"b4f43d4a-vue-loader-template\\\"}!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=template&id=427dc33c&scoped=true&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Prop, Vue} from 'vue-property-decorator'\nimport GridArea from '@/components/svg/GridArea.vue'\nimport {Shape} from '@/shared/vue/Shape'\nimport TextContent from '@/components/svg/TextContent.vue'\nimport {divideAttrs, ShapeAndTextAttrs} from '@/furumai/utils'\n\n@Component({\n  components: {\n    TextContent,\n    GridArea,\n  },\n})\nexport default class Person extends Vue {\n  @Prop()\n  public shape!: Shape\n\n  get attrs(): ShapeAndTextAttrs {\n    const {shape, text} = divideAttrs(this.shape.svgAttrs.svgAttrs)\n    return {\n      shape: {\n        fill: 'none',\n        stroke: 'black',\n        ...shape,\n      },\n      text: {\n        'text-anchor': 'middle',\n        ...text,\n      },\n    }\n  }\n\n  get textPosition(): {x: number, y: number} {\n    const {x, y, width} = this.shape.box\n    return {\n      x: x + width / 2,\n      y: y - 32, // FIXME\n    }\n  }\n\n  get d(): string {\n    const box = this.shape.box\n    const {x, y, width, height} = box\n    return this.person(x + width / 4, y, width / 2, height)\n  }\n\n  private person(x: number, y: number, width: number, height: number): string {\n    const cx = this.shape.box.cx\n    const xx = x + width\n    const yy = y + height\n    const cr = height / 5\n\n    const cxr = cx - cr\n    const cxl = cx + cr\n    const yuu = y - cr / 3\n    const yum = y + cr\n    const yud = y + 2 * cr + cr / 3 // FIXME\n    const xl = x\n    const xr = xx\n    const y1 = y + cr * 2\n    const y2 = y + cr * 3\n    const y3 = cr * 4 + y\n\n    return `M ${cxr},${yum}\nC ${cxr},${yud}\n${cxl},${yud}\n${cxl},${yum}\nM ${cxr},${yum}\nC ${cxr},${yuu}\n${cxl},${yuu}\n${cxl},${yum}\nM${cx},${y1}\nL${cx},${y3}\nM${xl},${y2}\nL${xr},${y2}\nM${cx},${y3}\nL${xl},${yy}\nM${cx},${y3}\nL${xr},${yy}`\n  }\n}\n","import Gap from '@/layout/engine/Gap'\nimport {Box} from '@/layout/engine/Box'\nimport {BuildingBlock} from '@/furumai/setup/BuildingBlock'\n\nexport type AttributeName = string\nexport type AttributeValue = string\n\nexport class Attribute {\n  constructor(readonly key: AttributeName, readonly value: AttributeValue) {\n  }\n}\n\nexport class Attributes {\n  public static empty = Attributes.of([])\n\n  public static of(attrs: Attribute[]): Attributes {\n    const dic = attrs.reduce((map, obj) => {\n      map[obj.key] = obj.value\n      return map\n    }, {} as { [key: string]: string })\n    const {id, x, y, width, height, margin, padding, ...rest} = dic\n    const box: any = {\n      id,\n      x: num(x), y: num(y),\n      width: num(width), height: num(height),\n      margin: Gap.parse(margin), padding: Gap.parse(padding),\n    }\n\n    Object.keys(box).forEach((k) => {\n      if (box[k] === undefined) {\n        delete box[k]\n      }\n    })\n\n    return new Attributes(box, rest)\n  }\n\n  public static fromBox(box: Partial<Box>): Attributes {\n    return new Attributes(box, {})\n  }\n\n  constructor(readonly box: Partial<Box>, readonly attrs: Attrs) {\n  }\n\n  public merge(attrs: Attributes): Attributes {\n    return new Attributes(\n      {\n        ...this.box,\n        ...attrs.box,\n      }, {\n        ...this.attrs,\n        ...attrs.attrs,\n      },\n    )\n  }\n}\n\nexport class ElementAttribute {\n  constructor(\n    readonly elementName: string,\n    readonly attributes: Attribute[],\n  ) {\n  }\n}\n\nexport function toDict(attrs: ElementAttribute[]): { [key: string]: Attributes } {\n  return attrs.reduce((map, obj) => {\n    map[obj.elementName] = Attributes.of(obj.attributes)\n    return map\n  }, {} as { [key: string]: Attributes })\n}\n\nexport interface StatementList {\n  readonly blocks: BuildingBlock[]\n  readonly attributes: Attribute[]\n  readonly childAttributes: ElementAttribute[]\n}\n\nexport type ShapeAttrs = Attrs\nexport type TextAttrs = Attrs\nexport interface ShapeAndTextAttrs {\n  shape: ShapeAttrs\n  text: TextAttrs\n}\n\nexport function divideAttrs(attrs: Attrs): ShapeAndTextAttrs {\n  const shapeAttrs = filter(attrs, (k, _) => !k.startsWith('text.'))\n  const textAttrs: Attrs = {}\n  Object.keys(attrs).forEach((k) => {\n    if (k.startsWith('text.')) {\n      const key = k.slice('text.'.length)\n      textAttrs[key] = attrs[k]\n    } else if (k !== 'y') {\n      textAttrs[k] = attrs[k]\n    }\n  })\n\n  return {\n    shape: shapeAttrs,\n    text: textAttrs,\n  }\n}\n\nexport interface Attrs {\n  [key: string]: string\n}\n\nexport function filter(svgAttrs: Attrs, f: (k: string, v: string) => boolean): Attrs {\n  return Object.keys(svgAttrs).reduce((obj, k) => {\n    const value = svgAttrs[k]\n    if (f(k, value)) {\n      obj[k] = value\n    }\n    return obj\n  }, {} as Attrs)\n}\n\nexport function num(v?: any): number | undefined {\n  return v ? Number(v) : undefined\n}\n\nexport function asString(arg: any): {[key: string]: string} {\n  return Object.keys(arg).reduce((obj, k) => {\n    obj[k] = arg[k].toString()\n    return obj\n  }, {} as {[key: string]: string})\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('g',[_c('path',_vm._b({attrs:{\"d\":_vm.d}},'path',_vm.attrs.shape,false)),_c('TextContent',{attrs:{\"content\":_vm.shape.text,\"position\":_vm.textPosition,\"attrs\":_vm.attrs.text}}),_c('GridArea',{attrs:{\"box\":_vm.shape.box}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"b4f43d4a-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Person.vue?vue&type=template&id=a16010c4&scoped=true&\"","import {BuildingBlock} from '@/furumai/setup/BuildingBlock'\nimport {Env} from '@/furumai/setup/Env'\nimport {hide} from '@/furumai/grid/utils'\n\nexport class HideBlock implements BuildingBlock {\n  constructor(private id: string) {\n  }\n\n  public setup(env: Env): undefined {\n    const area = env.findGridArea(this.id)\n    if (area) {\n      hide(area)\n      return undefined\n    } else {\n      throw new Error(`not found: ${this.id}`)\n    }\n  }\n\n  public find(id: string): BuildingBlock | undefined {\n    return id === this.id ? this : undefined\n  }\n}\n","\n\n\n\n\n\n\n\n\nimport {Component, Vue} from 'vue-property-decorator'\nimport FurumaiApp1 from '@/components/FurumaiApp1.vue'\nimport {DataEncoderDecoderV1} from '@/io/DataEncoderDecoderV1'\n\n@Component({\n  components: {\n    FurumaiApp1,\n  },\n})\nexport default class FurumaiApp extends Vue {\n  private static codec = new DataEncoderDecoderV1()\n\n  private version: number = -1\n  private furumaiData: any = {}\n\n  public mounted() {\n    const params = this.$route.params as any\n    if (params.format === FurumaiApp.codec.formatVersion) {\n      const data = FurumaiApp.codec.decode(params.data)\n      const {version, ...rest} = data\n      if (version && version > 0) {\n        this.version = version || 1\n        this.furumaiData = rest\n      } else {\n        throw new Error(`app version is not specified`)\n      }\n    } else {\n      throw new Error(`unsupported data format version: ${params.format}`)\n    }\n  }\n\n  public changeUrl(furumaiData: any) {\n    this.furumaiData = furumaiData\n    const data = {\n      version: this.version,\n      ...furumaiData,\n    }\n    const encoded = FurumaiApp.codec.encode(data)\n    this.$router.push({name: 'furumai', params: {format: FurumaiApp.codec.formatVersion, data: encoded}})\n  }\n}\n","export class SecureSvgAttrs {\n  public static of(svgAttrs: { [key: string]: any }): SecureSvgAttrs {\n    Object.keys(svgAttrs).forEach((k) => {\n      const v = svgAttrs[k]\n      // check attribute for security reason\n      if (!isValid(k, v)) {\n        throw new Error(`Sorry, the attribute is not used for security reason: ${k} => ${v}`)\n      }\n    })\n    return new SecureSvgAttrs(svgAttrs)\n  }\n\n  private constructor(\n    readonly svgAttrs: { [key: string]: any },\n  ) {}\n}\n\nfunction isColor(text: string) {\n  const color3 = /^#[0-9a-fA-F]{3}$/\n  const color6 = /^#[0-9a-fA-F]{6}$/\n  return color3.test(text) || color6.test(text)\n}\n\nconst availableSvgAttributes = new Set([\n  'cx',\n  'cy',\n  'd',\n  'dx',\n  'dy',\n  'fill',\n  'font-family',\n  'font-size',\n  'font-stretch',\n  'font-style',\n  'font-variant',\n  'font-weight',\n  'fx',\n  'fy',\n  'height',\n  'id',\n  'lengthAdjust',\n  'markerHeight',\n  'markerUnits',\n  'markerWidth',\n  'method',\n  'orient',\n  'overline-position',\n  'overline-thickness',\n  'pathLength',\n  'rx',\n  'ry',\n  'slope',\n  'spreadMethod',\n  'textLength',\n  'underline-position',\n  'underline-thickness',\n  'viewBox',\n  'width',\n  'x',\n  'y',\n  'alignment-baseline',\n  'baseline-shift',\n  'color',\n  'display',\n  'dominant-baseline',\n  'enable-background',\n  'fill-opacity',\n  'fill-rule',\n  'flood-color',\n  'flood-opacity',\n  'font-size-adjust',\n  'kerning',\n  'letter-spacing',\n  'lighting-color',\n  'opacity',\n  'overflow',\n  'pointer-events',\n  'shape-rendering',\n  'stop-color',\n  'stop-opacity',\n  'stroke-dasharray',\n  'stroke-dashoffset',\n  'stroke-linecap',\n  'stroke-linejoin',\n  'stroke-miterlimit',\n  'stroke-opacity',\n  'stroke-width',\n  'stroke',\n  'text-anchor',\n  'text-decoration',\n  'visibility',\n  'word-spacing',\n  'writing-mode',\n  'margin',\n  'padding',\n])\n\nfunction isValid(attrName: string, attrValue: string) {\n  function checkName(name: string) {\n    return availableSvgAttributes.has(attrName) ||\n      attrName.startsWith('text.') && availableSvgAttributes.has(attrName.slice('text.'.length))\n  }\n\n  function checkValue(v: string) {\n    return /^[0-9a-zA-Z\\s\\-_.,%]*$/.test(v) || isColor(v) || !isNaN(Number(v))\n  }\n\n  return checkName(attrName) && checkValue(attrValue)\n}\n\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Prop, Vue, Watch} from 'vue-property-decorator'\nimport {Shape} from '@/shared/vue/Shape'\nimport Group from './Group.vue'\nimport {convertSvg} from '@/rough/rougher'\n\n@Component({\n  components: {\n    Group,\n  },\n})\nexport default class SvgComponent extends Vue {\n  @Prop()\n  public shape!: Shape\n\n  @Prop()\n  public rough!: boolean\n\n  public roughHtml: string = ``\n\n  public mounted() {\n    Vue.nextTick(() => this.refresh())\n  }\n\n  @Watch('shape')\n  public onShapeChanged(val: Shape, newVal: Shape) {\n    this.roughHtml = ''\n    Vue.nextTick(() => this.refresh())\n  }\n\n  private refresh() {\n    const c = this.$refs.svgContainer as HTMLElement\n    const svg = c.firstElementChild as SVGElement\n    const converted = convertSvg(svg)\n    this.roughHtml = converted.innerHTML\n  }\n}\n","import {Vector2d} from '@/layout/engine/Vector2d'\nimport {Box} from '@/layout/engine/Box'\n\nexport class Arrow {\n  public static singleton = new Arrow()\n\n  public fit(tail: Box, head: Box, dx: number, dy: number): Box {\n    function cut(v: Vector2d, box: Box): Vector2d {\n      const candidates: Vector2d[] = []\n      if (v.dx < 0) {\n        const ratio = -(v.x1 - box.cx + box.width / 2) / v.dx\n        candidates.push(v.multiple(ratio))\n      } else if (v.dx > 0) {\n        const ratio = (box.cx - v.x1 + box.width / 2) / v.dx\n        candidates.push(v.multiple(ratio))\n      }\n      if (v.dy < 0) {\n        const ratio = -(v.y1 - box.cy + box.height / 2) / v.dy\n        candidates.push(v.multiple(ratio))\n      } else if (v.dy > 0) {\n        const ratio = (box.cy - v.y1 + box.height / 2) / v.dy\n        candidates.push(v.multiple(ratio))\n      }\n\n      if (candidates.length === 1) {\n        return candidates[0]\n      } else if (candidates.length === 2) {\n        const a = candidates[0]\n        const b = candidates[1]\n        if (a.length < b.length) {\n          return a\n        } else {\n          return b\n        }\n      } else {\n        throw new Error('not implemented: ' + JSON.stringify(candidates) + ', ' + JSON.stringify(v))\n      }\n    }\n\n    const x1 = tail.cx + dx\n    const y1 = tail.cy + dy\n    const x2 = head.cx + dx\n    const y2 = head.cy + dy\n    const vec = new Vector2d(x1, y1, x2, y2)\n    const tailCut = cut(vec, tail)\n    const headCut = cut(vec.reverse(), head)\n\n    const x = x1 + tailCut.dx\n    const y = y1 + tailCut.dy\n    const width = (x2 + headCut.dx) - x\n    const height = (y2 + headCut.dy) - y\n    // FIXME margin / padding\n    return Box.of({x, y, width, height})\n  }\n}\n","import {RuleNode} from 'antlr4ts/tree/RuleNode'\nimport {ErrorNode} from 'antlr4ts/tree/ErrorNode'\nimport {TerminalNode} from 'antlr4ts/tree/TerminalNode'\nimport {ParseTree} from 'antlr4ts/tree'\nimport {ANTLRErrorListener, CharStreams, CommonTokenStream, RecognitionException, Recognizer} from 'antlr4ts'\nimport {FurumaiLexer} from '@/generated/antlr4ts/FurumaiLexer'\nimport {\n  AssignmentContext,\n  Attr_listContext,\n  Attr_stmtContext,\n  Edge_stmtContext,\n  FurumaiParser,\n  GroupContext,\n  HideContext,\n  MomentContext,\n  Node_stmtContext,\n  Stmt_listContext,\n  StmtContext,\n  StoryContext,\n  ZoneContext,\n} from '@/generated/antlr4ts/FurumaiParser'\nimport {FurumaiVisitor} from '@/generated/antlr4ts/FurumaiVisitor'\nimport {HideBlock} from '@/furumai/setup/HideBlock'\nimport {HideEdge} from '@/furumai/setup/HideEdge'\nimport {Edge} from '@/furumai/setup/Edge'\nimport {BuildingBlock} from '@/furumai/setup/BuildingBlock'\nimport {Compound} from '@/furumai/setup/Compound'\nimport {Node} from '@/furumai/setup/Node'\nimport {Story} from '@/furumai/setup/Story'\nimport {Attribute, Attributes, ElementAttribute, StatementList, toDict} from '@/furumai/utils'\n\nexport function parse(text: string): Story | SyntaxError {\n  const inputStream = CharStreams.fromString(text)\n  const errorListener = new FurumaiErrorListener()\n  const lexer = new FurumaiLexer(inputStream)\n  lexer.removeErrorListeners()\n  lexer.addErrorListener(errorListener)\n  const tokenStream = new CommonTokenStream(lexer)\n  const parser = new FurumaiParser(tokenStream)\n  parser.removeErrorListeners()\n  parser.addErrorListener(errorListener)\n  const tree = parser.story()\n  if (errorListener.errors.length > 0) {\n    return new SyntaxError(JSON.stringify(errorListener.errors))\n  } else {\n    const visitor = new FurumaiVisitorImpl()\n    return visitor.visit(tree)\n  }\n}\n\nclass FurumaiErrorListener implements ANTLRErrorListener<any> {\n  public errors: any[] = []\n\n  public syntaxError<T extends any>(\n    recognizer: Recognizer<T, any>,\n    offendingSymbol?: T,\n    line?: number,\n    charPositionInLine?: number,\n    msg?: string,\n    e?: RecognitionException,\n  ): void {\n    const error = {\n      message: msg,\n      range: {\n        at: {\n          column: charPositionInLine,\n          row: line,\n        },\n      },\n    }\n    this.errors.push(error)\n  }\n}\n\nclass FurumaiVisitorImpl implements FurumaiVisitor<any> {\n  private static isBuildingBlock(a: any): boolean {\n    return a instanceof Compound\n      || a instanceof Node\n      || a instanceof Edge\n      || a instanceof HideBlock\n      || a instanceof HideEdge\n  }\n\n  public visitStory(ctx: StoryContext): Story {\n    const eof = ctx.EOF()\n    if (eof) {\n      const ss: StatementList[] = ctx.moment().map((frame) => this.visit(frame))\n      return new Story(ss)\n    } else {\n      throw new SyntaxError('invalid input statement syntax')\n    }\n  }\n\n  public visitMoment(ctx: MomentContext): StatementList {\n    return this.visit(ctx.stmt_list())\n  }\n\n  public visitStmt_list(ctx: Stmt_listContext): StatementList {\n    const statements = ctx.stmt().map((stmt) => this.visit(stmt))\n    const blocks: BuildingBlock[] = []\n    const childAttributes: ElementAttribute[] = []\n    const attributes: Attribute[] = []\n    statements.forEach((a) => {\n      if (FurumaiVisitorImpl.isBuildingBlock(a)) {\n        blocks.push(a)\n      } else if (a instanceof ElementAttribute) {\n        childAttributes.push(a)\n      } else if (a instanceof Attribute) {\n        attributes.push(a as Attribute)\n      } else {\n        throw new Error('not implemented: ' + JSON.stringify(a))\n      }\n    })\n\n    return {\n      blocks,\n      attributes,\n      childAttributes,\n    }\n  }\n\n  public visitStmt(ctx: StmtContext): Node | Edge | Compound {\n    const stmt =\n      ctx.node_stmt() ||\n      ctx.edge_stmt() ||\n      ctx.attr_stmt() ||\n      ctx.assignment() ||\n      ctx.zone() ||\n      ctx.group() ||\n      ctx.hide()\n\n    if (stmt) {\n      return this.visit(stmt)\n    } else {\n      throw new Error('not implemented')\n    }\n  }\n\n  public visitAttr_stmt(ctx: Attr_stmtContext): ElementAttribute {\n    const attrType = ctx.GROUP() || ctx.NODE() || ctx.EDGE() || ctx.ZONE()\n    const attrList = ctx.attr_list()\n    const attributes = attrList ? this.visit(attrList) : []\n    if (attrType) {\n      return new ElementAttribute(\n        attrType.text,\n        attributes,\n      )\n    } else {\n      throw new Error('internal error: invalid state (parse)')\n    }\n  }\n\n  public visitAttr_list(ctx: Attr_listContext): Attribute[] {\n    return ctx.assignment().map((a) => this.visit(a))\n  }\n\n  public visitAssignment(ctx: AssignmentContext): Attribute {\n    const ids = ctx.ID().map((n) => n.text)\n    return new Attribute(ids[0], ids[1])\n  }\n\n  public visitEdge_stmt(ctx: Edge_stmtContext): Edge {\n    const ids = ctx.ID().map((n) => n.text)\n    const attrList = ctx.attr_list()\n    if (attrList) {\n      const attrs: Attribute[] = this.visit(attrList)\n      return Edge.of(ids[0], '->', ids[1], Attributes.of(attrs))\n    } else {\n      return Edge.of(ids[0], '->', ids[1])\n    }\n  }\n\n  public visitNode_stmt(ctx: Node_stmtContext): Node {\n    const attrList = ctx.attr_list()\n    if (attrList) {\n      const attrs: Attribute[] = this.visit(attrList)\n      return new Node(ctx.ID().text, Attributes.of(attrs))\n    } else {\n      return new Node(ctx.ID().text)\n    }\n  }\n\n  public visitGroup(ctx: GroupContext): Compound {\n    const stmtList = ctx.stmt_list()\n    if (stmtList) {\n      const s: StatementList = this.visit(stmtList)\n      const attrs = Attributes.of(s.attributes)\n      const childAttrs = toDict(s.childAttributes)\n      return new Compound(ctx.ID().text, 'group', s.blocks, attrs, childAttrs)\n    } else {\n      return new Compound(ctx.ID().text, 'group')\n    }\n  }\n\n  public visitZone(ctx: ZoneContext): Compound {\n    const stmtList = ctx.stmt_list()\n    if (stmtList) {\n      const s: StatementList = this.visit(stmtList)\n      const attrs = Attributes.of(s.attributes)\n      const childAttrs = toDict(s.childAttributes)\n      return new Compound(ctx.ID().text, 'zone', s.blocks, attrs, childAttrs)\n    } else {\n      return new Compound(ctx.ID().text, 'zone')\n    }\n  }\n\n  public visitHide(ctx: HideContext): BuildingBlock {\n    const ids = ctx.ID().map((n) => n.text)\n    if (ids.length === 1) {\n      return new HideBlock(ids[0])\n    } else if (ids.length === 2) {\n      return new HideEdge(ids[0], ids[1])\n    } else {\n      throw new Error('not implemented')\n    }\n  }\n\n  public visit(tree: ParseTree): any {\n    return tree.accept(this)\n  }\n\n  public visitChildren(node: RuleNode): any {\n    let result\n    const n = node.childCount\n    for (let i = 0; i < n; i++) {\n      const c = node.getChild(i)\n      result = c.accept(this)\n    }\n    return result\n  }\n\n  public visitErrorNode(node: ErrorNode): any {\n    return undefined\n  }\n\n  public visitTerminal(node: TerminalNode): any {\n    return undefined\n  }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Prop, Vue, Watch} from 'vue-property-decorator'\nimport {Route} from 'vue-router'\nimport {vue} from '@/shared/vue/utils'\nimport * as shared from '@/shared/vue/Group'\nimport SvgComponent from '@/components/svg/SvgComponent.vue'\n\ninterface AppParams1 {\n  code: string\n  animation?: {\n    active?: boolean\n    speed?: number,\n  }\n  rough?: boolean\n  displayFirstSvg?: boolean\n}\n\n@Component({\n  components: {\n    SvgComponent,\n  },\n})\nexport default class FurumaiApp1 extends Vue {\n  @Prop({default: {}}) private furumaiData!: AppParams1\n  @Prop() private changeUrl!: (data: AppParams1) => void\n  @Prop({default: true}) private editorMode!: boolean\n  @Prop({default: true}) private viewCode!: boolean\n\n  private errors: string = ''\n\n  private defaultConfig = `group[margin='100 20', padding='20 16'];\nzone[margin='20 150', padding='20 16'];\nnode[margin='24 20', padding='24 16', width=215, height=150, 'stroke-width'=2];\n'font-size'=24;`\n\n  private svgs: shared.Group[] = []\n\n  @Watch('$route')\n  public onRouteChanged(route: Route, oldRoute: Route) {\n    this.draw(this.furumaiData.code)\n  }\n\n  public pre(text: string): string {\n    return text.replace(/</g, '&lt;')\n  }\n\n  public mounted() {\n    const editor = this.$refs.editor as HTMLElement\n    if (editor) {\n      editor.focus()\n    }\n    this.draw(this.furumaiData.code)\n  }\n\n  public furumai() {\n    this.changeUrl(this.furumaiData)\n  }\n\n  public download() {\n    const div = this.$refs.moments as HTMLElement\n    const cards = div.getElementsByTagName('svg')\n\n    for (let i = 0; i < cards.length; i++) {\n      const c = cards.item(i)\n      if (c) {\n        const blob = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>' + c.outerHTML\n        const url = window.URL.createObjectURL(new Blob([blob], {type: 'image/svg+xml'}))\n        const link = document.createElement('a')\n        link.href = url\n        link.download = `furumai-${i}.svg`\n        document.body.appendChild(link)\n        link.click()\n        document.body.removeChild(link)\n      }\n    }\n  }\n\n  private toSvgOrError(text: string): shared.Group[] | Error {\n    try {\n      return vue(text, this.defaultConfig)\n    } catch (e) {\n      return e\n    }\n  }\n\n  private draw(text: string): void {\n    this.errors = ''\n    const animationConfig = {\n      ...this.furumaiData.animation,\n    }\n    let svgs = this.toSvgOrError(text)\n    if (svgs instanceof Error) {\n        const stack = svgs.stack || ''\n        this.errors = stack\n    } else {\n        if (!this.furumaiData.displayFirstSvg) {\n            const [first, ...rest] = svgs\n            svgs = rest.length > 0 ? rest : svgs\n        }\n        this.svgs = svgs\n    }\n  }\n}\n\n","\n\n\n\n\n\nimport {Component, Vue} from 'vue-property-decorator'\n\n@Component\nexport default class Footer extends Vue {\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GridArea.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GridArea.vue?vue&type=script&lang=ts&\"","import {Container} from '@/furumai//grid/Container'\nimport {Frame} from '@/furumai//setup/Frame'\nimport {Env} from '@/furumai/setup/Env'\nimport {Attributes, Attrs, StatementList, toDict} from '@/furumai/utils'\nimport {Portrait} from '@/layout/engine/Portrait'\nimport {Box} from '@/layout/engine/Box'\n\nexport class Story {\n  constructor(private ss: StatementList[]) {\n  }\n\n  private get mode() {\n    const attrs = Attributes.of(this.ss[0].attributes)\n    const {config, ...rest} = attrs.attrs\n    const conf: Attrs = {}\n    const cf = config || ''\n    cf.split(',').forEach((line) => {\n      const kv = line.split('=')\n      conf[kv[0]] = kv[1]\n    })\n    return {\n      mode: '_',\n      align: '_',\n      ...conf,\n      ...rest,\n    }\n  }\n\n  public play(boot: Frame[]): IterableIterator<Container> {\n    const {mode, align} = this.mode // FIXME control flow\n    const [init, ...updates] = this.ss.map((s) => Frame.of(s.blocks, s.attributes, s.childAttributes))\n    boot.push(init)\n    return new ContainerIterableIterator(\n      new EnvIterableIterator(boot, updates.values(), mode === 'diff'),\n      align === 'center',\n    )\n  }\n\n  public baseFrames(): Frame[] {\n     return this.ss.map((s) => Frame.of(s.blocks, s.attributes, s.childAttributes))\n  }\n}\n\nclass EnvIterableIterator implements IterableIterator<Env> {\n  private last: Env | undefined = undefined\n\n  constructor(private boot: Frame[], private frames: IterableIterator<Frame>, private diffMode: boolean) {}\n\n  public next(): IteratorResult<Env> {\n    if (this.last) {\n      const next = this.frames.next()\n      if (next.done) {\n        return next\n      } else {\n        const nextFrame = next.value\n        const baseEnv = this.diffMode ? this.last : this.initEnv()\n        this.last = nextFrame.setup(baseEnv)\n        return {\n          done: false,\n          value: this.last,\n        }\n      }\n    } else {\n      this.last = this.initEnv()\n      return {\n        done: false,\n        value: this.last,\n      }\n    }\n  }\n\n  public [Symbol.iterator](): IterableIterator<Env> {\n    return this\n  }\n\n  private initEnv(): Env {\n    const bootEnv = Env.of(new Container('_init', {}, new Portrait([], Box.zero)), {})\n    return this.boot.reduce((env, frame) => {\n      return frame.setup(env)\n    }, bootEnv)\n  }\n}\n\nclass ContainerIterableIterator implements IterableIterator<Container> {\n  constructor(private it: EnvIterableIterator, private centerAlign: boolean) {}\n\n  public next(): IteratorResult<Container> {\n    const next = this.it.next()\n    if (next.done) {\n      return next\n    } else {\n      const env = next.value\n      const fit = env.container.map((a) => a.fit({x: 0, y: 0}))\n      const ret = this.centerAlign ? fit.map((a) => a.fit({x: 0, y: 0}, {width: fit.get.box.width})) : fit\n      return {\n        done: next.done,\n        value: ret,\n      }\n    }\n  }\n\n  public [Symbol.iterator](): IterableIterator<Container> {\n    return this\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('router-view')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=67ac188c&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Header'),_c('router-view'),_c('Footer')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"b4f43d4a-vue-loader-template\\\"}!../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLayout.vue?vue&type=template&id=239cc65c&\"","import { render, staticRenderFns } from \"./Arrow.vue?vue&type=template&id=464055c6&scoped=true&\"\nimport script from \"./Arrow.vue?vue&type=script&lang=ts&\"\nexport * from \"./Arrow.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"464055c6\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cylinder.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cylinder.vue?vue&type=script&lang=ts&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.version === 1)?_c('FurumaiApp1',{attrs:{\"furumaiData\":_vm.furumaiData,\"changeUrl\":_vm.changeUrl}}):(_vm.version === -1)?_c('div',[_vm._v(\"version = -1\")]):_c('div',[_vm._v(\"version error: \"+_vm._s(_vm.version))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"b4f43d4a-vue-loader-template\\\"}!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FurumaiApp.vue?vue&type=template&id=552de43b&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('g',[_c('rect',_vm._b({},'rect',_vm.attrs.shape,false)),_c('TextContent',{attrs:{\"content\":_vm.shape.text,\"position\":_vm.textPosition,\"attrs\":_vm.attrs.text}}),_c('GridArea',{attrs:{\"box\":_vm.shape.box}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"b4f43d4a-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Box.vue?vue&type=template&id=55dd33ce&scoped=true&\"","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Group.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Group.vue?vue&type=script&lang=ts&\"","// Generated from Furumai.g4 by ANTLR 4.7.3-SNAPSHOT\n\n\nimport { ATN } from \"antlr4ts/atn/ATN\";\nimport { ATNDeserializer } from \"antlr4ts/atn/ATNDeserializer\";\nimport { FailedPredicateException } from \"antlr4ts/FailedPredicateException\";\nimport { NotNull } from \"antlr4ts/Decorators\";\nimport { NoViableAltException } from \"antlr4ts/NoViableAltException\";\nimport { Override } from \"antlr4ts/Decorators\";\nimport { Parser } from \"antlr4ts/Parser\";\nimport { ParserRuleContext } from \"antlr4ts/ParserRuleContext\";\nimport { ParserATNSimulator } from \"antlr4ts/atn/ParserATNSimulator\";\nimport { ParseTreeListener } from \"antlr4ts/tree/ParseTreeListener\";\nimport { ParseTreeVisitor } from \"antlr4ts/tree/ParseTreeVisitor\";\nimport { RecognitionException } from \"antlr4ts/RecognitionException\";\nimport { RuleContext } from \"antlr4ts/RuleContext\";\n//import { RuleVersion } from \"antlr4ts/RuleVersion\";\nimport { TerminalNode } from \"antlr4ts/tree/TerminalNode\";\nimport { Token } from \"antlr4ts/Token\";\nimport { TokenStream } from \"antlr4ts/TokenStream\";\nimport { Vocabulary } from \"antlr4ts/Vocabulary\";\nimport { VocabularyImpl } from \"antlr4ts/VocabularyImpl\";\n\nimport * as Utils from \"antlr4ts/misc/Utils\";\n\nimport { FurumaiListener } from \"./FurumaiListener\";\nimport { FurumaiVisitor } from \"./FurumaiVisitor\";\n\n\nexport class FurumaiParser extends Parser {\n\tpublic static readonly T__0 = 1;\n\tpublic static readonly T__1 = 2;\n\tpublic static readonly T__2 = 3;\n\tpublic static readonly T__3 = 4;\n\tpublic static readonly T__4 = 5;\n\tpublic static readonly T__5 = 6;\n\tpublic static readonly T__6 = 7;\n\tpublic static readonly T__7 = 8;\n\tpublic static readonly T__8 = 9;\n\tpublic static readonly NODE = 10;\n\tpublic static readonly EDGE = 11;\n\tpublic static readonly GROUP = 12;\n\tpublic static readonly ZONE = 13;\n\tpublic static readonly HIDE = 14;\n\tpublic static readonly DELETE = 15;\n\tpublic static readonly ID = 16;\n\tpublic static readonly SPACES = 17;\n\tpublic static readonly RULE_story = 0;\n\tpublic static readonly RULE_moment = 1;\n\tpublic static readonly RULE_stmt_list = 2;\n\tpublic static readonly RULE_stmt = 3;\n\tpublic static readonly RULE_attr_stmt = 4;\n\tpublic static readonly RULE_attr_list = 5;\n\tpublic static readonly RULE_assignment = 6;\n\tpublic static readonly RULE_edge_stmt = 7;\n\tpublic static readonly RULE_node_stmt = 8;\n\tpublic static readonly RULE_group = 9;\n\tpublic static readonly RULE_zone = 10;\n\tpublic static readonly RULE_hide = 11;\n\t// tslint:disable:no-trailing-whitespace\n\tpublic static readonly ruleNames: string[] = [\n\t\t\"story\", \"moment\", \"stmt_list\", \"stmt\", \"attr_stmt\", \"attr_list\", \"assignment\", \n\t\t\"edge_stmt\", \"node_stmt\", \"group\", \"zone\", \"hide\",\n\t];\n\n\tprivate static readonly _LITERAL_NAMES: Array<string | undefined> = [\n\t\tundefined, \"'---'\", \"';'\", \"'['\", \"','\", \"']'\", \"'='\", \"'->'\", \"'{'\", \n\t\t\"'}'\", \"'node'\", \"'edge'\", \"'group'\", \"'zone'\", \"'hide'\", \"'delete'\",\n\t];\n\tprivate static readonly _SYMBOLIC_NAMES: Array<string | undefined> = [\n\t\tundefined, undefined, undefined, undefined, undefined, undefined, undefined, \n\t\tundefined, undefined, undefined, \"NODE\", \"EDGE\", \"GROUP\", \"ZONE\", \"HIDE\", \n\t\t\"DELETE\", \"ID\", \"SPACES\",\n\t];\n\tpublic static readonly VOCABULARY: Vocabulary = new VocabularyImpl(FurumaiParser._LITERAL_NAMES, FurumaiParser._SYMBOLIC_NAMES, []);\n\n\t// @Override\n\t// @NotNull\n\tpublic get vocabulary(): Vocabulary {\n\t\treturn FurumaiParser.VOCABULARY;\n\t}\n\t// tslint:enable:no-trailing-whitespace\n\n\t// @Override\n\tpublic get grammarFileName(): string { return \"Furumai.g4\"; }\n\n\t// @Override\n\tpublic get ruleNames(): string[] { return FurumaiParser.ruleNames; }\n\n\t// @Override\n\tpublic get serializedATN(): string { return FurumaiParser._serializedATN; }\n\n\tconstructor(input: TokenStream) {\n\t\tsuper(input);\n\t\tthis._interp = new ParserATNSimulator(FurumaiParser._ATN, this);\n\t}\n\t// @RuleVersion(0)\n\tpublic story(): StoryContext {\n\t\tlet _localctx: StoryContext = new StoryContext(this._ctx, this.state);\n\t\tthis.enterRule(_localctx, 0, FurumaiParser.RULE_story);\n\t\tlet _la: number;\n\t\ttry {\n\t\t\tlet _alt: number;\n\t\t\tthis.enterOuterAlt(_localctx, 1);\n\t\t\t{\n\t\t\tthis.state = 24;\n\t\t\tthis.moment();\n\t\t\tthis.state = 29;\n\t\t\tthis._errHandler.sync(this);\n\t\t\t_alt = this.interpreter.adaptivePredict(this._input, 0, this._ctx);\n\t\t\twhile (_alt !== 2 && _alt !== ATN.INVALID_ALT_NUMBER) {\n\t\t\t\tif (_alt === 1) {\n\t\t\t\t\t{\n\t\t\t\t\t{\n\t\t\t\t\tthis.state = 25;\n\t\t\t\t\tthis.match(FurumaiParser.T__0);\n\t\t\t\t\tthis.state = 26;\n\t\t\t\t\tthis.moment();\n\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.state = 31;\n\t\t\t\tthis._errHandler.sync(this);\n\t\t\t\t_alt = this.interpreter.adaptivePredict(this._input, 0, this._ctx);\n\t\t\t}\n\t\t\tthis.state = 33;\n\t\t\tthis._errHandler.sync(this);\n\t\t\t_la = this._input.LA(1);\n\t\t\tif (_la === FurumaiParser.T__0) {\n\t\t\t\t{\n\t\t\t\tthis.state = 32;\n\t\t\t\tthis.match(FurumaiParser.T__0);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.state = 35;\n\t\t\tthis.match(FurumaiParser.EOF);\n\t\t\t}\n\t\t}\n\t\tcatch (re) {\n\t\t\tif (re instanceof RecognitionException) {\n\t\t\t\t_localctx.exception = re;\n\t\t\t\tthis._errHandler.reportError(this, re);\n\t\t\t\tthis._errHandler.recover(this, re);\n\t\t\t} else {\n\t\t\t\tthrow re;\n\t\t\t}\n\t\t}\n\t\tfinally {\n\t\t\tthis.exitRule();\n\t\t}\n\t\treturn _localctx;\n\t}\n\t// @RuleVersion(0)\n\tpublic moment(): MomentContext {\n\t\tlet _localctx: MomentContext = new MomentContext(this._ctx, this.state);\n\t\tthis.enterRule(_localctx, 2, FurumaiParser.RULE_moment);\n\t\ttry {\n\t\t\tthis.enterOuterAlt(_localctx, 1);\n\t\t\t{\n\t\t\tthis.state = 37;\n\t\t\tthis.stmt_list();\n\t\t\t}\n\t\t}\n\t\tcatch (re) {\n\t\t\tif (re instanceof RecognitionException) {\n\t\t\t\t_localctx.exception = re;\n\t\t\t\tthis._errHandler.reportError(this, re);\n\t\t\t\tthis._errHandler.recover(this, re);\n\t\t\t} else {\n\t\t\t\tthrow re;\n\t\t\t}\n\t\t}\n\t\tfinally {\n\t\t\tthis.exitRule();\n\t\t}\n\t\treturn _localctx;\n\t}\n\t// @RuleVersion(0)\n\tpublic stmt_list(): Stmt_listContext {\n\t\tlet _localctx: Stmt_listContext = new Stmt_listContext(this._ctx, this.state);\n\t\tthis.enterRule(_localctx, 4, FurumaiParser.RULE_stmt_list);\n\t\tlet _la: number;\n\t\ttry {\n\t\t\tlet _alt: number;\n\t\t\tthis.enterOuterAlt(_localctx, 1);\n\t\t\t{\n\t\t\tthis.state = 39;\n\t\t\tthis.stmt();\n\t\t\tthis.state = 44;\n\t\t\tthis._errHandler.sync(this);\n\t\t\t_alt = this.interpreter.adaptivePredict(this._input, 2, this._ctx);\n\t\t\twhile (_alt !== 2 && _alt !== ATN.INVALID_ALT_NUMBER) {\n\t\t\t\tif (_alt === 1) {\n\t\t\t\t\t{\n\t\t\t\t\t{\n\t\t\t\t\tthis.state = 40;\n\t\t\t\t\tthis.match(FurumaiParser.T__1);\n\t\t\t\t\tthis.state = 41;\n\t\t\t\t\tthis.stmt();\n\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.state = 46;\n\t\t\t\tthis._errHandler.sync(this);\n\t\t\t\t_alt = this.interpreter.adaptivePredict(this._input, 2, this._ctx);\n\t\t\t}\n\t\t\tthis.state = 48;\n\t\t\tthis._errHandler.sync(this);\n\t\t\t_la = this._input.LA(1);\n\t\t\tif (_la === FurumaiParser.T__1) {\n\t\t\t\t{\n\t\t\t\tthis.state = 47;\n\t\t\t\tthis.match(FurumaiParser.T__1);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t}\n\t\t}\n\t\tcatch (re) {\n\t\t\tif (re instanceof RecognitionException) {\n\t\t\t\t_localctx.exception = re;\n\t\t\t\tthis._errHandler.reportError(this, re);\n\t\t\t\tthis._errHandler.recover(this, re);\n\t\t\t} else {\n\t\t\t\tthrow re;\n\t\t\t}\n\t\t}\n\t\tfinally {\n\t\t\tthis.exitRule();\n\t\t}\n\t\treturn _localctx;\n\t}\n\t// @RuleVersion(0)\n\tpublic stmt(): StmtContext {\n\t\tlet _localctx: StmtContext = new StmtContext(this._ctx, this.state);\n\t\tthis.enterRule(_localctx, 6, FurumaiParser.RULE_stmt);\n\t\ttry {\n\t\t\tthis.state = 57;\n\t\t\tthis._errHandler.sync(this);\n\t\t\tswitch ( this.interpreter.adaptivePredict(this._input, 4, this._ctx) ) {\n\t\t\tcase 1:\n\t\t\t\tthis.enterOuterAlt(_localctx, 1);\n\t\t\t\t{\n\t\t\t\tthis.state = 50;\n\t\t\t\tthis.node_stmt();\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\tthis.enterOuterAlt(_localctx, 2);\n\t\t\t\t{\n\t\t\t\tthis.state = 51;\n\t\t\t\tthis.edge_stmt();\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\t\t\t\tthis.enterOuterAlt(_localctx, 3);\n\t\t\t\t{\n\t\t\t\tthis.state = 52;\n\t\t\t\tthis.attr_stmt();\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 4:\n\t\t\t\tthis.enterOuterAlt(_localctx, 4);\n\t\t\t\t{\n\t\t\t\tthis.state = 53;\n\t\t\t\tthis.assignment();\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 5:\n\t\t\t\tthis.enterOuterAlt(_localctx, 5);\n\t\t\t\t{\n\t\t\t\tthis.state = 54;\n\t\t\t\tthis.group();\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 6:\n\t\t\t\tthis.enterOuterAlt(_localctx, 6);\n\t\t\t\t{\n\t\t\t\tthis.state = 55;\n\t\t\t\tthis.zone();\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 7:\n\t\t\t\tthis.enterOuterAlt(_localctx, 7);\n\t\t\t\t{\n\t\t\t\tthis.state = 56;\n\t\t\t\tthis.hide();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tcatch (re) {\n\t\t\tif (re instanceof RecognitionException) {\n\t\t\t\t_localctx.exception = re;\n\t\t\t\tthis._errHandler.reportError(this, re);\n\t\t\t\tthis._errHandler.recover(this, re);\n\t\t\t} else {\n\t\t\t\tthrow re;\n\t\t\t}\n\t\t}\n\t\tfinally {\n\t\t\tthis.exitRule();\n\t\t}\n\t\treturn _localctx;\n\t}\n\t// @RuleVersion(0)\n\tpublic attr_stmt(): Attr_stmtContext {\n\t\tlet _localctx: Attr_stmtContext = new Attr_stmtContext(this._ctx, this.state);\n\t\tthis.enterRule(_localctx, 8, FurumaiParser.RULE_attr_stmt);\n\t\tlet _la: number;\n\t\ttry {\n\t\t\tthis.enterOuterAlt(_localctx, 1);\n\t\t\t{\n\t\t\tthis.state = 59;\n\t\t\t_la = this._input.LA(1);\n\t\t\tif (!((((_la) & ~0x1F) === 0 && ((1 << _la) & ((1 << FurumaiParser.NODE) | (1 << FurumaiParser.EDGE) | (1 << FurumaiParser.GROUP) | (1 << FurumaiParser.ZONE))) !== 0))) {\n\t\t\tthis._errHandler.recoverInline(this);\n\t\t\t} else {\n\t\t\t\tif (this._input.LA(1) === Token.EOF) {\n\t\t\t\t\tthis.matchedEOF = true;\n\t\t\t\t}\n\n\t\t\t\tthis._errHandler.reportMatch(this);\n\t\t\t\tthis.consume();\n\t\t\t}\n\t\t\tthis.state = 60;\n\t\t\tthis.attr_list();\n\t\t\t}\n\t\t}\n\t\tcatch (re) {\n\t\t\tif (re instanceof RecognitionException) {\n\t\t\t\t_localctx.exception = re;\n\t\t\t\tthis._errHandler.reportError(this, re);\n\t\t\t\tthis._errHandler.recover(this, re);\n\t\t\t} else {\n\t\t\t\tthrow re;\n\t\t\t}\n\t\t}\n\t\tfinally {\n\t\t\tthis.exitRule();\n\t\t}\n\t\treturn _localctx;\n\t}\n\t// @RuleVersion(0)\n\tpublic attr_list(): Attr_listContext {\n\t\tlet _localctx: Attr_listContext = new Attr_listContext(this._ctx, this.state);\n\t\tthis.enterRule(_localctx, 10, FurumaiParser.RULE_attr_list);\n\t\tlet _la: number;\n\t\ttry {\n\t\t\tthis.enterOuterAlt(_localctx, 1);\n\t\t\t{\n\t\t\tthis.state = 62;\n\t\t\tthis.match(FurumaiParser.T__2);\n\t\t\tthis.state = 63;\n\t\t\tthis.assignment();\n\t\t\tthis.state = 70;\n\t\t\tthis._errHandler.sync(this);\n\t\t\t_la = this._input.LA(1);\n\t\t\twhile ((((_la) & ~0x1F) === 0 && ((1 << _la) & ((1 << FurumaiParser.T__1) | (1 << FurumaiParser.T__3) | (1 << FurumaiParser.ID))) !== 0)) {\n\t\t\t\t{\n\t\t\t\t{\n\t\t\t\tthis.state = 65;\n\t\t\t\tthis._errHandler.sync(this);\n\t\t\t\t_la = this._input.LA(1);\n\t\t\t\tif (_la === FurumaiParser.T__1 || _la === FurumaiParser.T__3) {\n\t\t\t\t\t{\n\t\t\t\t\tthis.state = 64;\n\t\t\t\t\t_la = this._input.LA(1);\n\t\t\t\t\tif (!(_la === FurumaiParser.T__1 || _la === FurumaiParser.T__3)) {\n\t\t\t\t\tthis._errHandler.recoverInline(this);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (this._input.LA(1) === Token.EOF) {\n\t\t\t\t\t\t\tthis.matchedEOF = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis._errHandler.reportMatch(this);\n\t\t\t\t\t\tthis.consume();\n\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.state = 67;\n\t\t\t\tthis.assignment();\n\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.state = 72;\n\t\t\t\tthis._errHandler.sync(this);\n\t\t\t\t_la = this._input.LA(1);\n\t\t\t}\n\t\t\tthis.state = 73;\n\t\t\tthis.match(FurumaiParser.T__4);\n\t\t\t}\n\t\t}\n\t\tcatch (re) {\n\t\t\tif (re instanceof RecognitionException) {\n\t\t\t\t_localctx.exception = re;\n\t\t\t\tthis._errHandler.reportError(this, re);\n\t\t\t\tthis._errHandler.recover(this, re);\n\t\t\t} else {\n\t\t\t\tthrow re;\n\t\t\t}\n\t\t}\n\t\tfinally {\n\t\t\tthis.exitRule();\n\t\t}\n\t\treturn _localctx;\n\t}\n\t// @RuleVersion(0)\n\tpublic assignment(): AssignmentContext {\n\t\tlet _localctx: AssignmentContext = new AssignmentContext(this._ctx, this.state);\n\t\tthis.enterRule(_localctx, 12, FurumaiParser.RULE_assignment);\n\t\ttry {\n\t\t\tthis.enterOuterAlt(_localctx, 1);\n\t\t\t{\n\t\t\tthis.state = 75;\n\t\t\tthis.match(FurumaiParser.ID);\n\t\t\tthis.state = 76;\n\t\t\tthis.match(FurumaiParser.T__5);\n\t\t\tthis.state = 77;\n\t\t\tthis.match(FurumaiParser.ID);\n\t\t\t}\n\t\t}\n\t\tcatch (re) {\n\t\t\tif (re instanceof RecognitionException) {\n\t\t\t\t_localctx.exception = re;\n\t\t\t\tthis._errHandler.reportError(this, re);\n\t\t\t\tthis._errHandler.recover(this, re);\n\t\t\t} else {\n\t\t\t\tthrow re;\n\t\t\t}\n\t\t}\n\t\tfinally {\n\t\t\tthis.exitRule();\n\t\t}\n\t\treturn _localctx;\n\t}\n\t// @RuleVersion(0)\n\tpublic edge_stmt(): Edge_stmtContext {\n\t\tlet _localctx: Edge_stmtContext = new Edge_stmtContext(this._ctx, this.state);\n\t\tthis.enterRule(_localctx, 14, FurumaiParser.RULE_edge_stmt);\n\t\tlet _la: number;\n\t\ttry {\n\t\t\tthis.enterOuterAlt(_localctx, 1);\n\t\t\t{\n\t\t\tthis.state = 79;\n\t\t\tthis.match(FurumaiParser.ID);\n\t\t\tthis.state = 80;\n\t\t\tthis.match(FurumaiParser.T__6);\n\t\t\tthis.state = 81;\n\t\t\tthis.match(FurumaiParser.ID);\n\t\t\tthis.state = 83;\n\t\t\tthis._errHandler.sync(this);\n\t\t\t_la = this._input.LA(1);\n\t\t\tif (_la === FurumaiParser.T__2) {\n\t\t\t\t{\n\t\t\t\tthis.state = 82;\n\t\t\t\tthis.attr_list();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t}\n\t\t}\n\t\tcatch (re) {\n\t\t\tif (re instanceof RecognitionException) {\n\t\t\t\t_localctx.exception = re;\n\t\t\t\tthis._errHandler.reportError(this, re);\n\t\t\t\tthis._errHandler.recover(this, re);\n\t\t\t} else {\n\t\t\t\tthrow re;\n\t\t\t}\n\t\t}\n\t\tfinally {\n\t\t\tthis.exitRule();\n\t\t}\n\t\treturn _localctx;\n\t}\n\t// @RuleVersion(0)\n\tpublic node_stmt(): Node_stmtContext {\n\t\tlet _localctx: Node_stmtContext = new Node_stmtContext(this._ctx, this.state);\n\t\tthis.enterRule(_localctx, 16, FurumaiParser.RULE_node_stmt);\n\t\tlet _la: number;\n\t\ttry {\n\t\t\tthis.enterOuterAlt(_localctx, 1);\n\t\t\t{\n\t\t\tthis.state = 85;\n\t\t\tthis.match(FurumaiParser.ID);\n\t\t\tthis.state = 87;\n\t\t\tthis._errHandler.sync(this);\n\t\t\t_la = this._input.LA(1);\n\t\t\tif (_la === FurumaiParser.T__2) {\n\t\t\t\t{\n\t\t\t\tthis.state = 86;\n\t\t\t\tthis.attr_list();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t}\n\t\t}\n\t\tcatch (re) {\n\t\t\tif (re instanceof RecognitionException) {\n\t\t\t\t_localctx.exception = re;\n\t\t\t\tthis._errHandler.reportError(this, re);\n\t\t\t\tthis._errHandler.recover(this, re);\n\t\t\t} else {\n\t\t\t\tthrow re;\n\t\t\t}\n\t\t}\n\t\tfinally {\n\t\t\tthis.exitRule();\n\t\t}\n\t\treturn _localctx;\n\t}\n\t// @RuleVersion(0)\n\tpublic group(): GroupContext {\n\t\tlet _localctx: GroupContext = new GroupContext(this._ctx, this.state);\n\t\tthis.enterRule(_localctx, 18, FurumaiParser.RULE_group);\n\t\ttry {\n\t\t\tthis.enterOuterAlt(_localctx, 1);\n\t\t\t{\n\t\t\tthis.state = 89;\n\t\t\tthis.match(FurumaiParser.GROUP);\n\t\t\tthis.state = 90;\n\t\t\tthis.match(FurumaiParser.ID);\n\t\t\tthis.state = 91;\n\t\t\tthis.match(FurumaiParser.T__7);\n\t\t\tthis.state = 92;\n\t\t\tthis.stmt_list();\n\t\t\tthis.state = 93;\n\t\t\tthis.match(FurumaiParser.T__8);\n\t\t\t}\n\t\t}\n\t\tcatch (re) {\n\t\t\tif (re instanceof RecognitionException) {\n\t\t\t\t_localctx.exception = re;\n\t\t\t\tthis._errHandler.reportError(this, re);\n\t\t\t\tthis._errHandler.recover(this, re);\n\t\t\t} else {\n\t\t\t\tthrow re;\n\t\t\t}\n\t\t}\n\t\tfinally {\n\t\t\tthis.exitRule();\n\t\t}\n\t\treturn _localctx;\n\t}\n\t// @RuleVersion(0)\n\tpublic zone(): ZoneContext {\n\t\tlet _localctx: ZoneContext = new ZoneContext(this._ctx, this.state);\n\t\tthis.enterRule(_localctx, 20, FurumaiParser.RULE_zone);\n\t\ttry {\n\t\t\tthis.enterOuterAlt(_localctx, 1);\n\t\t\t{\n\t\t\tthis.state = 95;\n\t\t\tthis.match(FurumaiParser.ZONE);\n\t\t\tthis.state = 96;\n\t\t\tthis.match(FurumaiParser.ID);\n\t\t\tthis.state = 97;\n\t\t\tthis.match(FurumaiParser.T__7);\n\t\t\tthis.state = 98;\n\t\t\tthis.stmt_list();\n\t\t\tthis.state = 99;\n\t\t\tthis.match(FurumaiParser.T__8);\n\t\t\t}\n\t\t}\n\t\tcatch (re) {\n\t\t\tif (re instanceof RecognitionException) {\n\t\t\t\t_localctx.exception = re;\n\t\t\t\tthis._errHandler.reportError(this, re);\n\t\t\t\tthis._errHandler.recover(this, re);\n\t\t\t} else {\n\t\t\t\tthrow re;\n\t\t\t}\n\t\t}\n\t\tfinally {\n\t\t\tthis.exitRule();\n\t\t}\n\t\treturn _localctx;\n\t}\n\t// @RuleVersion(0)\n\tpublic hide(): HideContext {\n\t\tlet _localctx: HideContext = new HideContext(this._ctx, this.state);\n\t\tthis.enterRule(_localctx, 22, FurumaiParser.RULE_hide);\n\t\tlet _la: number;\n\t\ttry {\n\t\t\tthis.enterOuterAlt(_localctx, 1);\n\t\t\t{\n\t\t\tthis.state = 101;\n\t\t\t_la = this._input.LA(1);\n\t\t\tif (!(_la === FurumaiParser.HIDE || _la === FurumaiParser.DELETE)) {\n\t\t\tthis._errHandler.recoverInline(this);\n\t\t\t} else {\n\t\t\t\tif (this._input.LA(1) === Token.EOF) {\n\t\t\t\t\tthis.matchedEOF = true;\n\t\t\t\t}\n\n\t\t\t\tthis._errHandler.reportMatch(this);\n\t\t\t\tthis.consume();\n\t\t\t}\n\t\t\tthis.state = 106;\n\t\t\tthis._errHandler.sync(this);\n\t\t\tswitch ( this.interpreter.adaptivePredict(this._input, 9, this._ctx) ) {\n\t\t\tcase 1:\n\t\t\t\t{\n\t\t\t\tthis.state = 102;\n\t\t\t\tthis.match(FurumaiParser.ID);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\t{\n\t\t\t\tthis.state = 103;\n\t\t\t\tthis.match(FurumaiParser.ID);\n\t\t\t\tthis.state = 104;\n\t\t\t\tthis.match(FurumaiParser.T__6);\n\t\t\t\tthis.state = 105;\n\t\t\t\tthis.match(FurumaiParser.ID);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcatch (re) {\n\t\t\tif (re instanceof RecognitionException) {\n\t\t\t\t_localctx.exception = re;\n\t\t\t\tthis._errHandler.reportError(this, re);\n\t\t\t\tthis._errHandler.recover(this, re);\n\t\t\t} else {\n\t\t\t\tthrow re;\n\t\t\t}\n\t\t}\n\t\tfinally {\n\t\t\tthis.exitRule();\n\t\t}\n\t\treturn _localctx;\n\t}\n\n\tpublic static readonly _serializedATN: string =\n\t\t\"\\x03\\uC91D\\uCABA\\u058D\\uAFBA\\u4F53\\u0607\\uEA8B\\uC241\\x03\\x13o\\x04\\x02\" +\n\t\t\"\\t\\x02\\x04\\x03\\t\\x03\\x04\\x04\\t\\x04\\x04\\x05\\t\\x05\\x04\\x06\\t\\x06\\x04\\x07\" +\n\t\t\"\\t\\x07\\x04\\b\\t\\b\\x04\\t\\t\\t\\x04\\n\\t\\n\\x04\\v\\t\\v\\x04\\f\\t\\f\\x04\\r\\t\\r\\x03\" +\n\t\t\"\\x02\\x03\\x02\\x03\\x02\\x07\\x02\\x1E\\n\\x02\\f\\x02\\x0E\\x02!\\v\\x02\\x03\\x02\\x05\" +\n\t\t\"\\x02$\\n\\x02\\x03\\x02\\x03\\x02\\x03\\x03\\x03\\x03\\x03\\x04\\x03\\x04\\x03\\x04\\x07\" +\n\t\t\"\\x04-\\n\\x04\\f\\x04\\x0E\\x040\\v\\x04\\x03\\x04\\x05\\x043\\n\\x04\\x03\\x05\\x03\\x05\" +\n\t\t\"\\x03\\x05\\x03\\x05\\x03\\x05\\x03\\x05\\x03\\x05\\x05\\x05<\\n\\x05\\x03\\x06\\x03\\x06\" +\n\t\t\"\\x03\\x06\\x03\\x07\\x03\\x07\\x03\\x07\\x05\\x07D\\n\\x07\\x03\\x07\\x07\\x07G\\n\\x07\" +\n\t\t\"\\f\\x07\\x0E\\x07J\\v\\x07\\x03\\x07\\x03\\x07\\x03\\b\\x03\\b\\x03\\b\\x03\\b\\x03\\t\\x03\" +\n\t\t\"\\t\\x03\\t\\x03\\t\\x05\\tV\\n\\t\\x03\\n\\x03\\n\\x05\\nZ\\n\\n\\x03\\v\\x03\\v\\x03\\v\\x03\" +\n\t\t\"\\v\\x03\\v\\x03\\v\\x03\\f\\x03\\f\\x03\\f\\x03\\f\\x03\\f\\x03\\f\\x03\\r\\x03\\r\\x03\\r\\x03\" +\n\t\t\"\\r\\x03\\r\\x05\\rm\\n\\r\\x03\\r\\x02\\x02\\x02\\x0E\\x02\\x02\\x04\\x02\\x06\\x02\\b\\x02\" +\n\t\t\"\\n\\x02\\f\\x02\\x0E\\x02\\x10\\x02\\x12\\x02\\x14\\x02\\x16\\x02\\x18\\x02\\x02\\x05\\x03\" +\n\t\t\"\\x02\\f\\x0F\\x04\\x02\\x04\\x04\\x06\\x06\\x03\\x02\\x10\\x11\\x02q\\x02\\x1A\\x03\\x02\" +\n\t\t\"\\x02\\x02\\x04\\'\\x03\\x02\\x02\\x02\\x06)\\x03\\x02\\x02\\x02\\b;\\x03\\x02\\x02\\x02\" +\n\t\t\"\\n=\\x03\\x02\\x02\\x02\\f@\\x03\\x02\\x02\\x02\\x0EM\\x03\\x02\\x02\\x02\\x10Q\\x03\\x02\" +\n\t\t\"\\x02\\x02\\x12W\\x03\\x02\\x02\\x02\\x14[\\x03\\x02\\x02\\x02\\x16a\\x03\\x02\\x02\\x02\" +\n\t\t\"\\x18g\\x03\\x02\\x02\\x02\\x1A\\x1F\\x05\\x04\\x03\\x02\\x1B\\x1C\\x07\\x03\\x02\\x02\" +\n\t\t\"\\x1C\\x1E\\x05\\x04\\x03\\x02\\x1D\\x1B\\x03\\x02\\x02\\x02\\x1E!\\x03\\x02\\x02\\x02\" +\n\t\t\"\\x1F\\x1D\\x03\\x02\\x02\\x02\\x1F \\x03\\x02\\x02\\x02 #\\x03\\x02\\x02\\x02!\\x1F\\x03\" +\n\t\t\"\\x02\\x02\\x02\\\"$\\x07\\x03\\x02\\x02#\\\"\\x03\\x02\\x02\\x02#$\\x03\\x02\\x02\\x02$\" +\n\t\t\"%\\x03\\x02\\x02\\x02%&\\x07\\x02\\x02\\x03&\\x03\\x03\\x02\\x02\\x02\\'(\\x05\\x06\\x04\" +\n\t\t\"\\x02(\\x05\\x03\\x02\\x02\\x02).\\x05\\b\\x05\\x02*+\\x07\\x04\\x02\\x02+-\\x05\\b\\x05\" +\n\t\t\"\\x02,*\\x03\\x02\\x02\\x02-0\\x03\\x02\\x02\\x02.,\\x03\\x02\\x02\\x02./\\x03\\x02\\x02\" +\n\t\t\"\\x02/2\\x03\\x02\\x02\\x020.\\x03\\x02\\x02\\x0213\\x07\\x04\\x02\\x0221\\x03\\x02\\x02\" +\n\t\t\"\\x0223\\x03\\x02\\x02\\x023\\x07\\x03\\x02\\x02\\x024<\\x05\\x12\\n\\x025<\\x05\\x10\" +\n\t\t\"\\t\\x026<\\x05\\n\\x06\\x027<\\x05\\x0E\\b\\x028<\\x05\\x14\\v\\x029<\\x05\\x16\\f\\x02\" +\n\t\t\":<\\x05\\x18\\r\\x02;4\\x03\\x02\\x02\\x02;5\\x03\\x02\\x02\\x02;6\\x03\\x02\\x02\\x02\" +\n\t\t\";7\\x03\\x02\\x02\\x02;8\\x03\\x02\\x02\\x02;9\\x03\\x02\\x02\\x02;:\\x03\\x02\\x02\\x02\" +\n\t\t\"<\\t\\x03\\x02\\x02\\x02=>\\t\\x02\\x02\\x02>?\\x05\\f\\x07\\x02?\\v\\x03\\x02\\x02\\x02\" +\n\t\t\"@A\\x07\\x05\\x02\\x02AH\\x05\\x0E\\b\\x02BD\\t\\x03\\x02\\x02CB\\x03\\x02\\x02\\x02C\" +\n\t\t\"D\\x03\\x02\\x02\\x02DE\\x03\\x02\\x02\\x02EG\\x05\\x0E\\b\\x02FC\\x03\\x02\\x02\\x02\" +\n\t\t\"GJ\\x03\\x02\\x02\\x02HF\\x03\\x02\\x02\\x02HI\\x03\\x02\\x02\\x02IK\\x03\\x02\\x02\\x02\" +\n\t\t\"JH\\x03\\x02\\x02\\x02KL\\x07\\x07\\x02\\x02L\\r\\x03\\x02\\x02\\x02MN\\x07\\x12\\x02\" +\n\t\t\"\\x02NO\\x07\\b\\x02\\x02OP\\x07\\x12\\x02\\x02P\\x0F\\x03\\x02\\x02\\x02QR\\x07\\x12\" +\n\t\t\"\\x02\\x02RS\\x07\\t\\x02\\x02SU\\x07\\x12\\x02\\x02TV\\x05\\f\\x07\\x02UT\\x03\\x02\\x02\" +\n\t\t\"\\x02UV\\x03\\x02\\x02\\x02V\\x11\\x03\\x02\\x02\\x02WY\\x07\\x12\\x02\\x02XZ\\x05\\f\" +\n\t\t\"\\x07\\x02YX\\x03\\x02\\x02\\x02YZ\\x03\\x02\\x02\\x02Z\\x13\\x03\\x02\\x02\\x02[\\\\\\x07\" +\n\t\t\"\\x0E\\x02\\x02\\\\]\\x07\\x12\\x02\\x02]^\\x07\\n\\x02\\x02^_\\x05\\x06\\x04\\x02_`\\x07\" +\n\t\t\"\\v\\x02\\x02`\\x15\\x03\\x02\\x02\\x02ab\\x07\\x0F\\x02\\x02bc\\x07\\x12\\x02\\x02cd\" +\n\t\t\"\\x07\\n\\x02\\x02de\\x05\\x06\\x04\\x02ef\\x07\\v\\x02\\x02f\\x17\\x03\\x02\\x02\\x02\" +\n\t\t\"gl\\t\\x04\\x02\\x02hm\\x07\\x12\\x02\\x02ij\\x07\\x12\\x02\\x02jk\\x07\\t\\x02\\x02k\" +\n\t\t\"m\\x07\\x12\\x02\\x02lh\\x03\\x02\\x02\\x02li\\x03\\x02\\x02\\x02m\\x19\\x03\\x02\\x02\" +\n\t\t\"\\x02\\f\\x1F#.2;CHUYl\";\n\tpublic static __ATN: ATN;\n\tpublic static get _ATN(): ATN {\n\t\tif (!FurumaiParser.__ATN) {\n\t\t\tFurumaiParser.__ATN = new ATNDeserializer().deserialize(Utils.toCharArray(FurumaiParser._serializedATN));\n\t\t}\n\n\t\treturn FurumaiParser.__ATN;\n\t}\n\n}\n\nexport class StoryContext extends ParserRuleContext {\n\tpublic moment(): MomentContext[];\n\tpublic moment(i: number): MomentContext;\n\tpublic moment(i?: number): MomentContext | MomentContext[] {\n\t\tif (i === undefined) {\n\t\t\treturn this.getRuleContexts(MomentContext);\n\t\t} else {\n\t\t\treturn this.getRuleContext(i, MomentContext);\n\t\t}\n\t}\n\tpublic EOF(): TerminalNode { return this.getToken(FurumaiParser.EOF, 0); }\n\tconstructor(parent: ParserRuleContext | undefined, invokingState: number) {\n\t\tsuper(parent, invokingState);\n\t}\n\t// @Override\n\tpublic get ruleIndex(): number { return FurumaiParser.RULE_story; }\n\t// @Override\n\tpublic enterRule(listener: FurumaiListener): void {\n\t\tif (listener.enterStory) {\n\t\t\tlistener.enterStory(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic exitRule(listener: FurumaiListener): void {\n\t\tif (listener.exitStory) {\n\t\t\tlistener.exitStory(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic accept<Result>(visitor: FurumaiVisitor<Result>): Result {\n\t\tif (visitor.visitStory) {\n\t\t\treturn visitor.visitStory(this);\n\t\t} else {\n\t\t\treturn visitor.visitChildren(this);\n\t\t}\n\t}\n}\n\n\nexport class MomentContext extends ParserRuleContext {\n\tpublic stmt_list(): Stmt_listContext {\n\t\treturn this.getRuleContext(0, Stmt_listContext);\n\t}\n\tconstructor(parent: ParserRuleContext | undefined, invokingState: number) {\n\t\tsuper(parent, invokingState);\n\t}\n\t// @Override\n\tpublic get ruleIndex(): number { return FurumaiParser.RULE_moment; }\n\t// @Override\n\tpublic enterRule(listener: FurumaiListener): void {\n\t\tif (listener.enterMoment) {\n\t\t\tlistener.enterMoment(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic exitRule(listener: FurumaiListener): void {\n\t\tif (listener.exitMoment) {\n\t\t\tlistener.exitMoment(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic accept<Result>(visitor: FurumaiVisitor<Result>): Result {\n\t\tif (visitor.visitMoment) {\n\t\t\treturn visitor.visitMoment(this);\n\t\t} else {\n\t\t\treturn visitor.visitChildren(this);\n\t\t}\n\t}\n}\n\n\nexport class Stmt_listContext extends ParserRuleContext {\n\tpublic stmt(): StmtContext[];\n\tpublic stmt(i: number): StmtContext;\n\tpublic stmt(i?: number): StmtContext | StmtContext[] {\n\t\tif (i === undefined) {\n\t\t\treturn this.getRuleContexts(StmtContext);\n\t\t} else {\n\t\t\treturn this.getRuleContext(i, StmtContext);\n\t\t}\n\t}\n\tconstructor(parent: ParserRuleContext | undefined, invokingState: number) {\n\t\tsuper(parent, invokingState);\n\t}\n\t// @Override\n\tpublic get ruleIndex(): number { return FurumaiParser.RULE_stmt_list; }\n\t// @Override\n\tpublic enterRule(listener: FurumaiListener): void {\n\t\tif (listener.enterStmt_list) {\n\t\t\tlistener.enterStmt_list(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic exitRule(listener: FurumaiListener): void {\n\t\tif (listener.exitStmt_list) {\n\t\t\tlistener.exitStmt_list(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic accept<Result>(visitor: FurumaiVisitor<Result>): Result {\n\t\tif (visitor.visitStmt_list) {\n\t\t\treturn visitor.visitStmt_list(this);\n\t\t} else {\n\t\t\treturn visitor.visitChildren(this);\n\t\t}\n\t}\n}\n\n\nexport class StmtContext extends ParserRuleContext {\n\tpublic node_stmt(): Node_stmtContext | undefined {\n\t\treturn this.tryGetRuleContext(0, Node_stmtContext);\n\t}\n\tpublic edge_stmt(): Edge_stmtContext | undefined {\n\t\treturn this.tryGetRuleContext(0, Edge_stmtContext);\n\t}\n\tpublic attr_stmt(): Attr_stmtContext | undefined {\n\t\treturn this.tryGetRuleContext(0, Attr_stmtContext);\n\t}\n\tpublic assignment(): AssignmentContext | undefined {\n\t\treturn this.tryGetRuleContext(0, AssignmentContext);\n\t}\n\tpublic group(): GroupContext | undefined {\n\t\treturn this.tryGetRuleContext(0, GroupContext);\n\t}\n\tpublic zone(): ZoneContext | undefined {\n\t\treturn this.tryGetRuleContext(0, ZoneContext);\n\t}\n\tpublic hide(): HideContext | undefined {\n\t\treturn this.tryGetRuleContext(0, HideContext);\n\t}\n\tconstructor(parent: ParserRuleContext | undefined, invokingState: number) {\n\t\tsuper(parent, invokingState);\n\t}\n\t// @Override\n\tpublic get ruleIndex(): number { return FurumaiParser.RULE_stmt; }\n\t// @Override\n\tpublic enterRule(listener: FurumaiListener): void {\n\t\tif (listener.enterStmt) {\n\t\t\tlistener.enterStmt(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic exitRule(listener: FurumaiListener): void {\n\t\tif (listener.exitStmt) {\n\t\t\tlistener.exitStmt(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic accept<Result>(visitor: FurumaiVisitor<Result>): Result {\n\t\tif (visitor.visitStmt) {\n\t\t\treturn visitor.visitStmt(this);\n\t\t} else {\n\t\t\treturn visitor.visitChildren(this);\n\t\t}\n\t}\n}\n\n\nexport class Attr_stmtContext extends ParserRuleContext {\n\tpublic attr_list(): Attr_listContext {\n\t\treturn this.getRuleContext(0, Attr_listContext);\n\t}\n\tpublic GROUP(): TerminalNode | undefined { return this.tryGetToken(FurumaiParser.GROUP, 0); }\n\tpublic NODE(): TerminalNode | undefined { return this.tryGetToken(FurumaiParser.NODE, 0); }\n\tpublic EDGE(): TerminalNode | undefined { return this.tryGetToken(FurumaiParser.EDGE, 0); }\n\tpublic ZONE(): TerminalNode | undefined { return this.tryGetToken(FurumaiParser.ZONE, 0); }\n\tconstructor(parent: ParserRuleContext | undefined, invokingState: number) {\n\t\tsuper(parent, invokingState);\n\t}\n\t// @Override\n\tpublic get ruleIndex(): number { return FurumaiParser.RULE_attr_stmt; }\n\t// @Override\n\tpublic enterRule(listener: FurumaiListener): void {\n\t\tif (listener.enterAttr_stmt) {\n\t\t\tlistener.enterAttr_stmt(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic exitRule(listener: FurumaiListener): void {\n\t\tif (listener.exitAttr_stmt) {\n\t\t\tlistener.exitAttr_stmt(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic accept<Result>(visitor: FurumaiVisitor<Result>): Result {\n\t\tif (visitor.visitAttr_stmt) {\n\t\t\treturn visitor.visitAttr_stmt(this);\n\t\t} else {\n\t\t\treturn visitor.visitChildren(this);\n\t\t}\n\t}\n}\n\n\nexport class Attr_listContext extends ParserRuleContext {\n\tpublic assignment(): AssignmentContext[];\n\tpublic assignment(i: number): AssignmentContext;\n\tpublic assignment(i?: number): AssignmentContext | AssignmentContext[] {\n\t\tif (i === undefined) {\n\t\t\treturn this.getRuleContexts(AssignmentContext);\n\t\t} else {\n\t\t\treturn this.getRuleContext(i, AssignmentContext);\n\t\t}\n\t}\n\tconstructor(parent: ParserRuleContext | undefined, invokingState: number) {\n\t\tsuper(parent, invokingState);\n\t}\n\t// @Override\n\tpublic get ruleIndex(): number { return FurumaiParser.RULE_attr_list; }\n\t// @Override\n\tpublic enterRule(listener: FurumaiListener): void {\n\t\tif (listener.enterAttr_list) {\n\t\t\tlistener.enterAttr_list(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic exitRule(listener: FurumaiListener): void {\n\t\tif (listener.exitAttr_list) {\n\t\t\tlistener.exitAttr_list(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic accept<Result>(visitor: FurumaiVisitor<Result>): Result {\n\t\tif (visitor.visitAttr_list) {\n\t\t\treturn visitor.visitAttr_list(this);\n\t\t} else {\n\t\t\treturn visitor.visitChildren(this);\n\t\t}\n\t}\n}\n\n\nexport class AssignmentContext extends ParserRuleContext {\n\tpublic ID(): TerminalNode[];\n\tpublic ID(i: number): TerminalNode;\n\tpublic ID(i?: number): TerminalNode | TerminalNode[] {\n\t\tif (i === undefined) {\n\t\t\treturn this.getTokens(FurumaiParser.ID);\n\t\t} else {\n\t\t\treturn this.getToken(FurumaiParser.ID, i);\n\t\t}\n\t}\n\tconstructor(parent: ParserRuleContext | undefined, invokingState: number) {\n\t\tsuper(parent, invokingState);\n\t}\n\t// @Override\n\tpublic get ruleIndex(): number { return FurumaiParser.RULE_assignment; }\n\t// @Override\n\tpublic enterRule(listener: FurumaiListener): void {\n\t\tif (listener.enterAssignment) {\n\t\t\tlistener.enterAssignment(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic exitRule(listener: FurumaiListener): void {\n\t\tif (listener.exitAssignment) {\n\t\t\tlistener.exitAssignment(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic accept<Result>(visitor: FurumaiVisitor<Result>): Result {\n\t\tif (visitor.visitAssignment) {\n\t\t\treturn visitor.visitAssignment(this);\n\t\t} else {\n\t\t\treturn visitor.visitChildren(this);\n\t\t}\n\t}\n}\n\n\nexport class Edge_stmtContext extends ParserRuleContext {\n\tpublic ID(): TerminalNode[];\n\tpublic ID(i: number): TerminalNode;\n\tpublic ID(i?: number): TerminalNode | TerminalNode[] {\n\t\tif (i === undefined) {\n\t\t\treturn this.getTokens(FurumaiParser.ID);\n\t\t} else {\n\t\t\treturn this.getToken(FurumaiParser.ID, i);\n\t\t}\n\t}\n\tpublic attr_list(): Attr_listContext | undefined {\n\t\treturn this.tryGetRuleContext(0, Attr_listContext);\n\t}\n\tconstructor(parent: ParserRuleContext | undefined, invokingState: number) {\n\t\tsuper(parent, invokingState);\n\t}\n\t// @Override\n\tpublic get ruleIndex(): number { return FurumaiParser.RULE_edge_stmt; }\n\t// @Override\n\tpublic enterRule(listener: FurumaiListener): void {\n\t\tif (listener.enterEdge_stmt) {\n\t\t\tlistener.enterEdge_stmt(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic exitRule(listener: FurumaiListener): void {\n\t\tif (listener.exitEdge_stmt) {\n\t\t\tlistener.exitEdge_stmt(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic accept<Result>(visitor: FurumaiVisitor<Result>): Result {\n\t\tif (visitor.visitEdge_stmt) {\n\t\t\treturn visitor.visitEdge_stmt(this);\n\t\t} else {\n\t\t\treturn visitor.visitChildren(this);\n\t\t}\n\t}\n}\n\n\nexport class Node_stmtContext extends ParserRuleContext {\n\tpublic ID(): TerminalNode { return this.getToken(FurumaiParser.ID, 0); }\n\tpublic attr_list(): Attr_listContext | undefined {\n\t\treturn this.tryGetRuleContext(0, Attr_listContext);\n\t}\n\tconstructor(parent: ParserRuleContext | undefined, invokingState: number) {\n\t\tsuper(parent, invokingState);\n\t}\n\t// @Override\n\tpublic get ruleIndex(): number { return FurumaiParser.RULE_node_stmt; }\n\t// @Override\n\tpublic enterRule(listener: FurumaiListener): void {\n\t\tif (listener.enterNode_stmt) {\n\t\t\tlistener.enterNode_stmt(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic exitRule(listener: FurumaiListener): void {\n\t\tif (listener.exitNode_stmt) {\n\t\t\tlistener.exitNode_stmt(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic accept<Result>(visitor: FurumaiVisitor<Result>): Result {\n\t\tif (visitor.visitNode_stmt) {\n\t\t\treturn visitor.visitNode_stmt(this);\n\t\t} else {\n\t\t\treturn visitor.visitChildren(this);\n\t\t}\n\t}\n}\n\n\nexport class GroupContext extends ParserRuleContext {\n\tpublic GROUP(): TerminalNode { return this.getToken(FurumaiParser.GROUP, 0); }\n\tpublic ID(): TerminalNode { return this.getToken(FurumaiParser.ID, 0); }\n\tpublic stmt_list(): Stmt_listContext {\n\t\treturn this.getRuleContext(0, Stmt_listContext);\n\t}\n\tconstructor(parent: ParserRuleContext | undefined, invokingState: number) {\n\t\tsuper(parent, invokingState);\n\t}\n\t// @Override\n\tpublic get ruleIndex(): number { return FurumaiParser.RULE_group; }\n\t// @Override\n\tpublic enterRule(listener: FurumaiListener): void {\n\t\tif (listener.enterGroup) {\n\t\t\tlistener.enterGroup(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic exitRule(listener: FurumaiListener): void {\n\t\tif (listener.exitGroup) {\n\t\t\tlistener.exitGroup(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic accept<Result>(visitor: FurumaiVisitor<Result>): Result {\n\t\tif (visitor.visitGroup) {\n\t\t\treturn visitor.visitGroup(this);\n\t\t} else {\n\t\t\treturn visitor.visitChildren(this);\n\t\t}\n\t}\n}\n\n\nexport class ZoneContext extends ParserRuleContext {\n\tpublic ZONE(): TerminalNode { return this.getToken(FurumaiParser.ZONE, 0); }\n\tpublic ID(): TerminalNode { return this.getToken(FurumaiParser.ID, 0); }\n\tpublic stmt_list(): Stmt_listContext {\n\t\treturn this.getRuleContext(0, Stmt_listContext);\n\t}\n\tconstructor(parent: ParserRuleContext | undefined, invokingState: number) {\n\t\tsuper(parent, invokingState);\n\t}\n\t// @Override\n\tpublic get ruleIndex(): number { return FurumaiParser.RULE_zone; }\n\t// @Override\n\tpublic enterRule(listener: FurumaiListener): void {\n\t\tif (listener.enterZone) {\n\t\t\tlistener.enterZone(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic exitRule(listener: FurumaiListener): void {\n\t\tif (listener.exitZone) {\n\t\t\tlistener.exitZone(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic accept<Result>(visitor: FurumaiVisitor<Result>): Result {\n\t\tif (visitor.visitZone) {\n\t\t\treturn visitor.visitZone(this);\n\t\t} else {\n\t\t\treturn visitor.visitChildren(this);\n\t\t}\n\t}\n}\n\n\nexport class HideContext extends ParserRuleContext {\n\tpublic HIDE(): TerminalNode | undefined { return this.tryGetToken(FurumaiParser.HIDE, 0); }\n\tpublic DELETE(): TerminalNode | undefined { return this.tryGetToken(FurumaiParser.DELETE, 0); }\n\tpublic ID(): TerminalNode[];\n\tpublic ID(i: number): TerminalNode;\n\tpublic ID(i?: number): TerminalNode | TerminalNode[] {\n\t\tif (i === undefined) {\n\t\t\treturn this.getTokens(FurumaiParser.ID);\n\t\t} else {\n\t\t\treturn this.getToken(FurumaiParser.ID, i);\n\t\t}\n\t}\n\tconstructor(parent: ParserRuleContext | undefined, invokingState: number) {\n\t\tsuper(parent, invokingState);\n\t}\n\t// @Override\n\tpublic get ruleIndex(): number { return FurumaiParser.RULE_hide; }\n\t// @Override\n\tpublic enterRule(listener: FurumaiListener): void {\n\t\tif (listener.enterHide) {\n\t\t\tlistener.enterHide(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic exitRule(listener: FurumaiListener): void {\n\t\tif (listener.exitHide) {\n\t\t\tlistener.exitHide(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic accept<Result>(visitor: FurumaiVisitor<Result>): Result {\n\t\tif (visitor.visitHide) {\n\t\t\treturn visitor.visitHide(this);\n\t\t} else {\n\t\t\treturn visitor.visitChildren(this);\n\t\t}\n\t}\n}\n\n\n","import {parse} from '@/furumai/parser'\nimport {Story} from '@/furumai/setup/Story'\nimport {Group} from '@/shared/vue/Group'\n\nexport function vue(furumaiCode: string, defaults: string): Group[] | SyntaxError {\n  const story = parse(furumaiCode)\n  if (story instanceof Story) {\n    const defaultConfig = parse(defaults) as Story\n    const baseFrames = defaultConfig.baseFrames()\n    const ret: Group[] = []\n    for (const c of story.play(baseFrames)) {\n      ret.push(c.vue())\n    }\n    return ret\n  } else {\n    return story\n  }\n}\n","import { render, staticRenderFns } from \"./Group.vue?vue&type=template&id=33ef9dee&scoped=true&\"\nimport script from \"./Group.vue?vue&type=script&lang=ts&\"\nexport * from \"./Group.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"33ef9dee\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport Router from 'vue-router'\nimport {formatVersion, sampleFragment} from '@/sample'\nimport AppLayout from '@/AppLayout.vue'\nimport FurumaiApp from '@/components/FurumaiApp.vue'\n\nVue.use(Router)\n\nexport default new Router({\n  base: process.env.BASE_URL,\n  routes: [\n    {\n      path: '/',\n      component: AppLayout,\n      children: [\n        {\n          path: '',\n          redirect: {\n            name: 'furumai',\n            params: {\n              format: formatVersion,\n              data: sampleFragment,\n            },\n          },\n        }, {\n          path: 'apps/:format/:data',\n          component: FurumaiApp,\n          name: 'furumai',\n        },\n      ],\n    },\n  ],\n})\n","import mod from \"-!../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLayout.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLayout.vue?vue&type=style&index=0&lang=css&\"","import { render, staticRenderFns } from \"./FurumaiApp1.vue?vue&type=template&id=99e28da4&\"\nimport script from \"./FurumaiApp1.vue?vue&type=script&lang=ts&\"\nexport * from \"./FurumaiApp1.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FurumaiApp1.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import {Wrap} from '@/layout/engine/Wrap'\nimport {Elem} from '@/layout/engine/Elem'\nimport Gap from '@/layout/engine/Gap'\nimport {Box, Point, Size} from '@/layout/engine/Box'\n\nexport class Landscape implements Elem {\n  constructor(\n    readonly children: Array<Wrap<Elem>>,\n    readonly box: Box,\n  ) {\n  }\n\n  public fit(point: Point, grossSize: Partial<Size> = {}): Landscape {\n    const old = this.box.contentArea\n    const childrenArea = this.box.calcContentArea(point, grossSize)\n    const {x, y, width, height} = childrenArea\n    let xx = x\n\n    const gap = width ? Gap.gap2(0, (width - old.width) / (2 * this.children.length)) : Gap.zero\n    const w = width ? {width: old.width / this.children.length} : {}\n    const h = height ? {height} : {}\n    const childNodes: Array<Wrap<Elem>> = []\n    for (const c of this.children) {\n      xx += gap.left\n      const moved = c.map((elem) => elem.fit({x: xx, y}, {...w, ...h}))\n      childNodes.push(moved)\n      xx += moved.get.box.grossArea.width\n      xx += gap.right\n    }\n\n    const maxHeight = Math.max(...childNodes.map((c) => c.get.box.grossArea.height))\n    const childContentArea = {x, y, width: xx - x, height: maxHeight}\n    return new Landscape(childNodes, this.box.inflate(childContentArea))\n  }\n\n  public withBox(box: Partial<Box>): Landscape {\n    return new Landscape(this.children, this.box.update(box))\n  }\n\n  public append(child: Wrap<Elem>): Landscape {\n    return new Landscape([...this.children, child], this.box)\n  }\n}\n","import { render, staticRenderFns } from \"./GridArea.vue?vue&type=template&id=3eeb6fa8&scoped=true&\"\nimport script from \"./GridArea.vue?vue&type=script&lang=ts&\"\nexport * from \"./GridArea.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3eeb6fa8\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FurumaiApp1.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FurumaiApp1.vue?vue&type=script&lang=ts&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('g',[_c('path',_vm._b({attrs:{\"d\":_vm.d}},'path',_vm.attrs.shape,false)),_c('TextContent',{attrs:{\"content\":_vm.shape.text,\"position\":_vm.textPosition,\"attrs\":_vm.attrs.text}}),_c('GridArea',{attrs:{\"box\":_vm.shape.box}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"b4f43d4a-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Arrow.vue?vue&type=template&id=464055c6&scoped=true&\"","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextContent.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextContent.vue?vue&type=script&lang=ts&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('g',[_c('path',_vm._b({attrs:{\"d\":_vm.d}},'path',_vm.attrs.shape,false)),_c('TextContent',{attrs:{\"content\":_vm.shape.text,\"position\":_vm.textPosition,\"attrs\":_vm.attrs.text}}),_c('GridArea',{attrs:{\"box\":_vm.shape.box}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"b4f43d4a-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cylinder.vue?vue&type=template&id=79382f9e&scoped=true&\"","import {BuildingBlock} from '@/furumai/setup/BuildingBlock'\nimport {Env} from '@/furumai/setup/Env'\nimport {EdgeOverlay} from '@/furumai/grid/EdgeOverlay'\nimport {Box} from '@/layout/engine/Box'\nimport {GridArea} from '@/furumai/grid/GridArea'\nimport {Elem} from '@/layout/engine/Elem'\nimport {visible} from '@/furumai/grid/utils'\nimport {Attributes} from '@/furumai/utils'\n\nexport class Edge implements BuildingBlock {\n  public static of(\n    tailId: string,\n    op: string,\n    headId: string,\n    attrs: Attributes = Attributes.empty,\n  ) {\n    return new Edge(this.idOf(tailId, headId), tailId, headId, attrs)\n  }\n\n  public static idOf(tailId: string, headId: string): string {\n    return `_edge_${tailId}_to_${headId}`\n  }\n\n  public static find(id: string): BuildingBlock | undefined {\n    return undefined\n  }\n\n  private constructor(\n    private id: string,\n    private tailId: string,\n    private headId: string,\n    private attrs: Attributes = Attributes.empty,\n  ) {\n  }\n\n  public setup(env: Env): EdgeOverlay {\n    const tail = env.findGridArea(this.tailId)\n    const head = env.findGridArea(this.headId)\n    visible(tail as GridArea<Elem>)\n    visible(head as GridArea<Elem>)\n\n    const existing = env.findOverlay(this.id)\n    if (existing) {\n      return existing.updateAttributes(this.attrs) as EdgeOverlay\n    } else {\n      const baseAttrs = env.lookupAttributes('edge')\n      const merged = baseAttrs.merge(this.attrs)\n      const box = Box.of(merged.box)\n      return new EdgeOverlay(this.id, this.tailId, this.headId, merged.attrs, box)\n    }\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('rect',_vm._b({},'rect',_vm.attrs,false))}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"b4f43d4a-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GridArea.vue?vue&type=template&id=3eeb6fa8&scoped=true&\"","import Gap from '@/layout/engine/Gap'\n\nexport interface Point {\n  x: number\n  y: number\n}\n\nexport interface Size {\n  width: number\n  height: number\n}\n\nexport interface Area extends Point, Size {\n}\n\nexport interface Gaps {\n  margin: Gap\n  padding: Gap\n}\n\nexport class Box implements Point, Size, Gaps {\n  public static zero = Box.of({})\n\n  public static of(box: Partial<Box>): Box {\n    const {x, y, width, height, margin, padding} = {\n      x: 0, y: 0, width: 0, height: 0, margin: Gap.zero, padding: Gap.zero,\n      ...box,\n    }\n    return new Box(x, y, width, height, margin, padding)\n  }\n\n  constructor(\n    readonly x: number,\n    readonly y: number,\n    readonly width: number,\n    readonly height: number,\n    readonly margin: Gap,\n    readonly padding: Gap,\n  ) {\n\n  }\n\n  get grossArea(): Area {\n    const {x, y, width, height} = this\n    const {left, right, top, bottom} = this.margin\n    return {\n      x: x - left,\n      y: y - top,\n      width: left + width + right,\n      height: top + height + bottom,\n    }\n  }\n\n  get area(): Area {\n    return this\n  }\n\n  get contentArea(): Area {\n    const {x, y, width, height, padding} = this\n    return {\n      x: x + padding.left,\n      y: y + padding.top,\n      width: width - (padding.left + padding.right),\n      height: height - (padding.top + padding.bottom),\n    }\n  }\n\n  get cx() {\n    const r = this\n    return r.x + (r.width / 2)\n  }\n\n  get cy() {\n    const r = this\n    return r.y + (r.height / 2)\n  }\n\n  public inflate(contentGrossArea: Area): Box {\n    const {x, y, width, height} = contentGrossArea\n    const {left, right, top, bottom} = this.padding\n    return new Box(\n      x - left,\n      y - top,\n      left + width + right,\n      top + height + bottom,\n      this.margin,\n      this.padding,\n    )\n  }\n\n  public calcGrossArea(point: Point, size: Partial<Size>): Point & Partial<Size> {\n    const {x, y} = point\n    const {width, height} = size\n    const {left, right, top, bottom} = this.margin\n    const w = width ? {width: width + (left + right)} : {}\n    const h = height ? {height: height + (top + bottom)} : {}\n    return {\n      x: x - left,\n      y: y - top,\n      ...w,\n      ...h,\n    }\n  }\n\n  public calcArea(point: Point, grossSize: Partial<Size> = {}): Point & Partial<Size> {\n    const {x, y} = point\n    const {width, height} = grossSize\n    const {left, right, top, bottom} = this.margin\n    const w = width ? {width: width - (left + right)} : {}\n    const h = height ? {height: height - (top + bottom)} : {}\n    return {\n      x: x + left,\n      y: y + top,\n      ...w,\n      ...h,\n    }\n  }\n\n  public calcContentArea(point: Point, grossSize: Partial<Size> = {}): Point & Partial<Size> {\n    const {x, y, width, height} = this.calcArea(point, grossSize)\n    const {left, right, top, bottom} = this.padding\n    const w = width ? {width: width - (left + right)} : {}\n    const h = height ? {height: height - (top + bottom)} : {}\n    return {\n      x: x + left,\n      y: y + top,\n      ...w,\n      ...h,\n    }\n  }\n\n  public update(box: Partial<Box>): Box {\n    return Box.of({...this, ...box})\n  }\n\n  public move(dx: number, dy: number): Box {\n    const {x, y} = this\n    return this.update({x: x + dx, y: y + dy})\n  }\n}\n","import { render, staticRenderFns } from \"./AppLayout.vue?vue&type=template&id=239cc65c&\"\nimport script from \"./AppLayout.vue?vue&type=script&lang=ts&\"\nexport * from \"./AppLayout.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AppLayout.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\nimport {Component, Prop, Vue} from 'vue-property-decorator'\nimport {Box} from '@/layout/engine/Box'\n\n@Component\nexport default class GridArea extends Vue {\n  @Prop()\n  public box!: Box\n\n  get attrs(): any {\n    const {x, y, width, height, margin} = this.box\n    return {\n      fill: 'none',\n      stroke: 'none',\n      visibility: 'hidden',\n      x: x - margin.left,\n      y: y - margin.top,\n      width: margin.left + width + margin.right,\n      height: margin.top + height + margin.bottom,\n    }\n  }\n\n}\n","import {BuildingBlock} from '@/furumai/setup/BuildingBlock'\nimport {Env} from '@/furumai/setup/Env'\nimport {Container} from '@/furumai/grid/Container'\nimport {Landscape} from '@/layout/engine/Landscape'\nimport {Portrait} from '@/layout/engine/Portrait'\nimport {Box} from '@/layout/engine/Box'\nimport {Attributes} from '@/furumai/utils'\n\nexport class Compound implements BuildingBlock {\n  constructor(\n    public readonly id: string,\n    private compoundType: CompoundType,\n    private blocks: BuildingBlock[] = [],\n    public attrs: Attributes = Attributes.empty,\n    private childAttrs?: { [key: string]: Attributes },\n  ) {\n  }\n\n  public setup(env: Env): Container {\n    const merged = env.lookupAttributes(this.compoundType).merge(this.attrs)\n    const attrs = merged.attrs\n    const box = merged.box\n    const fitterClass = this.compoundType === 'zone' ? Portrait : Landscape\n    const fitter = new fitterClass([], Box.of(box))\n    const initContainer = new Container(\n      this.id,\n      attrs,\n      fitter,\n    )\n    return this.blocks.reduce((container, block) => {\n      const ret = block.setup(env.newEnv(container, this.childAttrs || {}))\n      if (ret) {\n        return container.append(ret)\n      } else {\n        return container\n      }\n    }, initContainer)\n  }\n}\n\nexport type CompoundType = 'group' | 'zone'\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"footer\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"b4f43d4a-vue-loader-template\\\"}!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Footer.vue?vue&type=template&id=4ffd0aaa&scoped=true&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Prop, Vue} from 'vue-property-decorator'\nimport GridArea from '@/components/svg/GridArea.vue'\nimport * as shared from '@/shared/vue/Group'\nimport TextContent from '@/components/svg/TextContent.vue'\nimport {Shape} from '@/shared/vue/Shape'\nimport {Attrs} from '@/furumai/utils'\nimport Cylinder from '@/components/svg/Cylinder.vue'\nimport Person from '@/components/svg/Person.vue'\nimport Box from '@/components/svg/Box.vue'\nimport Arrow from '@/components/svg/Arrow.vue'\n\n@Component({\n  name: 'Group',\n  components: {\n    Person,\n    Cylinder,\n    TextContent,\n    GridArea,\n    Box,\n    Arrow,\n  },\n})\nexport default class Group extends Vue {\n  @Prop()\n  public g!: shared.Group\n\n  get childGroups(): shared.Group[] {\n    return this.g.children.filter((i) => i.type === 'group').map((i) => i as shared.Group)\n  }\n\n  get boxes(): Shape[] {\n    return this.g.children.filter((i) => i.type === 'box')\n  }\n\n  get cylinders(): Shape[] {\n    return this.g.children.filter((i) => i.type === 'cylinder')\n  }\n\n  get persons(): Shape[] {\n    return this.g.children.filter((i) => i.type === 'person')\n  }\n\n  get arrows(): Shape[] {\n    return this.g.children.filter((i) => i.type === 'arrow')\n  }\n\n  get attrs(): Attrs {\n    return {\n      fill: 'none',\n      stroke: 'black',\n      ...this.g.svgAttrs.svgAttrs,\n    }\n  }\n}\n","import {BuildingBlock} from '@/furumai/setup/BuildingBlock'\nimport {Edge} from '@/furumai/setup/Edge'\nimport {Env} from '@/furumai/setup/Env'\nimport {hide} from '@/furumai/grid/utils'\n\nexport class HideEdge implements BuildingBlock {\n  constructor(private tailId: string, private headId: string) {\n  }\n\n  public setup(env: Env): undefined {\n    // TODO immutable\n    const overlay = env.findOverlay(Edge.idOf(this.tailId, this.headId))\n    if (overlay) {\n      hide(overlay)\n      return undefined\n    } else {\n      throw new Error(`edge not found: ${this.tailId} -> ${this.headId}`)\n    }\n  }\n\n  public find(id: string): BuildingBlock | undefined {\n    return undefined\n  }\n}\n","import { render, staticRenderFns } from \"./Cylinder.vue?vue&type=template&id=79382f9e&scoped=true&\"\nimport script from \"./Cylinder.vue?vue&type=script&lang=ts&\"\nexport * from \"./Cylinder.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"79382f9e\",\n  null\n  \n)\n\nexport default component.exports","import {RoughSVG} from 'roughjs/bin/svg'\n\nconst d = document\nlet rc: RoughSVG = new RoughSVG(document.createElementNS('http://www.w3.org/2000/svg', 'svg'))\n\nexport function convertSvg(root: SVGElement): SVGElement {\n  const width = root.getAttribute('width') || 0\n  const height = root.getAttribute('height') || 0\n  const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg')\n  svg.setAttribute('xmlns', 'http://www.w3.org/2000/svg')\n  svg.setAttribute('width', `${width}`)\n  svg.setAttribute('height', `${height}`)\n  svg.setAttribute('viewBox', `0 0 ${Number(width) * 2} ${Number(height) * 2}`)\n  rc = new RoughSVG(svg)\n\n  const cs = root.children\n  for (let i = 0; i < cs.length; i++) {\n    const c = cs.item(i)\n    if (c) {\n      svg.append(convert(c))\n    } else {\n      throw new Error('null')\n    }\n  }\n  return svg\n}\n\nfunction dict(elem: Element): { [key: string]: string } {\n  const ret: { [key: string]: string } = {}\n  const aa = elem.attributes\n  for (let i = 0; i < aa.length; i++) {\n    const a = aa.item(i)\n    if (a) {\n      const name = a.name.replace(/[-_](.)/g, (match, group1) => {\n        return group1.toUpperCase()\n      })\n      ret[name] = a.value\n      ret[a.name] = a.value\n    } else {\n      throw new Error('null')\n    }\n  }\n  return ret\n}\n\nfunction setAttributes(elem: Element, attributes: { [key: string]: string }): Element {\n  Object.keys(attributes).forEach((k) => elem.setAttribute(k, attributes[k]))\n  return elem\n}\n\nfunction convert(elem: Element): Element {\n  const tag = elem.tagName\n  const attrs = dict(elem)\n  const options: { [key: string]: any } = {\n    hachureGap: 2.0,\n    fillWeight: 0.6,\n    roughness: 2.0,\n    ...attrs,\n  }\n  switch (tag) {\n    case 'g':\n      const g = setAttributes(\n        d.createElementNS('http://www.w3.org/2000/svg', 'g'),\n        dict(elem),\n      )\n      const gcs = elem.children\n      for (let i = 0; i < gcs.length; i++) {\n        const c = gcs.item(i)\n        if (c) {\n          const converted = convert(c)\n          const visibility = c.getAttribute('visibility') // FIXME workaround: visibility is not work\n          if (visibility) {\n            converted.setAttribute('visibility', visibility)\n          }\n          g.append(converted)\n        } else {\n          throw new Error('null')\n        }\n      }\n      return g\n    case 'text':\n      const t = setAttributes(\n        d.createElementNS('http://www.w3.org/2000/svg', 'text'),\n        dict(elem),\n      )\n      const tcs = elem.children\n      for (let i = 0; i < tcs.length; i++) {\n        const c = tcs.item(i)\n        if (c) {\n          t.append(convert(c))\n        } else {\n          throw new Error('null')\n        }\n      }\n      return t\n    case 'tspan':\n      const tspan = setAttributes(\n        d.createElementNS('http://www.w3.org/2000/svg', 'tspan'),\n        dict(elem),\n      )\n      tspan.textContent = elem.textContent\n      return tspan\n    case 'path':\n      return rc.path(attrs.d, attrs)\n    case 'line':\n      return rc.line(\n        parseFloat(attrs.x1),\n        parseFloat(attrs.y1),\n        parseFloat(attrs.x1),\n        parseFloat(attrs.y2),\n        options,\n      )\n    case 'rect':\n      return rc.rectangle(\n        parseFloat(attrs.x),\n        parseFloat(attrs.y),\n        parseFloat(attrs.width),\n        parseFloat(attrs.height),\n        options,\n      )\n    case 'ellipse':\n      return rc.ellipse(\n        parseFloat(attrs.cx),\n        parseFloat(attrs.cy),\n        parseFloat(attrs.rx),\n        parseFloat(attrs.ry),\n        options,\n      )\n    case 'circle':\n      return rc.circle(\n        parseFloat(attrs.cx),\n        parseFloat(attrs.cy),\n        parseFloat(attrs.r),\n        options,\n      )\n    case 'polygon':\n      throw new Error('not implemented')\n    default:\n      throw new Error('not implemented')\n  }\n}\n","export class Vector2d {\n  constructor(\n    readonly x1: number,\n    readonly y1: number,\n    readonly x2: number,\n    readonly y2: number,\n  ) {\n  }\n\n  get length() {\n    return Math.sqrt(this.dx ** 2 + this.dy ** 2)\n  }\n\n  get dx(): number {\n    return this.x2 - this.x1\n  }\n\n  get dy(): number {\n    return this.y2 - this.y1\n  }\n\n  public rotate(degree: number): Vector2d {\n    function degToRad(deg: number) {\n      return deg * Math.PI / 180\n    }\n\n    const x1 = this.x1\n    const y1 = this.y1\n    const th = degToRad(degree)\n\n    const rotate = {\n      real: Math.cos(th),\n      imaginary: Math.sin(th),\n    }\n    const rotated = multiply({real: this.dx, imaginary: this.dy}, rotate)\n    return new Vector2d(x1, y1, x1 + rotated.real, y1 + rotated.imaginary)\n  }\n\n  public negate(): Vector2d {\n    const x1 = this.x1\n    const y1 = this.y1\n    return new Vector2d(x1, y1, x1 - this.dx, y1 - this.dy)\n  }\n\n  public reverse(): Vector2d {\n    return new Vector2d(this.x2, this.y2, this.x1, this.y1)\n  }\n\n  public move(dx: number, dy: number): Vector2d {\n    return new Vector2d(this.x1 + dx, this.y1 + dy, this.x2 + dx, this.y2 + dy)\n  }\n\n  public normalize(): Vector2d {\n    const d = this.length\n    return new Vector2d(0, 0, this.dx / d, this.dy / d)\n  }\n\n  public multiple(n: number): Vector2d {\n    const x1 = this.x1\n    const y1 = this.y1\n    return new Vector2d(x1, y1, x1 + this.dx * n, y1 + this.dy * n)\n  }\n}\n\nexport interface ComplexNumber {\n  real: number,\n  imaginary: number,\n}\n\nexport function multiply(a: ComplexNumber, b: ComplexNumber): ComplexNumber {\n  return {\n    real: (a.real * b.real) - (a.imaginary * b.imaginary),\n    imaginary: a.real * b.imaginary + a.imaginary * b.real,\n  }\n}\n","import {Box, Point, Size} from '@/layout/engine/Box'\nimport {Elem} from '@/layout/engine/Elem'\nimport Gap from '@/layout/engine/Gap'\n\nexport class Cell implements Elem {\n  private static gap(oldGrossSize: Size, newGrossSize: Partial<Size>): Gap {\n    const {width, height} = {\n      ...oldGrossSize,\n      ...newGrossSize,\n    }\n    return Gap.gap2(height - oldGrossSize.height, width - oldGrossSize.width)\n  }\n\n  constructor(readonly box: Box) {\n  }\n\n  public fit(point: Point, grossSize: Partial<Size>): Cell {\n    const gap = Cell.gap(this.box.grossArea as Size, grossSize)\n    const x = point.x + gap.left\n    const y = point.y + gap.right\n    return this.withBox(this.box.calcArea({x, y}))\n  }\n\n  public withBox(box: Partial<Box>): Cell {\n    return new Cell(this.box.update(box))\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app1\"},[_c('div',{staticClass:\"row\"},[(_vm.viewCode)?_c('div',{staticClass:\"col\"},[(_vm.editorMode)?_c('div',{staticClass:\"code-editor-wrap\"},[_c('label',[_c('div',[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.furumaiData.code),expression:\"furumaiData.code\"}],ref:\"editor\",staticClass:\"code-editor\",attrs:{\"title\":\"Furumai Description\"},domProps:{\"value\":(_vm.furumaiData.code)},on:{\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }if(!$event.ctrlKey){ return null; }return _vm.furumai($event)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }if(!$event.altKey){ return null; }return _vm.furumai($event)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }if(!$event.metaKey){ return null; }return _vm.furumai($event)}],\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.furumaiData, \"code\", $event.target.value)}}})]),_c('div',{staticClass:\"nav-right\"},[_c('label',{staticClass:\"options\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.furumaiData.rough),expression:\"furumaiData.rough\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.furumaiData.rough)?_vm._i(_vm.furumaiData.rough,null)>-1:(_vm.furumaiData.rough)},on:{\"change\":[function($event){var $$a=_vm.furumaiData.rough,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.furumaiData, \"rough\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.furumaiData, \"rough\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.furumaiData, \"rough\", $$c)}},_vm.furumai]}}),_vm._v(\"Rough.js\\n            \")]),_c('label',{staticClass:\"options\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.furumaiData.displayFirstSvg),expression:\"furumaiData.displayFirstSvg\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.furumaiData.displayFirstSvg)?_vm._i(_vm.furumaiData.displayFirstSvg,null)>-1:(_vm.furumaiData.displayFirstSvg)},on:{\"change\":[function($event){var $$a=_vm.furumaiData.displayFirstSvg,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.furumaiData, \"displayFirstSvg\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.furumaiData, \"displayFirstSvg\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.furumaiData, \"displayFirstSvg\", $$c)}},_vm.furumai]}}),_vm._v(\"Display 1st SVG\\n            \")]),_c('button',{staticClass:\"button primary furumai-button\",on:{\"click\":_vm.furumai}},[_vm._v(\"View (Ctrl + Enter)\")])]),_c('hr'),_c('div',[_vm._v(\"\\n            Default settings:\\n            \"),_c('pre',[_vm._v(_vm._s(_vm.defaultConfig))])])])]):_c('div',{staticClass:\"code-viewer\"},[_c('pre',{staticClass:\"language-none\"},[_vm._v(_vm._s(_vm.pre(_vm.furumaiData.code)))])])]):_vm._e(),_c('div',{staticClass:\"col-6\"},[(_vm.errors.length > 0)?_c('div',{staticClass:\"text-error\"},[_c('pre',[_vm._v(_vm._s(_vm.errors))])]):_c('div',{ref:\"moments\"},_vm._l((_vm.svgs),function(s){return _c('div',{staticClass:\"card\"},[_c('SvgComponent',{attrs:{\"shape\":s,\"rough\":_vm.furumaiData.rough}})],1)}),0),_c('div',{staticClass:\"nav-right moments-footer\"},[(_vm.editorMode)?_c('button',{staticClass:\"button primary\",on:{\"click\":_vm.download}},[_vm._v(\"Download SVG(s)\")]):_vm._e()])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"b4f43d4a-vue-loader-template\\\"}!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FurumaiApp1.vue?vue&type=template&id=99e28da4&\"","import { render, staticRenderFns } from \"./TextContent.vue?vue&type=template&id=822391f0&scoped=true&\"\nimport script from \"./TextContent.vue?vue&type=script&lang=ts&\"\nexport * from \"./TextContent.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"822391f0\",\n  null\n  \n)\n\nexport default component.exports","import { render, staticRenderFns } from \"./Box.vue?vue&type=template&id=55dd33ce&scoped=true&\"\nimport script from \"./Box.vue?vue&type=script&lang=ts&\"\nexport * from \"./Box.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"55dd33ce\",\n  null\n  \n)\n\nexport default component.exports","import {BuildingBlock} from '@/furumai/setup/BuildingBlock'\nimport {Env} from '@/furumai/setup/Env'\nimport {GridCell} from '@/furumai/grid/GridCell'\nimport {Box} from '@/layout/engine/Box'\nimport {visible} from '@/furumai/grid/utils'\nimport {Attributes} from '@/furumai/utils'\n\nexport class Node implements BuildingBlock {\n  public static find(id: string): BuildingBlock | undefined {\n    return undefined\n  }\n\n  constructor(\n    public readonly id: string,\n    private attrs: Attributes = Attributes.empty,\n  ) {\n  }\n\n  public setup(env: Env): GridCell | undefined {\n    const existing = env.findGridArea(this.id)\n    if (existing) {\n      visible(existing)\n      existing.updateAttributes(this.attrs)\n      return undefined\n    } else {\n      const baseAttrs = env.lookupAttributes('node')\n      const merged = baseAttrs.merge(this.attrs)\n      return GridCell.of(this.id, Box.of(merged.box), merged.attrs)\n    }\n  }\n}\n","import {GridArea} from '@/furumai/grid/GridArea'\nimport {Cell} from '@/layout/engine/Cell'\nimport {Box} from '@/layout/engine/Box'\nimport {Shape} from '@/shared/vue/Shape'\nimport {SecureSvgAttrs} from '@/shared/vue/SecureSvgAttrs'\nimport {Attributes, Attrs, num} from '@/furumai/utils'\n\nexport class GridCell implements GridArea<Cell> {\n  public static of(id: string, box: Box, attrs: Attrs) {\n    return new GridCell(id, new Cell(box), attrs)\n  }\n\n  private constructor(\n    public readonly id: string,\n    private cell: Cell,\n    private attrs: Attrs,\n  ) {\n  }\n\n  get get(): Cell {\n    return this.cell\n  }\n\n  public updateAttributes(attrs: Attributes): GridCell {\n    // TODO immutable\n    this.attrs = {\n      ...this.attrs,\n      ...attrs.attrs,\n    }\n    this.cell = this.cell.withBox(attrs.box)\n    return this\n  }\n\n  public find(id: string): GridCell | undefined {\n    return this.id === id ? this : undefined\n  }\n\n  public map(f: (a: Cell) => Cell): GridCell {\n    const {dx, dy, ...rest} = this.attrs\n    const cell = f(this.cell)\n    const box = cell.box.move(num(dx) || 0, num(dy) || 0)\n    return new GridCell(this.id, cell.withBox(box), rest)\n  }\n\n  public vue(): Shape {\n    const {shape, label, t, ...rest} = this.attrs\n    const shapeType = shape || 'box'\n    const text = {\n      label: label || this.id,\n      t,\n      dx: 0,\n      dy: 0,\n    }\n    const svgAttrs = SecureSvgAttrs.of(rest)\n    return {\n      type: shapeType,\n      id: this.id,\n      box: this.cell.box,\n      text,\n      svgAttrs,\n    }\n  }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Prop, Vue} from 'vue-property-decorator'\nimport GridArea from '@/components/svg/GridArea.vue'\nimport {Shape} from '@/shared/vue/Shape'\nimport {Vector2d} from '@/layout/engine/Vector2d'\nimport TextContent from '@/components/svg/TextContent.vue'\nimport {divideAttrs, ShapeAndTextAttrs} from '@/furumai/utils'\n\n@Component({\n  components: {\n    TextContent,\n    GridArea,\n  },\n})\nexport default class Arrow extends Vue {\n  @Prop()\n  public shape!: Shape\n\n  // textPosition!: {x: number, y: number}\n  get textPosition(): {x: number, y: number} {\n    const {x1, y1, x2, y2} = this.xy\n    let v = new Vector2d(x1, y1, x2, y2).normalize()\n    v = v.dy > 0 ? v.rotate(-90) : v.rotate(90)\n    v = v.multiple(24)\n    const box = this.shape.box\n    return {\n      x: box.cx + v.dx,\n      y: box.cy + v.dy,\n    }\n  }\n\n  private get xy(): {x1: number, y1: number, x2: number, y2: number} {\n    const {x, y, width, height} = this.shape.box\n    return {x1: x, y1: y, x2: x + width, y2: y + height}\n  }\n\n  get d(): string {\n    const {x1, y1, x2, y2} = this.xy\n    function rotateBase(deg: number, pump: number) {\n      const v1 = new Vector2d(x1, y1, x2, y2).normalize().multiple(pump).rotate(deg).negate()\n      return v1.move(x2, y2)\n    }\n\n    const degree = this.defaults.arrow.head.degree\n    const pumpUp = this.defaults.arrow.head.size\n    const va = rotateBase(degree, pumpUp)\n    const vb = rotateBase(-degree, pumpUp)\n\n    return `M ${x1} ${y1}\nL ${x2} ${y2}\nM ${va.x2} ${va.y2}\nL ${x2} ${y2}\nM ${vb.x2} ${vb.y2}\nL ${x2} ${y2}`\n  }\n\n  public get attrs(): ShapeAndTextAttrs {\n    const {shape, text} = divideAttrs(this.shape.svgAttrs.svgAttrs)\n    const strokeWidth = this.defaults.arrow.width\n    return {\n      shape: {\n        stroke: 'black',\n        'stroke-width': `${strokeWidth}`,\n        ...shape,\n      },\n      text: {\n        ...text,\n      },\n    }\n  }\n\n  private defaults = {\n    arrow: {\n      width: 2,\n      head: {\n        size: 26,\n        degree: 27,\n      },\n    },\n  }\n}\n\n","import {Container} from '@/furumai/grid/Container'\nimport {GridArea} from '@/furumai/grid/GridArea'\nimport {Elem} from '@/layout/engine/Elem'\nimport {Overlay} from '@/furumai/grid/Overlay'\nimport {Attributes} from '@/furumai/utils'\n\nexport class Env {\n  public static of(container: Container, attrs: { [key: string]: Attributes }): Env {\n    return new Env(container, attrs)\n  }\n\n  private constructor(\n    readonly container: Container,\n    private attrs: { [key: string]: Attributes },\n    private baseEnv?: Env,\n  ) {\n  }\n\n  public newEnv(container: Container, attrs: { [key: string]: Attributes }): Env {\n    return new Env(container, attrs, this)\n  }\n\n  public update(container: Container): Env {\n    return new Env(container, this.attrs, this.baseEnv)\n  }\n\n  public lookupAttributes(className: string): Attributes {\n    const p = this.baseEnv ? this.baseEnv.lookupAttributes(className) : Attributes.empty\n    return this.attrs[className] ? p.merge(this.attrs[className]) : p\n  }\n\n  public findGridArea<A extends Elem>(id: string): GridArea<A> | undefined {\n    return this.container.find(id) as GridArea<A> | undefined\n  }\n\n  public findOverlay(id: string): Overlay | undefined {\n    return this.container.find(id) as Overlay | undefined\n  }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Vue} from 'vue-property-decorator'\n\n@Component\nexport default class Header extends Vue {\n}\n","import {BuildingBlock} from '@/furumai/setup/BuildingBlock'\nimport {Env} from '@/furumai/setup/Env'\nimport Gap from '@/layout/engine/Gap'\nimport {Attribute, Attributes, Attrs, ElementAttribute, toDict} from '@/furumai/utils'\n\nexport class Frame {\n  public static of(\n    blocks: BuildingBlock[],\n    attributes: Attribute[],\n    childAttributes: ElementAttribute[],\n  ): Frame {\n    const attrs = Attributes.of(attributes)\n    const box = {\n      margin: Gap.zero,\n      padding: Gap.zero,\n      ...attrs.box,\n    }\n    const {config, ...rest} = attrs.attrs\n    const conf: Attrs = {}\n    const cf = config || ''\n    cf.split(',').forEach((line) => {\n      const kv = line.split('=')\n      conf[kv[0]] = kv[1]\n    })\n    const {mode, align} = {\n      mode: '_',\n      align: '_',\n      ...conf,\n    }\n    return new Frame(\n      blocks,\n      mode,\n      align,\n      new Attributes(box, rest),\n      toDict(childAttributes),\n    )\n  }\n\n  private constructor(\n    private blocks: BuildingBlock[],\n    private mode: string,\n    private align: string,\n    private attrs: Attributes,\n    private childAttrs: { [key: string]: Attributes },\n  ) {\n  }\n\n  public setup(baseEnv: Env): Env {\n    const base = baseEnv.container.updateAttributes(this.attrs)\n    return this.blocks.reduce((env, block) => {\n      const child = block.setup(env)\n      if (child) {\n        return env.update(env.container.append(child))\n      } else {\n        return env\n      }\n    }, baseEnv.newEnv(base, this.childAttrs))\n  }\n}\n","import {Landscape} from '@/layout/engine/Landscape'\nimport {Portrait} from '@/layout/engine/Portrait'\nimport {Elem} from '@/layout/engine/Elem'\nimport {GridArea} from '@/furumai/grid/GridArea'\nimport {Overlay} from '@/furumai/grid/Overlay'\nimport {GridCell} from '@/furumai/grid/GridCell'\nimport {Group} from '@/shared/vue/Group'\nimport {SecureSvgAttrs} from '@/shared/vue/SecureSvgAttrs'\nimport {Attributes, Attrs} from '@/furumai/utils'\n\nexport class Container implements GridArea<Landscape | Portrait> {\n  constructor(\n    public readonly id: string,\n    private attrs: Attrs,\n    private elem: Landscape | Portrait,\n    private overlays: Overlay[] = [],\n  ) {\n  }\n\n  get get(): Landscape | Portrait {\n    return this.elem\n  }\n\n  public updateAttributes(attrs: Attributes): Container {\n    // TODO immutable\n    this.attrs = {\n      ...this.attrs,\n      ...attrs.attrs,\n    }\n    this.elem = this.elem.withBox(attrs.box)\n    return this\n  }\n\n  public find(id: string): GridArea<Elem> | Overlay | undefined {\n    if (this.id === id) {\n      return this\n    } else {\n      const ret = [\n        ...this.elem.children.map((i) => (i as GridArea<Elem>).find(id)),\n        ...this.overlays.map((i) => i.id === id ? i : undefined),\n      ].filter((i) => i)\n      if (ret.length === 1) {\n        return ret[0]\n      } else {\n        return undefined\n      }\n    }\n  }\n\n  public map(f: (a: Landscape | Portrait) => Landscape | Portrait): Container {\n    return new Container(this.id, this.attrs, f(this.elem), this.overlays)\n  }\n\n  public append(child: GridArea<Elem> | Overlay): Container {\n    if (child instanceof Container || child instanceof GridCell) {\n      return new Container(\n        this.id,\n        this.attrs,\n        this.elem.append(child as GridArea<Elem>),\n        this.overlays,\n      )\n    } else {\n      return new Container(\n        this.id,\n        this.attrs,\n        this.elem,\n        [child as Overlay, ...this.overlays],\n      )\n    }\n  }\n\n  public vue(): Group {\n    const box = this.elem.box\n    const {t, ...svgAttrs} = this.attrs\n    const children = this.elem.children.map((c) => (c as GridArea<Elem>).vue())\n    const overlays = this.overlays.map((lay) => lay.applyTo(this).vue())\n    const text = {\n      label: this.id,\n      t,\n      dx: 0,\n      dy: 0,\n    }\n    return {\n      type: 'group',\n      id: this.id,\n      box,\n      text,\n      svgAttrs: SecureSvgAttrs.of(svgAttrs),\n      children: children.concat(overlays),\n    }\n  }\n}\n","\n\n\n\n\n\n\n\n\nimport {Component, Vue} from 'vue-property-decorator'\nimport Footer from '@/components/Footer.vue'\nimport Header from '@/components/Header.vue'\n\n@Component({\n  components: {Footer, Header},\n})\nexport default class App extends Vue {\n}\n","import {Overlay} from '@/furumai/grid/Overlay'\nimport {GridArea} from '@/furumai/grid/GridArea'\nimport {Elem} from '@/layout/engine/Elem'\nimport {Attributes} from '@/furumai/utils'\n\nexport function visible(block: GridArea<Elem> | Overlay): GridArea<Elem> | Overlay {\n  return block.updateAttributes(new Attributes({}, {visibility: 'visible'}))\n}\n\nexport function hide(block: GridArea<Elem> | Overlay): GridArea<Elem> | Overlay {\n  return block.updateAttributes(new Attributes({}, {visibility: 'hidden'}))\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/ts-loader/index.js??ref--12-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLayout.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/ts-loader/index.js??ref--12-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLayout.vue?vue&type=script&lang=ts&\"","import {DataEncoderDecoderV1} from '@/io/DataEncoderDecoderV1'\n\nconst sampleCode = `group clients {\n  c1;\n  c2;\n};\n\ngroup kvs {\n  node [shape='cylinder'];\n  s1;\n  s2;\n  s3;\n  hinted_hand_off[shape='box'];\n};\n---\nc1 -> s1 [\n  label='write x=1\\\\n...',\n  'stroke-dasharray'='4'\n];\nc1 -> s2 [label='write x=1'];\ns1[label='x=1'];\ns2[label='x=1'];\n---\nc2[label='x=1'];\nc2 -> s2 [label='read x=1'];\n`\n\nconst codec = new DataEncoderDecoderV1()\nexport const formatVersion = codec.formatVersion\nexport const sampleFragment = codec.encode({version: 1, code: sampleCode, rough: true})\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Person.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Person.vue?vue&type=script&lang=ts&\"","import mod from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FurumaiApp1.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FurumaiApp1.vue?vue&type=style&index=0&lang=css&\"","import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\n\nVue.config.productionTip = false\n\nnew Vue({\n  router,\n  render: (h) => h(App),\n}).$mount('#app')\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SvgComponent.vue?vue&type=template&id=6b974f0e&scoped=true&\"\nimport script from \"./SvgComponent.vue?vue&type=script&lang=ts&\"\nexport * from \"./SvgComponent.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6b974f0e\",\n  null\n  \n)\n\nexport default component.exports","import {Overlay} from '@/furumai/grid/Overlay'\nimport {Container} from '@/furumai/grid/Container'\nimport {Box} from '@/layout/engine/Box'\nimport {Arrow} from '@/layout/engine/Arrow'\nimport {GridArea} from '@/furumai/grid/GridArea'\nimport {Elem} from '@/layout/engine/Elem'\nimport {Shape} from '@/shared/vue/Shape'\nimport {SecureSvgAttrs} from '@/shared/vue/SecureSvgAttrs'\nimport {Attributes, Attrs, num} from '@/furumai/utils'\n\nexport class EdgeOverlay implements Overlay {\n  private static findBox(base: Container, id: string): Box {\n    const area = base.find(id) as GridArea<Elem>\n    return area.get.box\n  }\n\n  constructor(\n    readonly id: string,\n    private tailId: string,\n    private headId: string,\n    private attrs: Attrs,\n    private box: Box,\n  ) {\n  }\n\n  public updateAttributes(attrs: Attributes): Overlay {\n    // TODO immutable\n    this.attrs = {\n      ...this.attrs,\n      ...attrs.attrs,\n    }\n    this.box = this.box.update(attrs.box)\n    return this\n  }\n\n  public applyTo(base: Container): EdgeOverlay {\n    const tail = EdgeOverlay.findBox(base, this.tailId)\n    const head = EdgeOverlay.findBox(base, this.headId)\n    const {dx, dy} = this.attrs\n    const box = Arrow.singleton.fit(tail, head, num(dx) || 0, num(dy) || 0)\n    return new EdgeOverlay(this.id, this.tailId, this.headId, this.attrs, box)\n  }\n\n  public vue(): Shape {\n    const {dx, dy, t, label, ...rest} = this.attrs\n    const svgAttrs = {\n      visibility: 'visible',\n      ...rest,\n    }\n    const text = {\n      label,\n      t,\n      dx: num(dx) || 0,\n      dy: num(dy) || 0,\n    }\n    return {\n      type: 'arrow',\n      id: this.id,\n      box: this.box,\n      text,\n      svgAttrs: SecureSvgAttrs.of(svgAttrs),\n    }\n  }\n}\n","import LZString from 'lz-string'\nimport {Data} from './Data'\nimport {DataEncoderDecoder} from './DataEncoderDecoder'\n\nexport class DataEncoderDecoderV1 implements DataEncoderDecoder<string, Data> {\n  public readonly formatVersion = 'v1'\n\n  public decode(encoded: string): Data {\n    const jsonString = LZString.decompressFromEncodedURIComponent(encoded)\n    return JSON.parse(jsonString) as Data\n  }\n\n  public encode(decoded: Data): string {\n    const d = JSON.stringify(decoded)\n    return LZString.compressToEncodedURIComponent(d)\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Arrow.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Arrow.vue?vue&type=script&lang=ts&\"","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Footer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Footer.vue?vue&type=script&lang=ts&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('g',_vm._b({},'g',_vm.g.svgAttrs.svgAttrs,false),[_vm._l((_vm.childGroups),function(c){return _c('Group',{key:c.id,attrs:{\"g\":c}})}),_vm._l((_vm.boxes),function(c){return _c('Box',{key:c.id,attrs:{\"shape\":c}})}),_vm._l((_vm.cylinders),function(c){return _c('Cylinder',{key:c.id,attrs:{\"shape\":c}})}),_vm._l((_vm.persons),function(c){return _c('Person',{key:c.id,attrs:{\"shape\":c}})}),_vm._l((_vm.arrows),function(c){return _c('Arrow',{key:c.id,attrs:{\"shape\":c}})}),_c('GridArea',{attrs:{\"box\":_vm.g.box}})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"b4f43d4a-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Group.vue?vue&type=template&id=33ef9dee&scoped=true&\"","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Box.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Box.vue?vue&type=script&lang=ts&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Prop, Vue} from 'vue-property-decorator'\nimport GridArea from '@/components/svg/GridArea.vue'\nimport {Shape} from '@/shared/vue/Shape'\nimport TextContent from '@/components/svg/TextContent.vue'\nimport {divideAttrs, ShapeAndTextAttrs} from '@/furumai/utils'\n\n@Component({\n  components: {\n    TextContent,\n    GridArea,\n  },\n})\nexport default class Cylinder extends Vue {\n  @Prop()\n  public shape!: Shape\n\n  get attrs(): ShapeAndTextAttrs {\n    const {shape, text} = divideAttrs(this.shape.svgAttrs.svgAttrs)\n    return {\n      shape: {\n        fill: 'none',\n        stroke: 'black',\n        ...shape,\n      },\n      text: {\n        ...text,\n      },\n    }\n  }\n\n  get textPosition(): {x: number, y: number} {\n    const {x, y, padding} = this.shape.box\n    return {\n      x: x + padding.left,\n      y: y + padding.top,\n    }\n  }\n\n  get d(): string {\n    const box = this.shape.box\n    const cx = box.cx\n    const cy = box.cy\n    const {width, height} = box\n\n    const curve = 8 + (width * 1.2) / 20  // FIXME\n    const xl = cx - (width / 2)\n    const xr = cx + (width / 2)\n    const yum = cy - (height / 2)\n    const yuu = yum - curve\n    const yud = yum + curve\n    const ydm = cy + (height / 2)\n    const ydd = ydm + curve\n\n    return `M ${xr},${yum}\nC ${xr},${yud}\n  ${xl},${yud}\n  ${xl},${yum}\nM ${xr},${yum}\nC ${xr},${yuu}\n  ${xl},${yuu}\n  ${xl},${yum}\nM ${xr},${yum}\nL ${xr},${ydm}\nC ${xr},${ydd}\n  ${xl},${ydd}\n  ${xl},${ydm}\nL ${xl},${yum}`\n\n\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgComponent.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgComponent.vue?vue&type=script&lang=ts&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"svgContainer\"},[(_vm.rough && _vm.roughHtml.length > 0)?_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":(\"0 0 \" + (_vm.shape.box.width) + \" \" + (_vm.shape.box.height)),\"width\":_vm.shape.box.width / 2,\"height\":_vm.shape.box.height / 2},domProps:{\"innerHTML\":_vm._s(_vm.roughHtml)}}):_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":(\"0 0 \" + (_vm.shape.box.width) + \" \" + (_vm.shape.box.height)),\"width\":_vm.shape.box.width / 2,\"height\":_vm.shape.box.height / 2}},[_c('Group',{attrs:{\"g\":_vm.shape}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"b4f43d4a-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgComponent.vue?vue&type=template&id=6b974f0e&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('text',_vm._b({attrs:{\"x\":_vm.position.x + _vm.content.dx,\"y\":_vm.position.y + _vm.content.dy}},'text',_vm.attrs,false),_vm._l((_vm.texts),function(t){return _c('tspan',_vm._b({attrs:{\"dy\":\"1em\",\"x\":_vm.position.x + _vm.content.dx}},'tspan',_vm.attrs,false),[_vm._v(_vm._s(t))])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"b4f43d4a-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextContent.vue?vue&type=template&id=822391f0&scoped=true&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Prop, Vue} from 'vue-property-decorator'\nimport {Shape} from '@/shared/vue/Shape'\nimport GridArea from '@/components/svg/GridArea.vue'\nimport TextContent from '@/components/svg/TextContent.vue'\nimport {asString, divideAttrs, ShapeAndTextAttrs} from '@/furumai/utils'\n\n@Component({\n  components: {\n    TextContent,\n    GridArea,\n  },\n})\nexport default class Box extends Vue {\n  @Prop()\n  public shape!: Shape\n\n  public get attrs(): ShapeAndTextAttrs {\n    const {shape, text} = divideAttrs(this.shape.svgAttrs.svgAttrs)\n    const {x, y, width, height, margin, padding} = asString(this.shape.box)\n    return {\n      shape: {\n        id: `_rect_${this.shape.id}`,\n        fill: 'none',\n        stroke: 'black',\n        x, y, width, height, margin, padding,\n        ...shape,\n      },\n      text: {\n        ...text,\n      },\n    }\n  }\n\n  get textPosition(): {x: number, y: number} {\n    const {x, y, padding} = this.shape.box\n    return {\n      x: x + padding.left,\n      y: y + padding.top,\n    }\n  }\n}\n","import {Wrap} from '@/layout/engine/Wrap'\nimport {Elem} from '@/layout/engine/Elem'\nimport Gap from '@/layout/engine/Gap'\nimport {Area, Box, Point, Size} from '@/layout/engine/Box'\n\nexport class Portrait implements Elem {\n  constructor(\n    readonly children: Array<Wrap<Elem>>,\n    readonly box: Box,\n  ) {\n  }\n\n  public fit(point: Point, grossSize: Partial<Size> = {}): Portrait {\n    const old = this.box.contentArea\n    const childrenArea = this.box.calcContentArea(point, grossSize)\n    const {x, y, width, height} = childrenArea\n    let yy = y\n\n    const gap = height ? Gap.gap2((height - old.height) / (2 * this.children.length), 0) : Gap.zero\n    const w = width ? {width} : {}\n    const h = height ? {height: old.height / this.children.length} : {}\n    const childNodes: Array<Wrap<Elem>> = []\n    for (const c of this.children) {\n      yy += gap.top\n      const moved = c.map((elem) => elem.fit({x, y: yy}, {...w, ...h}))\n      childNodes.push(moved)\n      yy += moved.get.box.grossArea.height\n      yy += gap.bottom\n    }\n\n    const maxWidth = Math.max(...childNodes.map((c) => c.get.box.grossArea.width))\n    const childContentArea: Area = {x, y, width: maxWidth, height: yy - y}\n    return new Portrait(childNodes, this.box.inflate(childContentArea))\n  }\n\n  public withBox(box: Partial<Box>): Portrait {\n    return new Portrait(this.children, this.box.update(box))\n  }\n\n  public append(child: Wrap<Elem>): Portrait {\n    return new Portrait([...this.children, child], this.box)\n  }\n}\n","// Generated from Furumai.g4 by ANTLR 4.7.3-SNAPSHOT\n\n\nimport { ATN } from \"antlr4ts/atn/ATN\";\nimport { ATNDeserializer } from \"antlr4ts/atn/ATNDeserializer\";\nimport { CharStream } from \"antlr4ts/CharStream\";\nimport { Lexer } from \"antlr4ts/Lexer\";\nimport { LexerATNSimulator } from \"antlr4ts/atn/LexerATNSimulator\";\nimport { NotNull } from \"antlr4ts/Decorators\";\nimport { Override } from \"antlr4ts/Decorators\";\nimport { RuleContext } from \"antlr4ts/RuleContext\";\nimport { Vocabulary } from \"antlr4ts/Vocabulary\";\nimport { VocabularyImpl } from \"antlr4ts/VocabularyImpl\";\n\nimport * as Utils from \"antlr4ts/misc/Utils\";\n\n\nexport class FurumaiLexer extends Lexer {\n\tpublic static readonly T__0 = 1;\n\tpublic static readonly T__1 = 2;\n\tpublic static readonly T__2 = 3;\n\tpublic static readonly T__3 = 4;\n\tpublic static readonly T__4 = 5;\n\tpublic static readonly T__5 = 6;\n\tpublic static readonly T__6 = 7;\n\tpublic static readonly T__7 = 8;\n\tpublic static readonly T__8 = 9;\n\tpublic static readonly NODE = 10;\n\tpublic static readonly EDGE = 11;\n\tpublic static readonly GROUP = 12;\n\tpublic static readonly ZONE = 13;\n\tpublic static readonly HIDE = 14;\n\tpublic static readonly DELETE = 15;\n\tpublic static readonly ID = 16;\n\tpublic static readonly SPACES = 17;\n\n\t// tslint:disable:no-trailing-whitespace\n\tpublic static readonly channelNames: string[] = [\n\t\t\"DEFAULT_TOKEN_CHANNEL\", \"HIDDEN\",\n\t];\n\n\t// tslint:disable:no-trailing-whitespace\n\tpublic static readonly modeNames: string[] = [\n\t\t\"DEFAULT_MODE\",\n\t];\n\n\tpublic static readonly ruleNames: string[] = [\n\t\t\"T__0\", \"T__1\", \"T__2\", \"T__3\", \"T__4\", \"T__5\", \"T__6\", \"T__7\", \"T__8\", \n\t\t\"NODE\", \"EDGE\", \"GROUP\", \"ZONE\", \"HIDE\", \"DELETE\", \"ID\", \"SPACES\",\n\t];\n\n\tprivate static readonly _LITERAL_NAMES: Array<string | undefined> = [\n\t\tundefined, \"'---'\", \"';'\", \"'['\", \"','\", \"']'\", \"'='\", \"'->'\", \"'{'\", \n\t\t\"'}'\", \"'node'\", \"'edge'\", \"'group'\", \"'zone'\", \"'hide'\", \"'delete'\",\n\t];\n\tprivate static readonly _SYMBOLIC_NAMES: Array<string | undefined> = [\n\t\tundefined, undefined, undefined, undefined, undefined, undefined, undefined, \n\t\tundefined, undefined, undefined, \"NODE\", \"EDGE\", \"GROUP\", \"ZONE\", \"HIDE\", \n\t\t\"DELETE\", \"ID\", \"SPACES\",\n\t];\n\tpublic static readonly VOCABULARY: Vocabulary = new VocabularyImpl(FurumaiLexer._LITERAL_NAMES, FurumaiLexer._SYMBOLIC_NAMES, []);\n\n\t// @Override\n\t// @NotNull\n\tpublic get vocabulary(): Vocabulary {\n\t\treturn FurumaiLexer.VOCABULARY;\n\t}\n\t// tslint:enable:no-trailing-whitespace\n\n\n\tconstructor(input: CharStream) {\n\t\tsuper(input);\n\t\tthis._interp = new LexerATNSimulator(FurumaiLexer._ATN, this);\n\t}\n\n\t// @Override\n\tpublic get grammarFileName(): string { return \"Furumai.g4\"; }\n\n\t// @Override\n\tpublic get ruleNames(): string[] { return FurumaiLexer.ruleNames; }\n\n\t// @Override\n\tpublic get serializedATN(): string { return FurumaiLexer._serializedATN; }\n\n\t// @Override\n\tpublic get channelNames(): string[] { return FurumaiLexer.channelNames; }\n\n\t// @Override\n\tpublic get modeNames(): string[] { return FurumaiLexer.modeNames; }\n\n\t// @Override\n\tpublic action(_localctx: RuleContext, ruleIndex: number, actionIndex: number): void {\n\t\tswitch (ruleIndex) {\n\t\tcase 15:\n\t\t\tthis.ID_action(_localctx, actionIndex);\n\t\t\tbreak;\n\t\t}\n\t}\n\tprivate ID_action(_localctx: RuleContext, actionIndex: number): void {\n\t\tswitch (actionIndex) {\n\t\tcase 0:\n\t\t\tthis.text = this.text.slice(1, -1)\n\t\t\tbreak;\n\n\t\tcase 1:\n\t\t\tthis.text = this.text.slice(1, -1)\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tpublic static readonly _serializedATN: string =\n\t\t\"\\x03\\uC91D\\uCABA\\u058D\\uAFBA\\u4F53\\u0607\\uEA8B\\uC241\\x02\\x13z\\b\\x01\\x04\" +\n\t\t\"\\x02\\t\\x02\\x04\\x03\\t\\x03\\x04\\x04\\t\\x04\\x04\\x05\\t\\x05\\x04\\x06\\t\\x06\\x04\" +\n\t\t\"\\x07\\t\\x07\\x04\\b\\t\\b\\x04\\t\\t\\t\\x04\\n\\t\\n\\x04\\v\\t\\v\\x04\\f\\t\\f\\x04\\r\\t\\r\" +\n\t\t\"\\x04\\x0E\\t\\x0E\\x04\\x0F\\t\\x0F\\x04\\x10\\t\\x10\\x04\\x11\\t\\x11\\x04\\x12\\t\\x12\" +\n\t\t\"\\x03\\x02\\x03\\x02\\x03\\x02\\x03\\x02\\x03\\x03\\x03\\x03\\x03\\x04\\x03\\x04\\x03\\x05\" +\n\t\t\"\\x03\\x05\\x03\\x06\\x03\\x06\\x03\\x07\\x03\\x07\\x03\\b\\x03\\b\\x03\\b\\x03\\t\\x03\\t\" +\n\t\t\"\\x03\\n\\x03\\n\\x03\\v\\x03\\v\\x03\\v\\x03\\v\\x03\\v\\x03\\f\\x03\\f\\x03\\f\\x03\\f\\x03\" +\n\t\t\"\\f\\x03\\r\\x03\\r\\x03\\r\\x03\\r\\x03\\r\\x03\\r\\x03\\x0E\\x03\\x0E\\x03\\x0E\\x03\\x0E\" +\n\t\t\"\\x03\\x0E\\x03\\x0F\\x03\\x0F\\x03\\x0F\\x03\\x0F\\x03\\x0F\\x03\\x10\\x03\\x10\\x03\\x10\" +\n\t\t\"\\x03\\x10\\x03\\x10\\x03\\x10\\x03\\x10\\x03\\x11\\x03\\x11\\x07\\x11^\\n\\x11\\f\\x11\" +\n\t\t\"\\x0E\\x11a\\v\\x11\\x03\\x11\\x03\\x11\\x03\\x11\\x03\\x11\\x07\\x11g\\n\\x11\\f\\x11\\x0E\" +\n\t\t\"\\x11j\\v\\x11\\x03\\x11\\x03\\x11\\x03\\x11\\x03\\x11\\x07\\x11p\\n\\x11\\f\\x11\\x0E\\x11\" +\n\t\t\"s\\v\\x11\\x05\\x11u\\n\\x11\\x03\\x12\\x03\\x12\\x03\\x12\\x03\\x12\\x02\\x02\\x02\\x13\" +\n\t\t\"\\x03\\x02\\x03\\x05\\x02\\x04\\x07\\x02\\x05\\t\\x02\\x06\\v\\x02\\x07\\r\\x02\\b\\x0F\\x02\" +\n\t\t\"\\t\\x11\\x02\\n\\x13\\x02\\v\\x15\\x02\\f\\x17\\x02\\r\\x19\\x02\\x0E\\x1B\\x02\\x0F\\x1D\" +\n\t\t\"\\x02\\x10\\x1F\\x02\\x11!\\x02\\x12#\\x02\\x13\\x03\\x02\\x07\\x03\\x02))\\x03\\x02$\" +\n\t\t\"$\\x07\\x02//2;C\\\\aac|\\x07\\x02/02;C\\\\aac|\\x05\\x02\\v\\r\\x0F\\x0F\\\"\\\"\\x02~\\x02\" +\n\t\t\"\\x03\\x03\\x02\\x02\\x02\\x02\\x05\\x03\\x02\\x02\\x02\\x02\\x07\\x03\\x02\\x02\\x02\\x02\" +\n\t\t\"\\t\\x03\\x02\\x02\\x02\\x02\\v\\x03\\x02\\x02\\x02\\x02\\r\\x03\\x02\\x02\\x02\\x02\\x0F\" +\n\t\t\"\\x03\\x02\\x02\\x02\\x02\\x11\\x03\\x02\\x02\\x02\\x02\\x13\\x03\\x02\\x02\\x02\\x02\\x15\" +\n\t\t\"\\x03\\x02\\x02\\x02\\x02\\x17\\x03\\x02\\x02\\x02\\x02\\x19\\x03\\x02\\x02\\x02\\x02\\x1B\" +\n\t\t\"\\x03\\x02\\x02\\x02\\x02\\x1D\\x03\\x02\\x02\\x02\\x02\\x1F\\x03\\x02\\x02\\x02\\x02!\" +\n\t\t\"\\x03\\x02\\x02\\x02\\x02#\\x03\\x02\\x02\\x02\\x03%\\x03\\x02\\x02\\x02\\x05)\\x03\\x02\" +\n\t\t\"\\x02\\x02\\x07+\\x03\\x02\\x02\\x02\\t-\\x03\\x02\\x02\\x02\\v/\\x03\\x02\\x02\\x02\\r\" +\n\t\t\"1\\x03\\x02\\x02\\x02\\x0F3\\x03\\x02\\x02\\x02\\x116\\x03\\x02\\x02\\x02\\x138\\x03\\x02\" +\n\t\t\"\\x02\\x02\\x15:\\x03\\x02\\x02\\x02\\x17?\\x03\\x02\\x02\\x02\\x19D\\x03\\x02\\x02\\x02\" +\n\t\t\"\\x1BJ\\x03\\x02\\x02\\x02\\x1DO\\x03\\x02\\x02\\x02\\x1FT\\x03\\x02\\x02\\x02!t\\x03\" +\n\t\t\"\\x02\\x02\\x02#v\\x03\\x02\\x02\\x02%&\\x07/\\x02\\x02&\\'\\x07/\\x02\\x02\\'(\\x07/\" +\n\t\t\"\\x02\\x02(\\x04\\x03\\x02\\x02\\x02)*\\x07=\\x02\\x02*\\x06\\x03\\x02\\x02\\x02+,\\x07\" +\n\t\t\"]\\x02\\x02,\\b\\x03\\x02\\x02\\x02-.\\x07.\\x02\\x02.\\n\\x03\\x02\\x02\\x02/0\\x07_\" +\n\t\t\"\\x02\\x020\\f\\x03\\x02\\x02\\x0212\\x07?\\x02\\x022\\x0E\\x03\\x02\\x02\\x0234\\x07\" +\n\t\t\"/\\x02\\x0245\\x07@\\x02\\x025\\x10\\x03\\x02\\x02\\x0267\\x07}\\x02\\x027\\x12\\x03\" +\n\t\t\"\\x02\\x02\\x0289\\x07\\x7F\\x02\\x029\\x14\\x03\\x02\\x02\\x02:;\\x07p\\x02\\x02;<\\x07\" +\n\t\t\"q\\x02\\x02<=\\x07f\\x02\\x02=>\\x07g\\x02\\x02>\\x16\\x03\\x02\\x02\\x02?@\\x07g\\x02\" +\n\t\t\"\\x02@A\\x07f\\x02\\x02AB\\x07i\\x02\\x02BC\\x07g\\x02\\x02C\\x18\\x03\\x02\\x02\\x02\" +\n\t\t\"DE\\x07i\\x02\\x02EF\\x07t\\x02\\x02FG\\x07q\\x02\\x02GH\\x07w\\x02\\x02HI\\x07r\\x02\" +\n\t\t\"\\x02I\\x1A\\x03\\x02\\x02\\x02JK\\x07|\\x02\\x02KL\\x07q\\x02\\x02LM\\x07p\\x02\\x02\" +\n\t\t\"MN\\x07g\\x02\\x02N\\x1C\\x03\\x02\\x02\\x02OP\\x07j\\x02\\x02PQ\\x07k\\x02\\x02QR\\x07\" +\n\t\t\"f\\x02\\x02RS\\x07g\\x02\\x02S\\x1E\\x03\\x02\\x02\\x02TU\\x07f\\x02\\x02UV\\x07g\\x02\" +\n\t\t\"\\x02VW\\x07n\\x02\\x02WX\\x07g\\x02\\x02XY\\x07v\\x02\\x02YZ\\x07g\\x02\\x02Z \\x03\" +\n\t\t\"\\x02\\x02\\x02[_\\x07)\\x02\\x02\\\\^\\n\\x02\\x02\\x02]\\\\\\x03\\x02\\x02\\x02^a\\x03\" +\n\t\t\"\\x02\\x02\\x02_]\\x03\\x02\\x02\\x02_`\\x03\\x02\\x02\\x02`b\\x03\\x02\\x02\\x02a_\\x03\" +\n\t\t\"\\x02\\x02\\x02bc\\x07)\\x02\\x02cu\\b\\x11\\x02\\x02dh\\x07$\\x02\\x02eg\\n\\x03\\x02\" +\n\t\t\"\\x02fe\\x03\\x02\\x02\\x02gj\\x03\\x02\\x02\\x02hf\\x03\\x02\\x02\\x02hi\\x03\\x02\\x02\" +\n\t\t\"\\x02ik\\x03\\x02\\x02\\x02jh\\x03\\x02\\x02\\x02kl\\x07$\\x02\\x02lu\\b\\x11\\x03\\x02\" +\n\t\t\"mq\\t\\x04\\x02\\x02np\\t\\x05\\x02\\x02on\\x03\\x02\\x02\\x02ps\\x03\\x02\\x02\\x02q\" +\n\t\t\"o\\x03\\x02\\x02\\x02qr\\x03\\x02\\x02\\x02ru\\x03\\x02\\x02\\x02sq\\x03\\x02\\x02\\x02\" +\n\t\t\"t[\\x03\\x02\\x02\\x02td\\x03\\x02\\x02\\x02tm\\x03\\x02\\x02\\x02u\\\"\\x03\\x02\\x02\" +\n\t\t\"\\x02vw\\t\\x06\\x02\\x02wx\\x03\\x02\\x02\\x02xy\\b\\x12\\x04\\x02y$\\x03\\x02\\x02\\x02\" +\n\t\t\"\\x07\\x02_hqt\\x05\\x03\\x11\\x02\\x03\\x11\\x03\\x02\\x03\\x02\";\n\tpublic static __ATN: ATN;\n\tpublic static get _ATN(): ATN {\n\t\tif (!FurumaiLexer.__ATN) {\n\t\t\tFurumaiLexer.__ATN = new ATNDeserializer().deserialize(Utils.toCharArray(FurumaiLexer._serializedATN));\n\t\t}\n\n\t\treturn FurumaiLexer.__ATN;\n\t}\n\n}\n\n","import { render, staticRenderFns } from \"./Person.vue?vue&type=template&id=a16010c4&scoped=true&\"\nimport script from \"./Person.vue?vue&type=script&lang=ts&\"\nexport * from \"./Person.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a16010c4\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Prop, Vue} from 'vue-property-decorator'\nimport * as api from '@/shared/vue/TextContent'\nimport {Attrs} from '@/furumai/utils'\n\n@Component\nexport default class TextContent extends Vue {\n  @Prop()\n  public content!: api.TextContent\n\n  @Prop({default: {x: 0, y: 0}})\n  public position!: {x: number, y: number}\n\n  @Prop()\n  public attrs!: Attrs\n\n  get texts(): string[] {\n    const label = this.content.label\n    const content = this.content.t\n    const txt = label ? (content ? label + '\\\\n' + content : label) : content || ''\n    if (txt) {\n      return txt.split('\\\\n')\n    } else {\n      return []\n    }\n  }\n}\n","import { render, staticRenderFns } from \"./Footer.vue?vue&type=template&id=4ffd0aaa&scoped=true&\"\nimport script from \"./Footer.vue?vue&type=script&lang=ts&\"\nexport * from \"./Footer.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ffd0aaa\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}