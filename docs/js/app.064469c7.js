(function(t){function e(e){for(var s,o,a=e[0],u=e[1],c=e[2],l=0,d=[];l<a.length;l++)o=a[l],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&d.push(i[o][0]),i[o]=0;for(s in u)Object.prototype.hasOwnProperty.call(u,s)&&(t[s]=u[s]);h&&h(e);while(d.length)d.shift()();return n.push.apply(n,c||[]),r()}function r(){for(var t,e=0;e<n.length;e++){for(var r=n[e],s=!0,a=1;a<r.length;a++){var u=r[a];0!==i[u]&&(s=!1)}s&&(n.splice(e--,1),t=o(o.s=r[0]))}return t}var s={},i={app:0},n=[];function o(e){if(s[e])return s[e].exports;var r=s[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=s,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(r,s,function(e){return t[e]}.bind(null,s));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var h=u;n.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("cd49")},"0024":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r("9d52"),i="group clients {\n  c1;\n  c2;\n};\n\ngroup kvs {\n  node [shape='cylinder'];\n  s1;\n  s2;\n  s3;\n  hinted_hand_off[shape='box'];\n};\n---\nc1 -> s1 [\n  label='write x=1\\n...',\n  'stroke-dasharray'='4'\n];\nc1 -> s2 [label='write x=1'];\ns1[label='x=1'];\ns2[label='x=1'];\n---\nc2[label='x=1'];\nc2 -> s2 [label='read x=1'];\n",n=new s.DataEncoderDecoderV1;e.formatVersion=n.formatVersion,e.sampleFragment=n.encode({version:1,code:i,rough:!0})},"01a1":function(t,e,r){"use strict";r.r(e);var s=r("8608"),i=r("0e5c");for(var n in i)"default"!==n&&function(t){r.d(e,t,function(){return i[t]})}(n);var o=r("2877"),a=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=a.exports},"0418":function(t,e,r){"use strict";r.r(e);var s=r("19b5"),i=r("cf87");for(var n in i)"default"!==n&&function(t){r.d(e,t,function(){return i[t]})}(n);r("16b0");var o=r("2877"),a=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,"427dc33c",null);e["default"]=a.exports},"073a":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r("76a7"),i=r("341c"),n=r("9d52"),o=r("1bef"),a=r("e279");class u{constructor(t,e,r,s,i,n=!1){this.id=t,this.tailId=e,this.op=r,this.headId=s,this.attrs=i,this.disabled=n}updateAttributes(t){return this.attrs=this.attrs.update(t),this}disable(){return this.disabled=!0,this}vue(t){return this.disabled?{type:"nothing",id:this.id,box:s.Box.zero,text:{textAttrs:o.SecureSvgAttrs.of({})},svgAttrs:o.SecureSvgAttrs.of({})}:this.vueIfNotDisabled(t)}vueIfNotDisabled(t){const e=t.findArea(this.tailId),r=t.findArea(this.headId),{dx:s,dy:u,t:c,label:h}=this.attrs.other,l=i.Arrow.singleton.fit(e.get.box,r.get.box,n.num(s)||0,n.num(u)||0);a.showArea(e),a.showArea(r);const d=o.SecureSvgAttrs.of(Object.assign({visibility:"visible"},this.attrs.shape)),f={label:h,t:c,textAttrs:o.SecureSvgAttrs.of(this.attrs.text)};return{type:"->"===this.op?"arrow":"edge",id:this.id,box:l,text:f,svgAttrs:d}}}e.EdgeOverlay=u},"0913":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r("e279");class i{constructor(t){this.id=t}create(t){throw new Error(`not found: ${this.id}`)}update(t,e){return s.hideArea(t)}}e.HideBlock=i},"0e5c":function(t,e,r){"use strict";r.r(e);var s=r("2af6"),i=r.n(s);for(var n in s)"default"!==n&&function(t){r.d(e,t,function(){return s[t]})}(n);e["default"]=i.a},"158e":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class s{constructor(t,e,r,s){this.top=t,this.right=e,this.bottom=r,this.left=s}static gap1(t){return new s(t,t,t,t)}static gap2(t,e){return new s(t,e,t,e)}static gap4(t,e,r,i){return new s(t,e,r,i)}toString(){return`${this.top} ${this.right} ${this.bottom} ${this.left}`}}e.default=s,s.zero=s.gap1(0)},"15b3":function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"svgContainer"},[t.rough&&t.roughHtml.length>0?r("svg",{staticClass:"svg-root",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 "+t.shape.box.width+" "+t.shape.box.height,width:t.shape.box.width/2,height:t.shape.box.height/2},domProps:{innerHTML:t._s(t.roughHtml)}}):r("svg",{staticClass:"svg-root",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 "+t.shape.box.width+" "+t.shape.box.height,width:t.shape.box.width/2,height:t.shape.box.height/2}},[r("Group",{attrs:{g:t.shape}})],1)])},i=[];r.d(e,"a",function(){return s}),r.d(e,"b",function(){return i})},"16b0":function(t,e,r){"use strict";var s=r("6370"),i=r.n(s);i.a},"16cf":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r("321e"),i=r("e279"),n=r("9d52");class o{constructor(t,e=n.Attributes.empty){this.id=t,this.attrs=e}create(t){const e=t.lookupAttributes("node"),r=e.merge(this.attrs);return s.GridCell.of(this.id,r)}update(t,e){return i.showArea(t).updateAttributes(this.attrs)}}e.Node=o},1864:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r("9d52");class i{constructor(t,e){this.attrs=t,this.baseEnv=e}newEnv(t){return new i(t,this)}lookupAttributes(t){const e=this.baseEnv?this.baseEnv.lookupAttributes(t):s.Attributes.empty;return this.attrs[t]?e.merge(this.attrs[t]):e}}e.Env=i,i.init=new i({})},"19b5":function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nav",{staticClass:"nav"},[r("div",{staticClass:"nav-left"},[r("router-link",{staticClass:"brand",attrs:{to:{path:"/"}}},[t._v("Furumai")]),t._m(0)],1)])},i=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"tabs"},[r("a",{attrs:{href:"./docs/"}},[t._v("Docs")]),r("a",{attrs:{href:"https://github.com/araiichiro/furumai"}},[t._v("GitHub")])])}];r.d(e,"a",function(){return s}),r.d(e,"b",function(){return i})},"1aaa":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r("9ab4"),i=r("60a3"),n=s.__importDefault(r("6a9b")),o=s.__importDefault(r("a17d"));let a=class extends i.Vue{get shapeAttrs(){return this.shape.svgAttrs.svgAttrs}get textAttrs(){return Object.assign({"text-anchor":"middle"},this.shape.text.textAttrs.svgAttrs)}get textPosition(){const{x:t,y:e,width:r}=this.shape.box;return{x:t+r/2,y:e-32}}get d(){const t=this.shape.box,{x:e,y:r,width:s,height:i}=t;return this.person(e+s/4,r,s/2,i)}person(t,e,r,s){const i=this.shape.box.cx,n=t+r,o=e+s,a=s/5,u=i-a,c=i+a,h=e-a/3,l=e+a,d=e+2*a+a/3,f=t,p=n,_=e+2*a,g=e+3*a,m=4*a+e;return`M ${u},${l}\nC ${u},${d}\n${c},${d}\n${c},${l}\nM ${u},${l}\nC ${u},${h}\n${c},${h}\n${c},${l}\nM${i},${_}\nL${i},${m}\nM${f},${g}\nL${p},${g}\nM${i},${m}\nL${f},${o}\nM${i},${m}\nL${p},${o}`}};s.__decorate([i.Prop()],a.prototype,"shape",void 0),a=s.__decorate([i.Component({components:{TextContent:o.default,GridArea:n.default}})],a),e.default=a},"1b7e":function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("g",[r("path",t._b({attrs:{d:t.d}},"path",t.shapeAttrs,!1)),r("TextContent",{attrs:{content:t.shape.text,position:t.textPosition,attrs:t.textAttrs}}),r("GridArea",{attrs:{box:t.shape.box}})],1)},i=[];r.d(e,"a",function(){return s}),r.d(e,"b",function(){return i})},"1bef":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class s{constructor(t){this.svgAttrs=t}static of(t){return Object.keys(t).forEach(e=>{const r=t[e];if(!u(e,r))throw new Error(`Sorry, the attribute is not used for security reason: ${e} => ${r}`)}),new s(t)}}function i(t){return t.split(":")}function n(t){const e=t||"box";if(e.startsWith("icon:")){const t=i(e);if(2===t.length&&"icon"===t[0]&&/^[0-9a-zA-Z\-\/]*$/.test(t[1]))return e;throw new Error(`Sorry, the attribute is not used for security reason: shape => ${e}`)}if("box"===e||"person"===e||"cylinder"===e||"pipe"===e)return e;throw new Error(`Sorry, the attribute is not used for security reason: shape => ${e}`)}function o(t){const e=/^#[0-9a-fA-F]{3}$/,r=/^#[0-9a-fA-F]{6}$/;return e.test(t)||r.test(t)}e.SecureSvgAttrs=s,e.parseIconShape=i,e.validatedShape=n;const a=new Set(["cx","cy","d","dx","dy","fill","font-family","font-size","font-stretch","font-style","font-variant","font-weight","fx","fy","height","id","lengthAdjust","markerHeight","markerUnits","markerWidth","method","orient","overline-position","overline-thickness","pathLength","rx","ry","slope","spreadMethod","textLength","underline-position","underline-thickness","viewBox","width","x","y","alignment-baseline","baseline-shift","color","display","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-size-adjust","kerning","letter-spacing","lighting-color","opacity","overflow","pointer-events","shape-rendering","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","stroke","text-anchor","text-decoration","visibility","word-spacing","writing-mode","margin","padding"]);function u(t,e){function r(e){return a.has(t)}function s(t){return/^[0-9a-zA-Z\s\-_.,%]*$/.test(t)||o(t)||!isNaN(Number(t))}return r(t)&&s(e)}},"1e74":function(t,e,r){"use strict";r.r(e);var s=r("913c"),i=r.n(s);for(var n in s)"default"!==n&&function(t){r.d(e,t,function(){return s[t]})}(n);e["default"]=i.a},"24af":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r("c3cf"),i=r("1864"),n=r("9d52"),o=r("6315"),a=r("76a7"),u=r("f2e8");class c{constructor(t,e){this.frames=t,this.config=e}moments(t){const[e,...r]=this.frames;return t.push(e),new l(new h(t,r.values(),this.config),this.config)}}e.Story=c;class h{constructor(t,e,r){this.boot=t,this.frames=e,this.config=r,this.last=void 0}next(){if(this.last){const t=this.frames.next();if(t.done)return t;{const e=t.value,r="diff"===this.config.mode?this.last:this.initContext();return this.last=e.setup(r),{done:!1,value:this.last}}}return this.last=this.initContext(),{done:!1,value:this.last}}[Symbol.iterator](){return this}initContext(){const t="left to right"===this.config.direction?new o.Landscape([],a.Box.zero):new u.Portrait([],a.Box.zero),e=n.Decorations.of({fill:"none",stroke:"none"}),r={env:i.Env.init,container:new s.Container("_init",e,t)};return this.boot.reduce((t,e)=>{return e.setup(t)},r)}}class l{constructor(t,e){this.it=t,this.config=e}next(){const t=this.it.next();if(t.done)return t;{const e=t.value,r=e.container.map(t=>t.fit({x:0,y:0}));if("center"===this.config.align){const e="left to right"===this.config.direction?{height:r.get.box.height}:{width:r.get.box.width};return{done:t.done,value:r.map(t=>t.fit({x:0,y:0},e))}}return{done:t.done,value:r}}}[Symbol.iterator](){return this}}class d{constructor(t,e,r){this.blocks=t,this.attrs=e,this.childAttrs=r}setup(t){let e=t.container.updateAttributes(this.attrs);const r=t.env.newEnv(this.childAttrs);for(const s of this.blocks){const t=e.find(s.id);if(t)s.update(t,r);else{const t=s.create(r);e=e.append(t)}}return{env:r,container:e}}}e.Frame=d},"284a":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r("073a"),i=r("9d52"),n=r("be14");class o{constructor(t,e,r,s,i={}){this.id=t,this.tailId=e,this.op=r,this.headId=s,this.attrs=i}static of(t,e,r,s={}){return[new o(this.idOf(t,r),t,e,r,s),new n.ShowBlock(t),new n.ShowBlock(r)]}static idOf(t,e){return`_edge_${t}_to_${e}`}create(t){const e=t.lookupAttributes("edge"),r=e.attrs.update(i.Decorations.of(this.attrs));return new s.EdgeOverlay(this.id,this.tailId,this.op,this.headId,r)}update(t,e){return t.updateAttributes(i.Decorations.of(this.attrs))}}e.Edge=o},"2af6":function(t,e,r){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0});const i=r("9ab4"),n=r("60a3"),o=i.__importDefault(r("6281")),a=r("9d52");let u=s=class extends n.Vue{constructor(){super(...arguments),this.version=-1,this.furumaiData={}}mounted(){const t=this.$route.params;if(t.format!==s.codec.formatVersion)throw new Error(`unsupported data format version: ${t.format}`);{const e=s.codec.decode(t.data),{version:r}=e,n=i.__rest(e,["version"]);if(!(r&&r>0))throw new Error("app version is not specified");this.version=r||1,this.furumaiData=n}}changeUrl(t){this.furumaiData=t;const e=Object.assign({version:this.version},t),r=s.codec.encode(e);this.$router.push({name:"furumai",params:{format:s.codec.formatVersion,data:r}})}};u.codec=new a.DataEncoderDecoderV1,u=s=i.__decorate([n.Component({components:{FurumaiApp1:o.default}})],u),e.default=u},"321e":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r("9e5f"),i=r("76a7"),n=r("1bef"),o=r("9d52");class a{constructor(t,e,r){this.id=t,this.cell=e,this.attrs=r}static of(t,e){return new a(t,new s.Cell(i.Box.of(e.box)),e.attrs)}get get(){return this.cell}updateAttributes(t){return this.attrs=this.attrs.update(t.attrs),this.cell=this.cell.withBox(t.box),this}map(t){const e=t(this.cell);return new a(this.id,e,this.attrs)}vue(){const{shape:t,label:e,t:r,dx:s,dy:i}=this.attrs.other,a={label:""===e?"":e||this.id,t:r,textAttrs:n.SecureSvgAttrs.of(this.attrs.text)};return{type:n.validatedShape(t),id:this.id,box:this.cell.box.move(o.num(s)||0,o.num(i)||0),text:a,svgAttrs:n.SecureSvgAttrs.of(this.attrs.shape)}}}e.GridCell=a},3303:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r("9ab4"),i=r("60a3"),n=s.__importDefault(r("5d19")),o=r("393f");let a=class extends i.Vue{constructor(){super(...arguments),this.roughHtml=""}mounted(){i.Vue.nextTick(()=>this.refresh())}onShapeChanged(t,e){this.roughHtml="",i.Vue.nextTick(()=>this.refresh())}refresh(){if(this.rough){const t=this.$refs.svgContainer,e=t.firstElementChild,r=o.convertSvg(e);this.roughHtml=r.innerHTML}}};s.__decorate([i.Prop()],a.prototype,"shape",void 0),s.__decorate([i.Prop()],a.prototype,"rough",void 0),s.__decorate([i.Watch("shape")],a.prototype,"onShapeChanged",null),a=s.__decorate([i.Component({components:{Group:n.default}})],a),e.default=a},"341c":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r("9cc4"),i=r("76a7");class n{fit(t,e,r,n){function o(t,e){const r=[];if(t.dx<0){const s=-(t.x1-e.cx+e.width/2)/t.dx;r.push(t.multiple(s))}else if(t.dx>0){const s=(e.cx-t.x1+e.width/2)/t.dx;r.push(t.multiple(s))}if(t.dy<0){const s=-(t.y1-e.cy+e.height/2)/t.dy;r.push(t.multiple(s))}else if(t.dy>0){const s=(e.cy-t.y1+e.height/2)/t.dy;r.push(t.multiple(s))}if(1===r.length)return r[0];if(2===r.length){const t=r[0],e=r[1];return t.length<e.length?t:e}throw new Error("not implemented: "+JSON.stringify(r)+", "+JSON.stringify(t))}const a=t.cx+r,u=t.cy+n,c=e.cx+r,h=e.cy+n,l=new s.Vector2d(a,u,c,h),d=o(l,t),f=o(l.reverse(),e),p=a+d.dx,_=u+d.dy,g=c+f.dx-p,m=h+f.dy-_;return i.Box.of({x:p,y:_,width:g,height:m})}}e.Arrow=n,n.singleton=new n},"34df":function(t,e,r){},3624:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r("9ab4"),i=r("60a3"),n=r("faed"),o=r("24af"),a=s.__importDefault(r("d3fe"));let u=class extends i.Vue{constructor(){super(...arguments),this.errors="",this.defaultConfig="config [\n  orientation='top to bottom',\n  mode='no diff',\n  align='no center'\n];\n\nfont-size = 24;\ngroup [margin='100 20', padding='20 16',\n       stroke=none, fill=none,\n       text.stroke=black, text.stroke-width=1, text.fill=black];\nzone  [margin='20 150', padding='20 16',\n       stroke=none, fill=none,\n       text.stroke=black, text.stroke-width=1, text.fill=black];\nnode  [margin='24 20', padding='24 16', width=215, height=150,\n       fill=none, stroke=black, 'stroke-width'=2,\n       text.fill=black, text.stroke-width=1];\nedge  [stroke=black, 'stroke-width'=2\n       text.fill=black, text.stroke-width=1];",this.svgs=[]}onRouteChanged(t,e){this.draw(this.furumaiData.code)}pre(t){return t.replace(/</g,"&lt;")}mounted(){const t=this.$refs.editor;t&&t.focus(),this.draw(this.furumaiData.code)}furumai(){this.changeUrl(this.furumaiData)}download(){const t=this.$refs.moments,e=t.getElementsByClassName("svg-root");for(let r=0;r<e.length;r++){const t=e.item(r);if(t){const e='<?xml version="1.0" encoding="UTF-8"?>'+t.outerHTML,s=window.URL.createObjectURL(new Blob([e],{type:"image/svg+xml"})),i=document.createElement("a");i.href=s,i.download=`furumai-${r}.svg`,document.body.appendChild(i),i.click(),document.body.removeChild(i)}}}toSvgOrError(t){try{return c(t,this.defaultConfig)}catch(e){return e}}draw(t){this.errors="";Object.assign({},this.furumaiData.animation);let e=this.toSvgOrError(t);if(e instanceof Error){const t=e.stack||"";this.errors=t}else{if(!this.furumaiData.displayFirstSvg){const[t,...r]=e;e=r.length>0?r:e}this.svgs=e}}};function c(t,e){const r=n.parse(t);if(r instanceof o.Story){const t=n.parse(e),s=[];for(const e of r.moments(t.frames))s.push(e.vue());return s}return r}s.__decorate([i.Prop({default:{}})],u.prototype,"furumaiData",void 0),s.__decorate([i.Prop()],u.prototype,"changeUrl",void 0),s.__decorate([i.Prop({default:!0})],u.prototype,"editorMode",void 0),s.__decorate([i.Prop({default:!0})],u.prototype,"viewCode",void 0),s.__decorate([i.Watch("$route")],u.prototype,"onRouteChanged",null),u=s.__decorate([i.Component({components:{SvgComponent:a.default}})],u),e.default=u},"38f5":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r("9ab4"),i=r("60a3");let n=class extends i.Vue{};n=s.__decorate([i.Component],n),e.default=n},"393f":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r("b17f"),i=document;let n=new s.RoughSVG(document.createElementNS("http://www.w3.org/2000/svg","svg"));function o(t){const e=t.getAttribute("width")||0,r=t.getAttribute("height")||0,i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("xmlns","http://www.w3.org/2000/svg"),i.setAttribute("width",`${e}`),i.setAttribute("height",`${r}`),i.setAttribute("viewBox",`0 0 ${2*Number(e)} ${2*Number(r)}`),n=new s.RoughSVG(i);const o=t.children;for(let s=0;s<o.length;s++){const t=o.item(s);if(!t)throw new Error("null");i.append(c(t,h))}return i}function a(t){const e={},r=t.attributes;for(let s=0;s<r.length;s++){const t=r.item(s);if(!t)throw new Error("null");{const r=t.name.replace(/[-_](.)/g,(t,e)=>{return e.toUpperCase()});e[r]=t.value,e[t.name]=t.value}}return e}function u(t,e){return Object.keys(e).forEach(r=>t.setAttribute(r,e[r])),t}function c(t,e){const r=t.tagName;switch(r){case"g":const s=u(i.createElementNS("http://www.w3.org/2000/svg","g"),a(t)),n=t.children;for(let t=0;t<n.length;t++){const r=n.item(t);if(!r)throw new Error("null");s.append(c(r,e))}return s;case"text":const o=u(i.createElementNS("http://www.w3.org/2000/svg","text"),a(t)),h=t.children;for(let t=0;t<h.length;t++){const r=h.item(t);if(!r)throw new Error("null");o.append(c(r,e))}return o;case"tspan":const d=u(i.createElementNS("http://www.w3.org/2000/svg","tspan"),a(t));return d.textContent=t.textContent,d;case"svg":const f=l(t),p=t.children;for(let t=0;t<p.length;t++){const e=p.item(t);if(!e)throw new Error("null");f.append(c(e,l))}return f;default:return e(t)}}function h(t){if(t.classList.contains("no_rough"))return l(t);const e=u(i.createElementNS("http://www.w3.org/2000/svg","g"),a(t));return e.appendChild(d(t)),e}function l(t){return u(i.createElementNS("http://www.w3.org/2000/svg",t.tagName),a(t))}function d(t){const e=t.tagName,r=a(t),s=Object.assign({hachureGap:2,fillWeight:.6,roughness:2},r);switch(e){case"path":return n.path(r.d,r);case"line":return n.line(parseFloat(r.x1),parseFloat(r.y1),parseFloat(r.x1),parseFloat(r.y2),s);case"rect":return n.rectangle(parseFloat(r.x),parseFloat(r.y),parseFloat(r.width),parseFloat(r.height),s);case"ellipse":return n.ellipse(parseFloat(r.cx),parseFloat(r.cy),parseFloat(r.rx),parseFloat(r.ry),s);case"circle":return n.circle(parseFloat(r.cx),parseFloat(r.cy),parseFloat(r.r),s);case"polygon":throw new Error("not implemented");default:throw new Error("not implemented")}}e.convertSvg=o},"3b33":function(t,e,r){"use strict";r.r(e);var s=r("7bc8"),i=r.n(s);for(var n in s)"default"!==n&&function(t){r.d(e,t,function(){return s[t]})}(n);e["default"]=i.a},"3dfd":function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("router-view")},i=[],n=r("2877"),o={},a=Object(n["a"])(o,s,i,!1,null,null,null);e["default"]=a.exports},"3f0d":function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Header"),r("router-view"),r("Footer")],1)},i=[];r.d(e,"a",function(){return s}),r.d(e,"b",function(){return i})},"469f":function(t,e,r){"use strict";r.r(e);var s=r("fba9"),i=r("d88a");for(var n in i)"default"!==n&&function(t){r.d(e,t,function(){return i[t]})}(n);var o=r("2877"),a=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,"aeddd61e",null);e["default"]=a.exports},4735:function(t,e,r){"use strict";r.r(e);var s=r("e071"),i=r.n(s);for(var n in s)"default"!==n&&function(t){r.d(e,t,function(){return s[t]})}(n);e["default"]=i.a},"4cd5":function(t,e,r){},5474:function(t,e,r){"use strict";r.r(e);var s=r("8960"),i=r.n(s);for(var n in s)"default"!==n&&function(t){r.d(e,t,function(){return s[t]})}(n);e["default"]=i.a},"568c":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r("9ab4"),i=r("a097"),n=r("8a6d"),o=r("ea2b"),a=r("daa9"),u=r("9cab"),c=r("5c0f"),h=r("c9c4"),l=r("4812"),d=s.__importStar(r("906a"));class f extends o.Parser{constructor(t){super(t),this._interp=new u.ParserATNSimulator(f._ATN,this)}get vocabulary(){return f.VOCABULARY}get grammarFileName(){return"Furumai.g4"}get ruleNames(){return f.ruleNames}get serializedATN(){return f._serializedATN}story(){let t,e=new p(this._ctx,this.state);this.enterRule(e,0,f.RULE_story);try{let s;this.enterOuterAlt(e,1),this.state=26,this.moment(),this.state=31,this._errHandler.sync(this),s=this.interpreter.adaptivePredict(this._input,0,this._ctx);while(2!==s&&s!==i.ATN.INVALID_ALT_NUMBER)1===s&&(this.state=27,this.match(f.T__0),this.state=28,this.moment()),this.state=33,this._errHandler.sync(this),s=this.interpreter.adaptivePredict(this._input,0,this._ctx);this.state=35,this._errHandler.sync(this),t=this._input.LA(1),t===f.T__0&&(this.state=34,this.match(f.T__0)),this.state=37,this.match(f.EOF)}catch(r){if(!(r instanceof c.RecognitionException))throw r;e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r)}finally{this.exitRule()}return e}moment(){let t=new _(this._ctx,this.state);this.enterRule(t,2,f.RULE_moment);try{this.enterOuterAlt(t,1),this.state=39,this.stmt_list()}catch(e){if(!(e instanceof c.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}stmt_list(){let t,e=new g(this._ctx,this.state);this.enterRule(e,4,f.RULE_stmt_list);try{let s;this.enterOuterAlt(e,1),this.state=41,this.stmt(),this.state=46,this._errHandler.sync(this),s=this.interpreter.adaptivePredict(this._input,2,this._ctx);while(2!==s&&s!==i.ATN.INVALID_ALT_NUMBER)1===s&&(this.state=42,this.match(f.T__1),this.state=43,this.stmt()),this.state=48,this._errHandler.sync(this),s=this.interpreter.adaptivePredict(this._input,2,this._ctx);this.state=50,this._errHandler.sync(this),t=this._input.LA(1),t===f.T__1&&(this.state=49,this.match(f.T__1))}catch(r){if(!(r instanceof c.RecognitionException))throw r;e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r)}finally{this.exitRule()}return e}stmt(){let t=new m(this._ctx,this.state);this.enterRule(t,6,f.RULE_stmt);try{switch(this.state=60,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,4,this._ctx)){case 1:this.enterOuterAlt(t,1),this.state=52,this.node_stmt();break;case 2:this.enterOuterAlt(t,2),this.state=53,this.edge_stmt();break;case 3:this.enterOuterAlt(t,3),this.state=54,this.attr_stmt();break;case 4:this.enterOuterAlt(t,4),this.state=55,this.assignment();break;case 5:this.enterOuterAlt(t,5),this.state=56,this.group();break;case 6:this.enterOuterAlt(t,6),this.state=57,this.zone();break;case 7:this.enterOuterAlt(t,7),this.state=58,this.hide();break;case 8:this.enterOuterAlt(t,8),this.state=59,this.config();break}}catch(e){if(!(e instanceof c.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}attr_stmt(){let t,e=new x(this._ctx,this.state);this.enterRule(e,8,f.RULE_attr_stmt);try{this.enterOuterAlt(e,1),this.state=62,t=this._input.LA(1),0!==(-32&t)||0===(1<<t&(1<<f.NODE|1<<f.EDGE|1<<f.GROUP|1<<f.ZONE))?this._errHandler.recoverInline(this):(this._input.LA(1)===h.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()),this.state=63,this.attr_list()}catch(r){if(!(r instanceof c.RecognitionException))throw r;e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r)}finally{this.exitRule()}return e}config(){let t=new v(this._ctx,this.state);this.enterRule(t,10,f.RULE_config);try{switch(this.state=70,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,5,this._ctx)){case 1:this.enterOuterAlt(t,1),this.state=65,this.match(f.CONFIG),this.state=66,this.attr_list();break;case 2:this.enterOuterAlt(t,2),this.state=67,this.match(f.CONFIG),this.state=68,this.match(f.T__2),this.state=69,this.match(f.ID);break}}catch(e){if(!(e instanceof c.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}attr_list(){let t,e=new b(this._ctx,this.state);this.enterRule(e,12,f.RULE_attr_list);try{this.enterOuterAlt(e,1),this.state=72,this.match(f.T__3),this.state=73,this.assignment(),this.state=80,this._errHandler.sync(this),t=this._input.LA(1);while(0===(-32&t)&&0!==(1<<t&(1<<f.T__1|1<<f.T__4|1<<f.ID)))this.state=75,this._errHandler.sync(this),t=this._input.LA(1),t!==f.T__1&&t!==f.T__4||(this.state=74,t=this._input.LA(1),t!==f.T__1&&t!==f.T__4?this._errHandler.recoverInline(this):(this._input.LA(1)===h.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume())),this.state=77,this.assignment(),this.state=82,this._errHandler.sync(this),t=this._input.LA(1);this.state=83,this.match(f.T__5)}catch(r){if(!(r instanceof c.RecognitionException))throw r;e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r)}finally{this.exitRule()}return e}assignment(){let t=new y(this._ctx,this.state);this.enterRule(t,14,f.RULE_assignment);try{this.enterOuterAlt(t,1),this.state=85,this.match(f.ID),this.state=86,this.match(f.T__2),this.state=87,this.match(f.ID)}catch(e){if(!(e instanceof c.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}edge_stmt(){let t,e=new w(this._ctx,this.state);this.enterRule(e,16,f.RULE_edge_stmt);try{this.enterOuterAlt(e,1),this.state=89,this.match(f.ID),this.state=90,this.match(f.EDGEOP),this.state=91,this.match(f.ID),this.state=93,this._errHandler.sync(this),t=this._input.LA(1),t===f.T__3&&(this.state=92,this.attr_list())}catch(r){if(!(r instanceof c.RecognitionException))throw r;e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r)}finally{this.exitRule()}return e}node_stmt(){let t,e=new E(this._ctx,this.state);this.enterRule(e,18,f.RULE_node_stmt);try{this.enterOuterAlt(e,1),this.state=95,this.match(f.ID),this.state=97,this._errHandler.sync(this),t=this._input.LA(1),t===f.T__3&&(this.state=96,this.attr_list())}catch(r){if(!(r instanceof c.RecognitionException))throw r;e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r)}finally{this.exitRule()}return e}group(){let t=new A(this._ctx,this.state);this.enterRule(t,20,f.RULE_group);try{this.enterOuterAlt(t,1),this.state=99,this.match(f.GROUP),this.state=100,this.match(f.ID),this.state=101,this.match(f.T__6),this.state=102,this.stmt_list(),this.state=103,this.match(f.T__7)}catch(e){if(!(e instanceof c.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}zone(){let t=new O(this._ctx,this.state);this.enterRule(t,22,f.RULE_zone);try{this.enterOuterAlt(t,1),this.state=105,this.match(f.ZONE),this.state=106,this.match(f.ID),this.state=107,this.match(f.T__6),this.state=108,this.stmt_list(),this.state=109,this.match(f.T__7)}catch(e){if(!(e instanceof c.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}hide(){let t,e=new C(this._ctx,this.state);this.enterRule(e,24,f.RULE_hide);try{switch(this.enterOuterAlt(e,1),this.state=111,t=this._input.LA(1),t!==f.HIDE&&t!==f.DELETE?this._errHandler.recoverInline(this):(this._input.LA(1)===h.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()),this.state=116,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,10,this._ctx)){case 1:this.state=112,this.match(f.ID);break;case 2:this.state=113,this.match(f.ID),this.state=114,this.match(f.EDGEOP),this.state=115,this.match(f.ID);break}}catch(r){if(!(r instanceof c.RecognitionException))throw r;e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r)}finally{this.exitRule()}return e}static get _ATN(){return f.__ATN||(f.__ATN=(new n.ATNDeserializer).deserialize(d.toCharArray(f._serializedATN))),f.__ATN}}e.FurumaiParser=f,f.T__0=1,f.T__1=2,f.T__2=3,f.T__3=4,f.T__4=5,f.T__5=6,f.T__6=7,f.T__7=8,f.NODE=9,f.EDGE=10,f.GROUP=11,f.ZONE=12,f.HIDE=13,f.DELETE=14,f.CONFIG=15,f.EDGEOP=16,f.ID=17,f.SPACES=18,f.RULE_story=0,f.RULE_moment=1,f.RULE_stmt_list=2,f.RULE_stmt=3,f.RULE_attr_stmt=4,f.RULE_config=5,f.RULE_attr_list=6,f.RULE_assignment=7,f.RULE_edge_stmt=8,f.RULE_node_stmt=9,f.RULE_group=10,f.RULE_zone=11,f.RULE_hide=12,f.ruleNames=["story","moment","stmt_list","stmt","attr_stmt","config","attr_list","assignment","edge_stmt","node_stmt","group","zone","hide"],f._LITERAL_NAMES=[void 0,"'---'","';'","'='","'['","','","']'","'{'","'}'","'node'","'edge'","'group'","'zone'","'hide'","'delete'","'config'"],f._SYMBOLIC_NAMES=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"NODE","EDGE","GROUP","ZONE","HIDE","DELETE","CONFIG","EDGEOP","ID","SPACES"],f.VOCABULARY=new l.VocabularyImpl(f._LITERAL_NAMES,f._SYMBOLIC_NAMES,[]),f._serializedATN="줝쪺֍꾺体؇쉁y\t\t\t\t\t\t\b\t\b\t\t\t\n\t\n\v\t\v\f\t\f\r\t\r\t \n\f#\v&\n/\n\f2\v5\n?\nI\n\b\b\b\bN\n\b\b\bQ\n\b\f\b\bT\v\b\b\b\t\t\t\t\n\n\n\n\n`\n\n\v\v\vd\n\v\f\f\f\f\f\f\r\r\r\r\r\rw\n\b\n\f\v|)+\b>\n@\fHJW[aekq!  #!!\"\"%#!$&%$%&&''(()**+0\b,--/\b.,/20.01142035434556?\v7?\n8?\n9?\t:?\f;?\r<?=?\f>6>7>8>9>:>;><>=?\t@A\tAB\bB\vCDDI\bEFFGGIHCHEI\rJKKR\tLN\tMLMNNOOQ\tPMQTRPRSSUTRUV\bVWXXYYZZ[\\\\]]_^`\b_^_``acbd\bcbcddef\rfggh\thiij\njkllmmn\tnoop\npqv\trwsttuuwvrvsw\r!%04>HMR_cv";class p extends a.ParserRuleContext{moment(t){return void 0===t?this.getRuleContexts(_):this.getRuleContext(t,_)}EOF(){return this.getToken(f.EOF,0)}constructor(t,e){super(t,e)}get ruleIndex(){return f.RULE_story}enterRule(t){t.enterStory&&t.enterStory(this)}exitRule(t){t.exitStory&&t.exitStory(this)}accept(t){return t.visitStory?t.visitStory(this):t.visitChildren(this)}}e.StoryContext=p;class _ extends a.ParserRuleContext{stmt_list(){return this.getRuleContext(0,g)}constructor(t,e){super(t,e)}get ruleIndex(){return f.RULE_moment}enterRule(t){t.enterMoment&&t.enterMoment(this)}exitRule(t){t.exitMoment&&t.exitMoment(this)}accept(t){return t.visitMoment?t.visitMoment(this):t.visitChildren(this)}}e.MomentContext=_;class g extends a.ParserRuleContext{stmt(t){return void 0===t?this.getRuleContexts(m):this.getRuleContext(t,m)}constructor(t,e){super(t,e)}get ruleIndex(){return f.RULE_stmt_list}enterRule(t){t.enterStmt_list&&t.enterStmt_list(this)}exitRule(t){t.exitStmt_list&&t.exitStmt_list(this)}accept(t){return t.visitStmt_list?t.visitStmt_list(this):t.visitChildren(this)}}e.Stmt_listContext=g;class m extends a.ParserRuleContext{node_stmt(){return this.tryGetRuleContext(0,E)}edge_stmt(){return this.tryGetRuleContext(0,w)}attr_stmt(){return this.tryGetRuleContext(0,x)}assignment(){return this.tryGetRuleContext(0,y)}group(){return this.tryGetRuleContext(0,A)}zone(){return this.tryGetRuleContext(0,O)}hide(){return this.tryGetRuleContext(0,C)}config(){return this.tryGetRuleContext(0,v)}constructor(t,e){super(t,e)}get ruleIndex(){return f.RULE_stmt}enterRule(t){t.enterStmt&&t.enterStmt(this)}exitRule(t){t.exitStmt&&t.exitStmt(this)}accept(t){return t.visitStmt?t.visitStmt(this):t.visitChildren(this)}}e.StmtContext=m;class x extends a.ParserRuleContext{attr_list(){return this.getRuleContext(0,b)}GROUP(){return this.tryGetToken(f.GROUP,0)}NODE(){return this.tryGetToken(f.NODE,0)}EDGE(){return this.tryGetToken(f.EDGE,0)}ZONE(){return this.tryGetToken(f.ZONE,0)}constructor(t,e){super(t,e)}get ruleIndex(){return f.RULE_attr_stmt}enterRule(t){t.enterAttr_stmt&&t.enterAttr_stmt(this)}exitRule(t){t.exitAttr_stmt&&t.exitAttr_stmt(this)}accept(t){return t.visitAttr_stmt?t.visitAttr_stmt(this):t.visitChildren(this)}}e.Attr_stmtContext=x;class v extends a.ParserRuleContext{CONFIG(){return this.getToken(f.CONFIG,0)}attr_list(){return this.tryGetRuleContext(0,b)}ID(){return this.tryGetToken(f.ID,0)}constructor(t,e){super(t,e)}get ruleIndex(){return f.RULE_config}enterRule(t){t.enterConfig&&t.enterConfig(this)}exitRule(t){t.exitConfig&&t.exitConfig(this)}accept(t){return t.visitConfig?t.visitConfig(this):t.visitChildren(this)}}e.ConfigContext=v;class b extends a.ParserRuleContext{assignment(t){return void 0===t?this.getRuleContexts(y):this.getRuleContext(t,y)}constructor(t,e){super(t,e)}get ruleIndex(){return f.RULE_attr_list}enterRule(t){t.enterAttr_list&&t.enterAttr_list(this)}exitRule(t){t.exitAttr_list&&t.exitAttr_list(this)}accept(t){return t.visitAttr_list?t.visitAttr_list(this):t.visitChildren(this)}}e.Attr_listContext=b;class y extends a.ParserRuleContext{ID(t){return void 0===t?this.getTokens(f.ID):this.getToken(f.ID,t)}constructor(t,e){super(t,e)}get ruleIndex(){return f.RULE_assignment}enterRule(t){t.enterAssignment&&t.enterAssignment(this)}exitRule(t){t.exitAssignment&&t.exitAssignment(this)}accept(t){return t.visitAssignment?t.visitAssignment(this):t.visitChildren(this)}}e.AssignmentContext=y;class w extends a.ParserRuleContext{ID(t){return void 0===t?this.getTokens(f.ID):this.getToken(f.ID,t)}EDGEOP(){return this.getToken(f.EDGEOP,0)}attr_list(){return this.tryGetRuleContext(0,b)}constructor(t,e){super(t,e)}get ruleIndex(){return f.RULE_edge_stmt}enterRule(t){t.enterEdge_stmt&&t.enterEdge_stmt(this)}exitRule(t){t.exitEdge_stmt&&t.exitEdge_stmt(this)}accept(t){return t.visitEdge_stmt?t.visitEdge_stmt(this):t.visitChildren(this)}}e.Edge_stmtContext=w;class E extends a.ParserRuleContext{ID(){return this.getToken(f.ID,0)}attr_list(){return this.tryGetRuleContext(0,b)}constructor(t,e){super(t,e)}get ruleIndex(){return f.RULE_node_stmt}enterRule(t){t.enterNode_stmt&&t.enterNode_stmt(this)}exitRule(t){t.exitNode_stmt&&t.exitNode_stmt(this)}accept(t){return t.visitNode_stmt?t.visitNode_stmt(this):t.visitChildren(this)}}e.Node_stmtContext=E;class A extends a.ParserRuleContext{GROUP(){return this.getToken(f.GROUP,0)}ID(){return this.getToken(f.ID,0)}stmt_list(){return this.getRuleContext(0,g)}constructor(t,e){super(t,e)}get ruleIndex(){return f.RULE_group}enterRule(t){t.enterGroup&&t.enterGroup(this)}exitRule(t){t.exitGroup&&t.exitGroup(this)}accept(t){return t.visitGroup?t.visitGroup(this):t.visitChildren(this)}}e.GroupContext=A;class O extends a.ParserRuleContext{ZONE(){return this.getToken(f.ZONE,0)}ID(){return this.getToken(f.ID,0)}stmt_list(){return this.getRuleContext(0,g)}constructor(t,e){super(t,e)}get ruleIndex(){return f.RULE_zone}enterRule(t){t.enterZone&&t.enterZone(this)}exitRule(t){t.exitZone&&t.exitZone(this)}accept(t){return t.visitZone?t.visitZone(this):t.visitChildren(this)}}e.ZoneContext=O;class C extends a.ParserRuleContext{HIDE(){return this.tryGetToken(f.HIDE,0)}DELETE(){return this.tryGetToken(f.DELETE,0)}ID(t){return void 0===t?this.getTokens(f.ID):this.getToken(f.ID,t)}EDGEOP(){return this.tryGetToken(f.EDGEOP,0)}constructor(t,e){super(t,e)}get ruleIndex(){return f.RULE_hide}enterRule(t){t.enterHide&&t.enterHide(this)}exitRule(t){t.exitHide&&t.exitHide(this)}accept(t){return t.visitHide?t.visitHide(this):t.visitChildren(this)}}e.HideContext=C},"5d19":function(t,e,r){"use strict";r.r(e);var s=r("fb2f"),i=r("5474");for(var n in i)"default"!==n&&function(t){r.d(e,t,function(){return i[t]})}(n);var o=r("2877"),a=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,"1d138cb4",null);e["default"]=a.exports},"5d87":function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app1"},[r("div",{staticClass:"row"},[t.viewCode?r("div",{staticClass:"col"},[t.editorMode?r("div",{staticClass:"code-editor-wrap"},[r("label",[r("div",[r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.furumaiData.code,expression:"furumaiData.code"}],ref:"editor",staticClass:"code-editor",attrs:{title:"Furumai Description"},domProps:{value:t.furumaiData.code},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey?t.furumai(e):null},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.altKey?t.furumai(e):null},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.metaKey?t.furumai(e):null}],input:function(e){e.target.composing||t.$set(t.furumaiData,"code",e.target.value)}}})]),r("div",{staticClass:"nav-right"},[r("label",{staticClass:"options"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.furumaiData.rough,expression:"furumaiData.rough"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.furumaiData.rough)?t._i(t.furumaiData.rough,null)>-1:t.furumaiData.rough},on:{change:[function(e){var r=t.furumaiData.rough,s=e.target,i=!!s.checked;if(Array.isArray(r)){var n=null,o=t._i(r,n);s.checked?o<0&&t.$set(t.furumaiData,"rough",r.concat([n])):o>-1&&t.$set(t.furumaiData,"rough",r.slice(0,o).concat(r.slice(o+1)))}else t.$set(t.furumaiData,"rough",i)},t.furumai]}}),t._v("Rough.js\n            ")]),r("label",{staticClass:"options"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.furumaiData.displayFirstSvg,expression:"furumaiData.displayFirstSvg"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.furumaiData.displayFirstSvg)?t._i(t.furumaiData.displayFirstSvg,null)>-1:t.furumaiData.displayFirstSvg},on:{change:[function(e){var r=t.furumaiData.displayFirstSvg,s=e.target,i=!!s.checked;if(Array.isArray(r)){var n=null,o=t._i(r,n);s.checked?o<0&&t.$set(t.furumaiData,"displayFirstSvg",r.concat([n])):o>-1&&t.$set(t.furumaiData,"displayFirstSvg",r.slice(0,o).concat(r.slice(o+1)))}else t.$set(t.furumaiData,"displayFirstSvg",i)},t.furumai]}}),t._v("Display 1st SVG\n            ")]),r("button",{staticClass:"button primary furumai-button",on:{click:t.furumai}},[t._v("View (Ctrl + Enter)")])]),r("hr"),r("div",[t._v("\n            Default settings:\n            "),r("pre",[t._v(t._s(t.defaultConfig))])])])]):r("div",{staticClass:"code-viewer"},[r("pre",{staticClass:"language-none"},[t._v(t._s(t.pre(t.furumaiData.code)))])])]):t._e(),r("div",{staticClass:"col-6"},[t.errors.length>0?r("div",{staticClass:"text-error"},[r("pre",[t._v(t._s(t.errors))])]):r("div",{ref:"moments"},t._l(t.svgs,function(e){return r("div",{staticClass:"card"},[r("SvgComponent",{attrs:{shape:e,rough:t.furumaiData.rough}})],1)}),0),r("div",{staticClass:"nav-right moments-footer"},[t.editorMode?r("button",{staticClass:"button primary",on:{click:t.download}},[t._v("Download SVG(s)")]):t._e()])])])])},i=[];r.d(e,"a",function(){return s}),r.d(e,"b",function(){return i})},"5f5c":function(t,e,r){"use strict";r.r(e);var s=r("74ca"),i=r("6e23");for(var n in i)"default"!==n&&function(t){r.d(e,t,function(){return i[t]})}(n);var o=r("2877"),a=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,"1a6a949c",null);e["default"]=a.exports},"5f86":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r("9ab4"),i=s.__importDefault(r("2b0e")),n=s.__importDefault(r("8c4f")),o=r("0024"),a=s.__importDefault(r("7b90")),u=s.__importDefault(r("01a1"));i.default.use(n.default),e.default=new n.default({base:"",routes:[{path:"/",component:a.default,children:[{path:"",redirect:{name:"furumai",params:{format:o.formatVersion,data:o.sampleFragment}}},{path:"apps/:format/:data",component:u.default,name:"furumai"}]}]})},"5fa3":function(t,e,r){"use strict";var s=r("4cd5"),i=r.n(s);i.a},6281:function(t,e,r){"use strict";r.r(e);var s=r("5d87"),i=r("6b16");for(var n in i)"default"!==n&&function(t){r.d(e,t,function(){return i[t]})}(n);r("cade");var o=r("2877"),a=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=a.exports},6315:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r("9ab4"),i=s.__importDefault(r("158e"));class n{constructor(t,e){this.children=t,this.box=e}fit(t,e={}){const r=this.box.contentArea,s=this.box.calcContentArea(t,e),{x:o,y:a,width:u,height:c}=s;let h=o;const l=u?i.default.gap2(0,(u-r.width)/(2*this.children.length)):i.default.zero,d=u?{width:r.width/this.children.length}:{},f=c?{height:c}:{},p=[];for(const i of this.children){h+=l.left;const t=i.map(t=>t.fit({x:h,y:a},Object.assign(Object.assign({},d),f)));p.push(t),h+=t.get.box.grossArea.width,h+=l.right}const _=Math.max(...p.map(t=>t.get.box.grossArea.height)),g={x:o,y:a,width:h-o,height:_};return new n(p,this.box.inflate(g))}withBox(t){return new n(this.children,this.box.update(t))}append(t){return new n([...this.children,t],this.box)}}e.Landscape=n},6370:function(t,e,r){},"6a9b":function(t,e,r){"use strict";r.r(e);var s=r("a9c3"),i=r("3b33");for(var n in i)"default"!==n&&function(t){r.d(e,t,function(){return i[t]})}(n);var o=r("2877"),a=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,"1339332c",null);e["default"]=a.exports},"6b16":function(t,e,r){"use strict";r.r(e);var s=r("3624"),i=r.n(s);for(var n in s)"default"!==n&&function(t){r.d(e,t,function(){return s[t]})}(n);e["default"]=i.a},"6e23":function(t,e,r){"use strict";r.r(e);var s=r("ae86"),i=r.n(s);for(var n in s)"default"!==n&&function(t){r.d(e,t,function(){return s[t]})}(n);e["default"]=i.a},"70a5":function(t,e,r){"use strict";r.r(e);var s=r("fb32"),i=r.n(s);for(var n in s)"default"!==n&&function(t){r.d(e,t,function(){return s[t]})}(n);e["default"]=i.a},"72c6":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r("c3cf"),i=r("6315"),n=r("f2e8"),o=r("76a7"),a=r("9d52");class u{constructor(t,e,r=[],s=a.Attributes.empty,i){this.id=t,this.compoundType=e,this.blocks=r,this.attrs=s,this.childAttrs=i}create(t){const e=t.lookupAttributes(this.compoundType).merge(this.attrs),r=e.attrs,a=e.box,u="zone"===this.compoundType?n.Portrait:i.Landscape,c=new u([],o.Box.of(a)),h=new s.Container(this.id,r,c),l=t.newEnv(this.childAttrs||{});return this.blocks.reduce((t,e)=>{const r=t.find(e.id);if(r)return e.update(r,l),t;{const r=e.create(l);return t.append(r)}},h)}update(t,e){throw new Error("Sorry, not implemented yet")}}e.Compound=u},"74ca":function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("g",[r("v-icon",t._b({staticClass:"no_rough",attrs:{name:t.name}},"v-icon",t.shapeAttrs,!1)),r("TextContent",{attrs:{position:t.labelPosition,content:t.textContentLabel,dy:t.labelDy,attrs:t.labelAttrs}}),r("TextContent",{attrs:{position:t.textPosition,content:t.textContentText,centering:!0,attrs:t.textAttrs}}),r("GridArea",{attrs:{box:t.shape.box}})],1)},i=[];r.d(e,"a",function(){return s}),r.d(e,"b",function(){return i})},"76a7":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r("9ab4"),i=s.__importDefault(r("158e"));class n{constructor(t,e,r,s,i,n){this.x=t,this.y=e,this.width=r,this.height=s,this.margin=i,this.padding=n}static of(t){const{x:e,y:r,width:s,height:o,margin:a,padding:u}=Object.assign({x:0,y:0,width:0,height:0,margin:i.default.zero,padding:i.default.zero},t);return new n(e,r,s,o,a,u)}get grossArea(){const{x:t,y:e,width:r,height:s}=this,{left:i,right:n,top:o,bottom:a}=this.margin;return{x:t-i,y:e-o,width:i+r+n,height:o+s+a}}get area(){return this}get contentArea(){const{x:t,y:e,width:r,height:s,padding:i}=this;return{x:t+i.left,y:e+i.top,width:r-(i.left+i.right),height:s-(i.top+i.bottom)}}get cx(){const t=this;return t.x+t.width/2}get cy(){const t=this;return t.y+t.height/2}inflate(t){const{x:e,y:r,width:s,height:i}=t,{left:o,right:a,top:u,bottom:c}=this.padding;return new n(e-o,r-u,o+s+a,u+i+c,this.margin,this.padding)}calcGrossArea(t,e){const{x:r,y:s}=t,{width:i,height:n}=e,{left:o,right:a,top:u,bottom:c}=this.margin,h=i?{width:i+(o+a)}:{},l=n?{height:n+(u+c)}:{};return Object.assign(Object.assign({x:r-o,y:s-u},h),l)}calcArea(t,e={}){const{x:r,y:s}=t,{width:i,height:n}=e,{left:o,right:a,top:u,bottom:c}=this.margin,h=i?{width:i-(o+a)}:{},l=n?{height:n-(u+c)}:{};return Object.assign(Object.assign({x:r+o,y:s+u},h),l)}calcContentArea(t,e={}){const{x:r,y:s,width:i,height:n}=this.calcArea(t,e),{left:o,right:a,top:u,bottom:c}=this.padding,h=i?{width:i-(o+a)}:{},l=n?{height:n-(u+c)}:{};return Object.assign(Object.assign({x:r+o,y:s+u},h),l)}update(t){return n.of(Object.assign(Object.assign({},this),t))}move(t,e){const{x:r,y:s}=this;return this.update({x:r+t,y:s+e})}}e.Box=n,n.zero=n.of({})},"7b90":function(t,e,r){"use strict";r.r(e);var s=r("3f0d"),i=r("c798");for(var n in i)"default"!==n&&function(t){r.d(e,t,function(){return i[t]})}(n);r("5fa3");var o=r("2877"),a=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=a.exports},"7bc8":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r("9ab4"),i=r("60a3");let n=class extends i.Vue{get attrs(){const{x:t,y:e,width:r,height:s,margin:i}=this.box;return{fill:"none",stroke:"none",visibility:"hidden",x:t-i.left,y:e-i.top,width:i.left+r+i.right,height:i.top+s+i.bottom}}};s.__decorate([i.Prop()],n.prototype,"box",void 0),n=s.__decorate([i.Component],n),e.default=n},"81fe":function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"footer"}})},i=[];r.d(e,"a",function(){return s}),r.d(e,"b",function(){return i})},8608:function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[1===t.version?r("FurumaiApp1",{attrs:{furumaiData:t.furumaiData,changeUrl:t.changeUrl}}):-1===t.version?r("div",[t._v("version = -1")]):r("div",[t._v("version error: "+t._s(t.version))])],1)},i=[];r.d(e,"a",function(){return s}),r.d(e,"b",function(){return i})},8960:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r("9ab4"),i=r("60a3"),n=s.__importDefault(r("6a9b")),o=s.__importDefault(r("a17d")),a=s.__importDefault(r("96fd")),u=s.__importDefault(r("fa0d")),c=s.__importDefault(r("a565")),h=s.__importDefault(r("469f")),l=s.__importDefault(r("bcae")),d=s.__importDefault(r("5f5c")),f=r("9d52");let p=class extends i.Vue{get childGroups(){return this.g.children.filter(t=>"group"===t.type).map(t=>t)}get boxes(){return this.g.children.filter(t=>"box"===t.type)}get cylinders(){return this.g.children.filter(t=>"cylinder"===t.type)}get pipes(){return this.g.children.filter(t=>"pipe"===t.type)}get persons(){return this.g.children.filter(t=>"person"===t.type)}get vIcons(){return this.g.children.filter(t=>t.type.startsWith("icon"))}get arrows(){return this.g.children.filter(t=>"arrow"===t.type||"edge"===t.type)}get attrs(){const{x:t,y:e,width:r,height:s}=f.asString(this.g.box);return Object.assign({x:t,y:e,width:r,height:s},this.g.svgAttrs.svgAttrs)}get textPosition(){const{x:t,y:e}=this.g.box;return{x:t,y:e}}get labelDy(){const t=this.g.text.label||"",e=t.split("\\n").length;return-1*e}get textAttrs(){return this.g.text.textAttrs.svgAttrs}};s.__decorate([i.Prop()],p.prototype,"g",void 0),p=s.__decorate([i.Component({name:"Group",components:{VIcon:d.default,Person:u.default,Cylinder:a.default,Pipe:l.default,TextContent:o.default,GridArea:n.default,Box:c.default,Arrow:h.default}})],p),e.default=p},"913c":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r("9ab4"),i=r("60a3"),n=s.__importDefault(r("6a9b")),o=s.__importDefault(r("a17d"));let a=class extends i.Vue{get shapeAttrs(){return this.shape.svgAttrs.svgAttrs}get textAttrs(){return this.shape.text.textAttrs.svgAttrs}get textPosition(){const{x:t,y:e,padding:r}=this.shape.box;return{x:t+r.left+10,y:e+r.top-10}}get d(){const t=this.shape.box,e=t.cx,r=t.cy,{width:s,height:i}=t,n=8+1.2*s/20,o=e-s/2,a=e+s/2,u=r-i/2,c=r+i/2;return`M ${o},${u}\nC ${o+n},${u}\n  ${o+n},${c}\n  ${o},${c}\nM ${o},${u}\nC ${o-n},${u}\n  ${o-n},${c}\n  ${o},${c}\nM ${o},${u}\nL ${a},${u}\nC ${a+n},${u}\n  ${a+n},${c}\n  ${a},${c}\nL ${o},${c}`}};s.__decorate([i.Prop()],a.prototype,"shape",void 0),a=s.__decorate([i.Component({components:{TextContent:o.default,GridArea:n.default}})],a),e.default=a},"96fd":function(t,e,r){"use strict";r.r(e);var s=r("f3b1"),i=r("4735");for(var n in i)"default"!==n&&function(t){r.d(e,t,function(){return i[t]})}(n);var o=r("2877"),a=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,"7cda04ce",null);e["default"]=a.exports},"9cc4":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class s{constructor(t,e,r,s){this.x1=t,this.y1=e,this.x2=r,this.y2=s}get length(){return Math.sqrt(Math.pow(this.dx,2)+Math.pow(this.dy,2))}get dx(){return this.x2-this.x1}get dy(){return this.y2-this.y1}rotate(t){function e(t){return t*Math.PI/180}const r=this.x1,n=this.y1,o=e(t),a={real:Math.cos(o),imaginary:Math.sin(o)},u=i({real:this.dx,imaginary:this.dy},a);return new s(r,n,r+u.real,n+u.imaginary)}negate(){const t=this.x1,e=this.y1;return new s(t,e,t-this.dx,e-this.dy)}reverse(){return new s(this.x2,this.y2,this.x1,this.y1)}move(t,e){return new s(this.x1+t,this.y1+e,this.x2+t,this.y2+e)}normalize(){const t=this.length;return new s(0,0,this.dx/t,this.dy/t)}multiple(t){const e=this.x1,r=this.y1;return new s(e,r,e+this.dx*t,r+this.dy*t)}}function i(t,e){return{real:t.real*e.real-t.imaginary*e.imaginary,imaginary:t.real*e.imaginary+t.imaginary*e.real}}e.Vector2d=s,e.multiply=i},"9d52":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r("9ab4"),i=s.__importDefault(r("eb11")),n=s.__importDefault(r("158e"));class o{constructor(){this.formatVersion="v1"}decode(t){const e=i.default.decompressFromEncodedURIComponent(t);return JSON.parse(e)}encode(t){const e=JSON.stringify(t);return i.default.compressToEncodedURIComponent(e)}}function a(t){return t?Number(t):void 0}function u(t){return Object.keys(t).reduce((e,r)=>{return e[r]=t[r].toString(),e},{})}e.DataEncoderDecoderV1=o,e.num=a,e.asString=u;class c{constructor(t,e,r){this.shape=t,this.text=e,this.other=r}static of(t){const{shape:e,label:r,t:i,dx:n,dy:o}=t,a=s.__rest(t,["shape","label","t","dx","dy"]),u=h(a),l={shape:e,label:r,t:i,dx:n,dy:o};return Object.keys(l).forEach(t=>{void 0===l[t]&&delete l[t]}),new c(u.shape,u.text,l)}update(t){return new c(Object.assign(Object.assign({},this.shape),t.shape),Object.assign(Object.assign({},this.text),t.text),Object.assign(Object.assign({},this.other),t.other))}}function h(t){const e=l(t,(t,e)=>!t.startsWith("text.")),r={};return Object.keys(t).forEach(e=>{e.startsWith("text.")||["y","dx","dy"].indexOf(e)>-1||(r[e]=t[e])}),Object.keys(t).forEach(e=>{if(e.startsWith("text.")){const s=e.slice("text.".length);r[s]=t[e]}}),{shape:e,text:r}}function l(t,e){return Object.keys(t).reduce((r,s)=>{const i=t[s];return e(s,i)&&(r[s]=i),r},{})}function d(t){if(t){const e=t.split(" ").map(t=>Number(t));return 4===e.length?n.default.gap4(e[0],e[1],e[2],e[3]):2===e.length?n.default.gap2(e[0],e[1]):1===e.length?n.default.gap1(e[0]):void 0}}e.Decorations=c,c.empty=c.of({});class f{constructor(t,e){this.box=t,this.attrs=e}static of(t){const{id:e,x:r,y:i,width:n,height:o,margin:u,padding:h}=t,l=s.__rest(t,["id","x","y","width","height","margin","padding"]),p={id:e,x:a(r),y:a(i),width:a(n),height:a(o),margin:d(u),padding:d(h)};return Object.keys(p).forEach(t=>{void 0===p[t]&&delete p[t]}),new f(p,c.of(l))}merge(t){return new f(Object.assign(Object.assign({},this.box),t.box),this.attrs.update(t.attrs))}}e.Attributes=f,f.empty=f.of({})},"9e5f":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r("9ab4"),i=s.__importDefault(r("158e"));class n{constructor(t){this.box=t}static gap(t,e){const{width:r,height:s}=Object.assign(Object.assign({},t),e);return i.default.gap2(s-t.height,r-t.width)}fit(t,e){const r=n.gap(this.box.grossArea,e),s=t.x+r.left,i=t.y+r.right;return this.withBox(this.box.calcArea({x:s,y:i}))}withBox(t){return new n(this.box.update(t))}}e.Cell=n},a17d:function(t,e,r){"use strict";r.r(e);var s=r("c53c"),i=r("70a5");for(var n in i)"default"!==n&&function(t){r.d(e,t,function(){return i[t]})}(n);var o=r("2877"),a=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,"16200155",null);e["default"]=a.exports},a565:function(t,e,r){"use strict";r.r(e);var s=r("c490"),i=r("dd5c");for(var n in i)"default"!==n&&function(t){r.d(e,t,function(){return i[t]})}(n);var o=r("2877"),a=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,"0ef3f318",null);e["default"]=a.exports},a9c3:function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("rect",t._b({staticClass:"no_rough"},"rect",t.attrs,!1))},i=[];r.d(e,"a",function(){return s}),r.d(e,"b",function(){return i})},ad61:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r("9ab4"),i=r("60a3"),n=s.__importDefault(r("6a9b")),o=r("9cc4"),a=s.__importDefault(r("a17d"));let u=class extends i.Vue{constructor(){super(...arguments),this.defaults={arrow:{head:{size:26,degree:27}}}}get textPosition(){const{x1:t,y1:e,x2:r,y2:s}=this.xy,i=new o.Vector2d(t,e,r,s);let n=i.normalize();n=0===n.dy?n.rotate(90*Math.sign(n.dx)):n.dy>0?n.rotate(-90):n.rotate(90),n=n.multiple(24);const a=i.dx/i.length,u=Math.abs(a)>.98?i.multiple(a).multiple(.35):i.multiple(.1),c=this.shape.box;return{x:c.cx+n.dx-u.dx,y:c.cy+n.dy-u.dy}}get xy(){const{x:t,y:e,width:r,height:s}=this.shape.box;return{x1:t,y1:e,x2:t+r,y2:e+s}}get d(){return"arrow"===this.shape.type?this.arrow:this.line}get line(){const{x1:t,y1:e,x2:r,y2:s}=this.xy;return`M${t} ${e} L${r} ${s}`}get arrow(){const{x1:t,y1:e,x2:r,y2:s}=this.xy;function i(i,n){const a=new o.Vector2d(t,e,r,s).normalize().multiple(n).rotate(i).negate();return a.move(r,s)}const n=this.defaults.arrow.head.degree,a=this.defaults.arrow.head.size,u=i(n,a),c=i(-n,a);return`M ${t} ${e}\nL ${r} ${s}\nM ${u.x2} ${u.y2}\nL ${r} ${s}\nM ${c.x2} ${c.y2}\nL ${r} ${s}`}get shapeAttrs(){return this.shape.svgAttrs.svgAttrs}get textAttrs(){return this.shape.text.textAttrs.svgAttrs}};s.__decorate([i.Prop()],u.prototype,"shape",void 0),u=s.__decorate([i.Component({components:{TextContent:a.default,GridArea:n.default}})],u),e.default=u},ae86:function(t,e,r){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0});const i=r("9ab4"),n=r("60a3");r("d06d");const o=i.__importDefault(r("a17d")),a=i.__importDefault(r("0874")),u=i.__importDefault(r("6a9b")),c=r("9d52");let h=s=class extends n.Vue{static icons(){const t=[];for(const e of Object.keys(a.default.icons))t.push(e);return t}get name(){const t=this.shape.type.split(":")[1];if(s.validIcons.has(t))return t;throw new Error(`Sorry, the attribute is not used for security reason: shape => ${this.shape.type}`)}get labelPosition(){const{x:t,y:e}=this.shape.box;return{x:t,y:e}}get labelDy(){const t=this.shape.text.label||"",e=t.split("\\n").length;return-1*e}get textContentText(){return{t:this.shape.text.t}}get textContentLabel(){return{label:this.shape.text.label}}get textPosition(){const{x:t,y:e,width:r,height:s,padding:i}=this.shape.box;return{x:t+r/2,y:e+s/2}}get shapeAttrs(){const{x:t,y:e,width:r,height:s,margin:i,padding:n}=c.asString(this.shape.box);return Object.assign({id:`_icon_${this.shape.id}`,x:t,y:e,width:r,height:s,margin:i,padding:n},this.shape.svgAttrs.svgAttrs)}get labelAttrs(){return Object.assign({},this.shape.text.textAttrs.svgAttrs)}get textAttrs(){return Object.assign({"text-anchor":"middle"},this.shape.text.textAttrs.svgAttrs)}};h.validIcons=new Set(s.icons()),i.__decorate([n.Prop()],h.prototype,"shape",void 0),h=s=i.__decorate([n.Component({components:{GridArea:u.default,TextContent:o.default,"v-icon":a.default}})],h),e.default=h},b096:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r("9ab4"),i=r("60a3");let n=class extends i.Vue{};n=s.__decorate([i.Component],n),e.default=n},bcae:function(t,e,r){"use strict";r.r(e);var s=r("1b7e"),i=r("1e74");for(var n in i)"default"!==n&&function(t){r.d(e,t,function(){return i[t]})}(n);var o=r("2877"),a=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,"92e1601a",null);e["default"]=a.exports},be14:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r("e279");class i{constructor(t){this.id=t}create(t){throw new Error(`not found: ${this.id}`)}update(t,e){return s.showArea(t)}}e.ShowBlock=i},c3cf:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r("321e"),i=r("1bef");class n{constructor(t,e,r,s=[]){this.id=t,this.attrs=e,this.elem=r,this.overlays=s}get get(){return this.elem}updateAttributes(t){return this.attrs=this.attrs.update(t.attrs),this.elem=this.elem.withBox(t.box),this}find(t){return this.findArea(t)||this.findOverlay(t)}findArea(t){if(this.id===t)return this;{const e=this.elem.children.map(e=>{if(e instanceof n)return e.findArea(t);{const r=e;return t===r.id?r:void 0}}).filter(t=>t);return 1===e.length?e[0]:void 0}}findOverlay(t){const e=this.overlays.map(e=>e.id===t?e:void 0).filter(t=>t);return 1===e.length?e[0]:void 0}map(t){return new n(this.id,this.attrs,t(this.elem),this.overlays)}append(t){return t instanceof n||t instanceof s.GridCell?new n(this.id,this.attrs,this.elem.append(t),this.overlays):new n(this.id,this.attrs,this.elem,[t,...this.overlays])}vue(){const t=this.elem.box,e=this.elem.children.map(t=>t.vue()),r=this.overlays.map(t=>t.vue(this)),s={label:this.attrs.other.label,t:this.attrs.other.t,textAttrs:i.SecureSvgAttrs.of(this.attrs.text)};return{type:"group",id:this.id,box:t,text:s,svgAttrs:i.SecureSvgAttrs.of(this.attrs.shape),children:e.concat(r)}}}e.Container=n},c411:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r("9ab4"),i=r("60a3"),n=s.__importDefault(r("fd2d")),o=s.__importDefault(r("0418"));let a=class extends i.Vue{};a=s.__decorate([i.Component({components:{Footer:n.default,Header:o.default}})],a),e.default=a},c490:function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("g",[r("rect",t._b({},"rect",t.shapeAttrs,!1)),r("TextContent",{attrs:{content:t.shape.text,position:t.textPosition,attrs:t.textAttrs}}),r("GridArea",{attrs:{box:t.shape.box}})],1)},i=[];r.d(e,"a",function(){return s}),r.d(e,"b",function(){return i})},c53c:function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("text",t._b({attrs:{x:t.position.x+t.dxy.x,y:t.position.y+t.dxy.y}},"text",t.attrs,!1),t._l(t.texts,function(e){return r("tspan",t._b({attrs:{dy:e.dy,x:t.position.x+t.dxy.x}},"tspan",t.attrs,!1),[t._v(t._s(e.text))])}),0)},i=[];r.d(e,"a",function(){return s}),r.d(e,"b",function(){return i})},c798:function(t,e,r){"use strict";r.r(e);var s=r("c411"),i=r.n(s);for(var n in s)"default"!==n&&function(t){r.d(e,t,function(){return s[t]})}(n);e["default"]=i.a},c83e:function(t,e,r){"use strict";r.r(e);var s=r("1aaa"),i=r.n(s);for(var n in s)"default"!==n&&function(t){r.d(e,t,function(){return s[t]})}(n);e["default"]=i.a},cade:function(t,e,r){"use strict";var s=r("34df"),i=r.n(s);i.a},cb19:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r("284a");class i{constructor(t,e){this.tailId=t,this.headId=e,this.id=s.Edge.idOf(t,e)}create(t){throw new Error(`edge not found: ${this.tailId} -> ${this.headId}`)}update(t,e){return t.disable()}}e.HideEdge=i},cd49:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r("9ab4"),i=s.__importDefault(r("2b0e")),n=s.__importDefault(r("3dfd")),o=s.__importDefault(r("5f86"));i.default.config.productionTip=!1,new i.default({router:o.default,render:t=>t(n.default)}).$mount("#app")},cf87:function(t,e,r){"use strict";r.r(e);var s=r("b096"),i=r.n(s);for(var n in s)"default"!==n&&function(t){r.d(e,t,function(){return s[t]})}(n);e["default"]=i.a},d3fe:function(t,e,r){"use strict";r.r(e);var s=r("15b3"),i=r("e3f8");for(var n in i)"default"!==n&&function(t){r.d(e,t,function(){return i[t]})}(n);var o=r("2877"),a=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,"3df79bb8",null);e["default"]=a.exports},d88a:function(t,e,r){"use strict";r.r(e);var s=r("ad61"),i=r.n(s);for(var n in s)"default"!==n&&function(t){r.d(e,t,function(){return s[t]})}(n);e["default"]=i.a},d8ef:function(t,e,r){"use strict";r.r(e);var s=r("38f5"),i=r.n(s);for(var n in s)"default"!==n&&function(t){r.d(e,t,function(){return s[t]})}(n);e["default"]=i.a},dd5c:function(t,e,r){"use strict";r.r(e);var s=r("ea03"),i=r.n(s);for(var n in s)"default"!==n&&function(t){r.d(e,t,function(){return s[t]})}(n);e["default"]=i.a},e071:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r("9ab4"),i=r("60a3"),n=s.__importDefault(r("6a9b")),o=s.__importDefault(r("a17d"));let a=class extends i.Vue{get shapeAttrs(){return this.shape.svgAttrs.svgAttrs}get textAttrs(){return this.shape.text.textAttrs.svgAttrs}get textPosition(){const{x:t,y:e,padding:r}=this.shape.box;return{x:t+r.left,y:e+r.top}}get d(){const t=this.shape.box,e=t.cx,r=t.cy,{width:s,height:i}=t,n=8+1.2*s/20,o=e-s/2,a=e+s/2,u=r-i/2,c=u-n,h=u+n,l=r+i/2,d=l+n;return`M ${a},${u}\nC ${a},${h}\n  ${o},${h}\n  ${o},${u}\nM ${a},${u}\nC ${a},${c}\n  ${o},${c}\n  ${o},${u}\nM ${a},${u}\nL ${a},${l}\nC ${a},${d}\n  ${o},${d}\n  ${o},${l}\nL ${o},${u}`}};s.__decorate([i.Prop()],a.prototype,"shape",void 0),a=s.__decorate([i.Component({components:{TextContent:o.default,GridArea:n.default}})],a),e.default=a},e279:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r("9d52");function i(t){return t.updateAttributes(s.Attributes.of({visibility:"visible"}))}function n(t){return t.updateAttributes(s.Decorations.of({visibility:"visible"}))}function o(t){return t.updateAttributes(s.Attributes.of({visibility:"hidden"}))}e.showArea=i,e.showOverlay=n,e.hideArea=o},e360:function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("g",[r("path",t._b({attrs:{d:t.d}},"path",t.shapeAttrs,!1)),r("TextContent",{attrs:{content:t.shape.text,position:t.textPosition,attrs:t.textAttrs}}),r("GridArea",{attrs:{box:t.shape.box}})],1)},i=[];r.d(e,"a",function(){return s}),r.d(e,"b",function(){return i})},e3f8:function(t,e,r){"use strict";r.r(e);var s=r("3303"),i=r.n(s);for(var n in s)"default"!==n&&function(t){r.d(e,t,function(){return s[t]})}(n);e["default"]=i.a},ea03:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r("9ab4"),i=r("60a3"),n=s.__importDefault(r("6a9b")),o=s.__importDefault(r("a17d")),a=r("9d52");let u=class extends i.Vue{get shapeAttrs(){const{x:t,y:e,width:r,height:s,margin:i,padding:n}=a.asString(this.shape.box);return Object.assign({id:`_rect_${this.shape.id}`,x:t,y:e,width:r,height:s,margin:i,padding:n},this.shape.svgAttrs.svgAttrs)}get textAttrs(){return this.shape.text.textAttrs.svgAttrs}get textPosition(){const{x:t,y:e,padding:r}=this.shape.box;return{x:t+r.left,y:e+r.top}}};s.__decorate([i.Prop()],u.prototype,"shape",void 0),u=s.__decorate([i.Component({components:{TextContent:o.default,GridArea:n.default}})],u),e.default=u},f2e8:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r("9ab4"),i=s.__importDefault(r("158e"));class n{constructor(t,e){this.children=t,this.box=e}fit(t,e={}){const r=this.box.contentArea,s=this.box.calcContentArea(t,e),{x:o,y:a,width:u,height:c}=s;let h=a;const l=c?i.default.gap2((c-r.height)/(2*this.children.length),0):i.default.zero,d=u?{width:u}:{},f=c?{height:r.height/this.children.length}:{},p=[];for(const i of this.children){h+=l.top;const t=i.map(t=>t.fit({x:o,y:h},Object.assign(Object.assign({},d),f)));p.push(t),h+=t.get.box.grossArea.height,h+=l.bottom}const _=Math.max(...p.map(t=>t.get.box.grossArea.width)),g={x:o,y:a,width:_,height:h-a};return new n(p,this.box.inflate(g))}withBox(t){return new n(this.children,this.box.update(t))}append(t){return new n([...this.children,t],this.box)}}e.Portrait=n},f3b1:function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("g",[r("path",t._b({attrs:{d:t.d}},"path",t.shapeAttrs,!1)),r("TextContent",{attrs:{content:t.shape.text,position:t.textPosition,attrs:t.textAttrs}}),r("GridArea",{attrs:{box:t.shape.box}})],1)},i=[];r.d(e,"a",function(){return s}),r.d(e,"b",function(){return i})},f708:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r("9ab4"),i=r("8a6d"),n=r("f0eb"),o=r("07d7"),a=r("4812"),u=s.__importStar(r("906a"));class c extends n.Lexer{constructor(t){super(t),this._interp=new o.LexerATNSimulator(c._ATN,this)}get vocabulary(){return c.VOCABULARY}get grammarFileName(){return"Furumai.g4"}get ruleNames(){return c.ruleNames}get serializedATN(){return c._serializedATN}get channelNames(){return c.channelNames}get modeNames(){return c.modeNames}action(t,e,r){switch(e){case 16:this.ID_action(t,r);break}}ID_action(t,e){switch(e){case 0:this.text=this.text.slice(1,-1);break;case 1:this.text=this.text.slice(1,-1);break}}static get _ATN(){return c.__ATN||(c.__ATN=(new i.ATNDeserializer).deserialize(u.toCharArray(c._serializedATN))),c.__ATN}}e.FurumaiLexer=c,c.T__0=1,c.T__1=2,c.T__2=3,c.T__3=4,c.T__4=5,c.T__5=6,c.T__6=7,c.T__7=8,c.NODE=9,c.EDGE=10,c.GROUP=11,c.ZONE=12,c.HIDE=13,c.DELETE=14,c.CONFIG=15,c.EDGEOP=16,c.ID=17,c.SPACES=18,c.channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"],c.modeNames=["DEFAULT_MODE"],c.ruleNames=["T__0","T__1","T__2","T__3","T__4","T__5","T__6","T__7","NODE","EDGE","GROUP","ZONE","HIDE","DELETE","CONFIG","EDGEOP","ID","SPACES"],c._LITERAL_NAMES=[void 0,"'---'","';'","'='","'['","','","']'","'{'","'}'","'node'","'edge'","'group'","'zone'","'hide'","'delete'","'config'"],c._SYMBOLIC_NAMES=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"NODE","EDGE","GROUP","ZONE","HIDE","DELETE","CONFIG","EDGEOP","ID","SPACES"],c.VOCABULARY=new a.VocabularyImpl(c._LITERAL_NAMES,c._SYMBOLIC_NAMES,[]),c._serializedATN='줝쪺֍꾺体؇쉁\b\t\t\t\t\t\t\b\t\b\t\t\t\n\t\n\v\t\v\f\t\f\r\t\r\t\t\t\t\t\t\b\b\t\t\n\n\n\n\n\v\v\v\v\v\f\f\f\f\f\f\r\r\r\r\rf\nj\n\fm\vs\n\fv\v|\n\f\v\n\t\v\r\b\t\n\v\f\r!#%))$$//2;C\\aac|/02;C\\aac|\v\r""\t\v\r!#%\'+-\t/\v1\r3579>CINSZ!e#%\'(/()/)*/*+,=,-.?.\b/0]0\n12.2\f34_456}67889:p:;q;<f<=g=>?g?@f@AiABgBCDiDEtEFqFGwGHrHIJ|JKqKLpLMgMNOjOPkPQfQRgRSTfTUgUVnVWgWXvXYgYZ[e[\\q\\]p]^h^_k_`i` ab/bf@cd/df/eaecf"gk)hj\nihjmkikllnmkno)o\bpt$qs\nrqsvtrtuuwvtwx$x\by}\tz|\t{z|}{}~~}gpy$\t\b&\bekt}'},fa0d:function(t,e,r){"use strict";r.r(e);var s=r("e360"),i=r("c83e");for(var n in i)"default"!==n&&function(t){r.d(e,t,function(){return i[t]})}(n);var o=r("2877"),a=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,"fdc53260",null);e["default"]=a.exports},faed:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r("14eb"),i=r("72c6"),n=r("284a"),o=r("0913"),a=r("cb19"),u=r("16cf"),c=r("568c"),h=r("f708"),l=r("24af"),d=r("9d52"),f=r("be14");function p(t){const e=s.CharStreams.fromString(t),r=new _,i=new h.FurumaiLexer(e);i.removeErrorListeners(),i.addErrorListener(r);const n=new s.CommonTokenStream(i),o=new c.FurumaiParser(n);o.removeErrorListeners(),o.addErrorListener(r);const a=o.story();if(r.errors.length>0)return new SyntaxError(JSON.stringify(r.errors));{const t=new g;return t.visit(a)}}e.parse=p;class _{constructor(){this.errors=[]}syntaxError(t,e,r,s,i,n){const o={message:i,range:{at:{column:s,row:r}}};this.errors.push(o)}}class g{static isBuildingBlock(t){return t instanceof i.Compound||t instanceof u.Node||t instanceof n.Edge||t instanceof o.HideBlock||t instanceof a.HideEdge||t instanceof f.ShowBlock}visitStory(t){const e=t.EOF();if(e){const e=t.moment().map(t=>this.visit(t)),s=e[0].config,i=e.map(t=>r(t));return new l.Story(i,s)}throw new SyntaxError("invalid input statement syntax");function r(t){const e=d.Attributes.of(t.attributes),r=x.toDict(t.childAttributes);return new l.Frame(t.blocks,e,r)}}visitMoment(t){return this.visit(t.stmt_list())}visitStmt_list(t){const e=t.stmt().map(t=>this.visit(t)),r=[],s=[],i=[],n=[];return e.forEach(t=>{if(g.isBuildingBlock(t))r.push(t);else if(t instanceof x)s.push(t);else if(t instanceof m)i.push(t);else if(t instanceof v)n.push(t);else{if(!(t instanceof Array&&t.every(t=>g.isBuildingBlock(t))))throw new Error("not implemented: "+JSON.stringify(t));t.forEach(t=>r.push(t))}}),{blocks:r,attributes:m.reduce(i),childAttributes:s,config:n.length>0?n[0].config:{}}}visitStmt(t){const e=t.node_stmt()||t.edge_stmt()||t.attr_stmt()||t.assignment()||t.zone()||t.group()||t.hide()||t.config();if(e)return this.visit(e);throw new Error("not implemented")}visitAttr_stmt(t){const e=t.GROUP()||t.NODE()||t.EDGE()||t.ZONE(),r=t.attr_list(),s=r?m.reduce(this.visit(r)):{};if(e)return new x(e.text,s);throw new Error("internal error: invalid state (parse)")}visitConfig(t){const e=t.ID(),r=t.attr_list();if(r){const t=r?m.reduce(this.visit(r)):{};return new v(t)}if(e)return s(e.text);throw new Error("internal error: invalid state (parse)");function s(t){const e={};return t.split(",").forEach(t=>{const r=t.split("=");e[r[0]]=r[1]}),new v(e)}}visitAttr_list(t){return t.assignment().map(t=>this.visit(t))}visitAssignment(t){const e=t.ID().map(t=>t.text);return new m(e[0],e[1])}visitEdge_stmt(t){const e=t.ID().map(t=>t.text),r=t.attr_list(),s=t.EDGEOP().text;if(r){const t=this.visit(r);return n.Edge.of(e[0],s,e[1],m.reduce(t))}return n.Edge.of(e[0],s,e[1])}visitNode_stmt(t){const e=t.attr_list();if(e){const r=this.visit(e);return new u.Node(t.ID().text,d.Attributes.of(m.reduce(r)))}return new u.Node(t.ID().text)}visitGroup(t){const e=t.stmt_list();if(e){const r=this.visit(e),s=d.Attributes.of(r.attributes),n=x.toDict(r.childAttributes);return new i.Compound(t.ID().text,"group",r.blocks,s,n)}return new i.Compound(t.ID().text,"group")}visitZone(t){const e=t.stmt_list();if(e){const r=this.visit(e),s=d.Attributes.of(r.attributes),n=x.toDict(r.childAttributes);return new i.Compound(t.ID().text,"zone",r.blocks,s,n)}return new i.Compound(t.ID().text,"zone")}visitHide(t){const e=t.ID().map(t=>t.text);if(1===e.length)return new o.HideBlock(e[0]);if(2===e.length)return new a.HideEdge(e[0],e[1]);throw new Error("not implemented")}visit(t){return t.accept(this)}visitChildren(t){let e;const r=t.childCount;for(let s=0;s<r;s++){const r=t.getChild(s);e=r.accept(this)}return e}visitErrorNode(t){}visitTerminal(t){}}class m{constructor(t,e){this.key=t,this.value=e}static reduce(t){return t.reduce((t,e)=>{return t[e.key]=e.value,t},{})}}class x{constructor(t,e){this.elementName=t,this.attributes=e}static toDict(t){return t.reduce((t,e)=>{return t[e.elementName]=d.Attributes.of(e.attributes),t},{})}}class v{constructor(t){this.config=t}}},fb2f:function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("g",t._b({},"g",t.g.svgAttrs.svgAttrs,!1),[r("rect",t._b({},"rect",t.attrs,!1)),r("TextContent",{attrs:{content:t.g.text,position:t.textPosition,dy:t.labelDy,attrs:t.textAttrs}}),t._l(t.childGroups,function(t){return r("Group",{key:t.id,attrs:{g:t}})}),t._l(t.boxes,function(t){return r("Box",{key:t.id,attrs:{shape:t}})}),t._l(t.cylinders,function(t){return r("Cylinder",{key:t.id,attrs:{shape:t}})}),t._l(t.pipes,function(t){return r("Pipe",{key:t.id,attrs:{shape:t}})}),t._l(t.persons,function(t){return r("Person",{key:t.id,attrs:{shape:t}})}),t._l(t.vIcons,function(t){return r("VIcon",{key:t.id,attrs:{shape:t}})}),t._l(t.arrows,function(t){return r("Arrow",{key:t.id,attrs:{shape:t}})}),r("GridArea",{attrs:{box:t.g.box}})],2)},i=[];r.d(e,"a",function(){return s}),r.d(e,"b",function(){return i})},fb32:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r("9ab4"),i=r("60a3"),n=r("9d52");let o=class extends i.Vue{get dxy(){const{dx:t,dy:e}=this.attrs;return{x:n.num(t)||0,y:n.num(e)||0}}get texts(){const t=this.content.label,e=this.content.t,r=t?e?t+"\\n"+e:t:e||"";if(r){if(this.centering){const[t,...e]=r.split("\\n"),s={text:t,dy:`${.35-.5*e.length}em`},i=e.map(t=>{return{text:t,dy:"1em"}});return[s,...i]}{const[t,...e]=r.split("\\n"),s={text:t,dy:`${this.dy+.35}em`},i=e.map(t=>{return{text:t,dy:"1em"}});return[s,...i]}}return[]}};s.__decorate([i.Prop()],o.prototype,"content",void 0),s.__decorate([i.Prop({default:!1})],o.prototype,"centering",void 0),s.__decorate([i.Prop({default:.5})],o.prototype,"dy",void 0),s.__decorate([i.Prop({default:{x:0,y:0}})],o.prototype,"position",void 0),s.__decorate([i.Prop()],o.prototype,"attrs",void 0),o=s.__decorate([i.Component],o),e.default=o},fba9:function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("g",[r("path",t._b({attrs:{d:t.d}},"path",t.shapeAttrs,!1)),r("TextContent",{attrs:{content:t.shape.text,position:t.textPosition,centering:!0,attrs:t.textAttrs}}),r("GridArea",{attrs:{box:t.shape.box}})],1)},i=[];r.d(e,"a",function(){return s}),r.d(e,"b",function(){return i})},fd2d:function(t,e,r){"use strict";r.r(e);var s=r("81fe"),i=r("d8ef");for(var n in i)"default"!==n&&function(t){r.d(e,t,function(){return i[t]})}(n);var o=r("2877"),a=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,"4ffd0aaa",null);e["default"]=a.exports}});
//# sourceMappingURL=app.064469c7.js.map