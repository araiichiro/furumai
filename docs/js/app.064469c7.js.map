{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/utils/sample.ts","webpack:///./src/components/FurumaiApp.vue","webpack:///./src/components/Header.vue","webpack:///./src/grid/EdgeOverlay.ts","webpack:///./src/bind/HideBlock.ts","webpack:///./src/components/FurumaiApp.vue?d243","webpack:///./src/layout/engine/Gap.ts","webpack:///./src/components/svg/SvgComponent.vue?6575","webpack:///./src/components/svg/SvgComponent.vue?26f8","webpack:///./src/components/Header.vue?d73d","webpack:///./src/bind/Node.ts","webpack:///./src/bind/Env.ts","webpack:///./src/components/Header.vue?74e2","webpack:///./src/components/Header.vue?8991","webpack:///./src/components/svg/Person.vue?d5dd","webpack:///./src/components/svg/Pipe.vue?9efe","webpack:///./src/components/svg/Pipe.vue?f6c8","webpack:///./src/utils/security.ts","webpack:///./src/components/svg/Pipe.vue?2b5e","webpack:///./src/utils/Story.ts","webpack:///./src/bind/Edge.ts","webpack:///./src/components/FurumaiApp.vue?37c3","webpack:///./src/grid/GridCell.ts","webpack:///./src/components/svg/SvgComponent.vue?1ceb","webpack:///./src/layout/engine/Arrow.ts","webpack:///./src/components/FurumaiApp1.vue?85f4","webpack:///./src/components/Footer.vue?47c3","webpack:///./src/utils/rougher.ts","webpack:///./src/components/svg/GridArea.vue?d089","webpack:///./src/App.vue?72e5","webpack:///./src/App.vue","webpack:///./src/AppLayout.vue?cad8","webpack:///./src/AppLayout.vue?51c2","webpack:///./src/components/svg/Arrow.vue","webpack:///./src/components/svg/Cylinder.vue?c61a","webpack:///./src/components/svg/Group.vue?e8ee","webpack:///./src/generated/antlr4ts/FurumaiParser.ts","webpack:///./src/components/svg/Group.vue","webpack:///./src/components/FurumaiApp1.vue?801c","webpack:///./src/components/FurumaiApp1.vue?5b53","webpack:///./src/components/svg/VIcon.vue","webpack:///./src/router.ts","webpack:///./src/AppLayout.vue?90ad","webpack:///./src/components/FurumaiApp1.vue","webpack:///./src/layout/engine/Landscape.ts","webpack:///./src/components/svg/GridArea.vue","webpack:///./src/components/FurumaiApp1.vue?b413","webpack:///./src/components/svg/VIcon.vue?0c33","webpack:///./src/components/svg/TextContent.vue?b4e5","webpack:///./src/bind/Compound.ts","webpack:///./src/components/svg/VIcon.vue?231b","webpack:///./src/components/svg/VIcon.vue?e1ae","webpack:///./src/layout/engine/Box.ts","webpack:///./src/AppLayout.vue","webpack:///./src/components/svg/GridArea.vue?4f90","webpack:///./src/components/Footer.vue?217d","webpack:///./src/components/Footer.vue?3699","webpack:///./src/components/FurumaiApp.vue?7254","webpack:///./src/components/FurumaiApp.vue?e6ed","webpack:///./src/components/svg/Group.vue?2d30","webpack:///./src/components/svg/Pipe.vue?2ffc","webpack:///./src/components/svg/Cylinder.vue","webpack:///./src/layout/engine/Vector2d.ts","webpack:///./src/utils/types.ts","webpack:///./src/layout/engine/Cell.ts","webpack:///./src/components/svg/TextContent.vue","webpack:///./src/components/svg/Box.vue","webpack:///./src/components/svg/GridArea.vue?c0a5","webpack:///./src/components/svg/GridArea.vue?aafe","webpack:///./src/components/svg/Arrow.vue?ce28","webpack:///./src/components/svg/VIcon.vue?a5bc","webpack:///./src/components/Header.vue?0d54","webpack:///./src/components/svg/Pipe.vue","webpack:///./src/bind/ShowBlock.ts","webpack:///./src/grid/Container.ts","webpack:///./src/AppLayout.vue?afea","webpack:///./src/components/svg/Box.vue?d5dd","webpack:///./src/components/svg/Box.vue?d2c2","webpack:///./src/components/svg/TextContent.vue?243f","webpack:///./src/components/svg/TextContent.vue?1b45","webpack:///./src/AppLayout.vue?d1a0","webpack:///./src/components/svg/Person.vue?6e6d","webpack:///./src/components/FurumaiApp1.vue?9fe8","webpack:///./src/bind/HideEdge.ts","webpack:///./src/main.ts","webpack:///./src/components/Header.vue?f073","webpack:///./src/components/svg/SvgComponent.vue","webpack:///./src/components/svg/Arrow.vue?b622","webpack:///./src/components/Footer.vue?6cd6","webpack:///./src/components/svg/Box.vue?19ed","webpack:///./src/components/svg/Cylinder.vue?6446","webpack:///./src/grid/visibility.ts","webpack:///./src/components/svg/Person.vue?dbee","webpack:///./src/components/svg/Person.vue?f3e0","webpack:///./src/components/svg/SvgComponent.vue?af6c","webpack:///./src/components/svg/Box.vue?77de","webpack:///./src/layout/engine/Portrait.ts","webpack:///./src/components/svg/Cylinder.vue?730a","webpack:///./src/components/svg/Cylinder.vue?4b90","webpack:///./src/generated/antlr4ts/FurumaiLexer.ts","webpack:///./src/components/svg/Person.vue","webpack:///./src/utils/parser.ts","webpack:///./src/components/svg/Group.vue?8e18","webpack:///./src/components/svg/Group.vue?f585","webpack:///./src/components/svg/TextContent.vue?0f95","webpack:///./src/components/svg/Arrow.vue?6a09","webpack:///./src/components/svg/Arrow.vue?5ac8","webpack:///./src/components/Footer.vue"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","sampleCode","codec","DataEncoderDecoderV1","formatVersion","sampleFragment","encode","version","code","rough","component","EdgeOverlay","id","tailId","op","headId","attrs","disabled","this","update","base","type","box","Box","zero","text","textAttrs","SecureSvgAttrs","of","svgAttrs","vueIfNotDisabled","tail","findArea","head","dx","dy","label","other","Arrow","singleton","fit","num","showArea","visibility","shape","HideBlock","env","Error","hideArea","Gap","top","right","bottom","left","gap","tb","rl","gap1","render","_vm","_h","$createElement","_c","_self","ref","roughHtml","staticClass","width","height","domProps","_s","staticRenderFns","Node","Attributes","empty","baseAttrs","lookupAttributes","merged","merge","GridCell","updateAttributes","Env","baseEnv","className","init","path","_v","_m","Person","Vue","x","y","person","cx","xx","yy","cr","cxr","cxl","yuu","yum","yud","xl","xr","y1","y2","y3","Prop","Component","components","TextContent","GridArea","_b","shapeAttrs","textPosition","keys","forEach","k","v","isValid","parseIconShape","split","validatedShape","startsWith","sp","test","isColor","color3","color6","availableSvgAttributes","Set","attrName","attrValue","checkName","has","checkValue","isNaN","Number","Story","frames","config","boot","updates","ContainerIterableIterator","ContextIterableIterator","values","last","undefined","next","done","nextFrame","baseContext","initContext","setup","iterator","elem","direction","Landscape","Portrait","deco","Decorations","fill","stroke","bootContext","container","Container","reduce","context","frame","it","map","a","align","size","Frame","blocks","childAttrs","newEnv","block","existing","find","child","append","Edge","idOf","ShowBlock","FurumaiApp","furumaiData","params","$route","format","decode","rest","encoded","$router","FurumaiApp1","cell","Cell","withBox","f","move","SvgComponent","nextTick","refresh","val","newVal","$refs","svgContainer","svg","firstElementChild","converted","convertSvg","innerHTML","Watch","Group","cut","candidates","ratio","x1","multiple","cy","b","JSON","stringify","x2","vec","Vector2d","tailCut","headCut","reverse","errors","defaultConfig","svgs","route","oldRoute","draw","replace","editor","focus","changeUrl","div","moments","cards","getElementsByClassName","item","blob","outerHTML","url","URL","createObjectURL","Blob","link","document","createElement","href","download","body","appendChild","click","removeChild","vue","e","animation","toSvgOrError","stack","displayFirstSvg","first","furumaiCode","defaults","story","parse","ret","moment","default","Footer","rc","RoughSVG","createElementNS","root","getAttribute","setAttribute","cs","children","convert","convertIfPossible","dict","aa","attributes","match","group1","toUpperCase","setAttributes","func","tag","tagName","g","gcs","tcs","ts","tspan","textContent","copy","classList","contains","wrap","convertElem","options","hachureGap","fillWeight","roughness","line","parseFloat","rectangle","ellipse","rx","ry","circle","script","FurumaiParser","Parser","input","super","_interp","ParserATNSimulator","_ATN","VOCABULARY","ruleNames","_serializedATN","_la","_localctx","StoryContext","_ctx","state","enterRule","RULE_story","_alt","enterOuterAlt","_errHandler","sync","interpreter","adaptivePredict","_input","ATN","INVALID_ALT_NUMBER","T__0","LA","EOF","re","RecognitionException","exception","reportError","recover","exitRule","MomentContext","RULE_moment","stmt_list","Stmt_listContext","RULE_stmt_list","stmt","T__1","StmtContext","RULE_stmt","node_stmt","edge_stmt","attr_stmt","assignment","group","zone","hide","Attr_stmtContext","RULE_attr_stmt","NODE","EDGE","GROUP","ZONE","recoverInline","Token","matchedEOF","reportMatch","consume","attr_list","ConfigContext","RULE_config","CONFIG","T__2","ID","Attr_listContext","RULE_attr_list","T__3","T__4","T__5","AssignmentContext","RULE_assignment","Edge_stmtContext","RULE_edge_stmt","EDGEOP","Node_stmtContext","RULE_node_stmt","GroupContext","RULE_group","T__6","T__7","ZoneContext","RULE_zone","HideContext","RULE_hide","HIDE","DELETE","__ATN","ATNDeserializer","deserialize","Utils","toCharArray","SPACES","_LITERAL_NAMES","_SYMBOLIC_NAMES","VocabularyImpl","ParserRuleContext","getRuleContexts","getRuleContext","getToken","parent","invokingState","listener","enterStory","exitStory","visitor","visitStory","visitChildren","enterMoment","exitMoment","visitMoment","enterStmt_list","exitStmt_list","visitStmt_list","tryGetRuleContext","enterStmt","exitStmt","visitStmt","tryGetToken","enterAttr_stmt","exitAttr_stmt","visitAttr_stmt","enterConfig","exitConfig","visitConfig","enterAttr_list","exitAttr_list","visitAttr_list","getTokens","enterAssignment","exitAssignment","visitAssignment","enterEdge_stmt","exitEdge_stmt","visitEdge_stmt","enterNode_stmt","exitNode_stmt","visitNode_stmt","enterGroup","exitGroup","visitGroup","enterZone","exitZone","visitZone","enterHide","exitHide","visitHide","directives","rawName","expression","on","$event","indexOf","_k","keyCode","ctrlKey","furumai","altKey","metaKey","target","composing","$set","Array","isArray","_i","$$a","$$el","$$c","checked","$$v","$$i","concat","pre","_e","_l","use","routes","redirect","point","grossSize","old","contentArea","childrenArea","calcContentArea","gap2","w","h","childNodes","moved","grossArea","maxHeight","Math","max","childContentArea","inflate","Compound","compoundType","fitterClass","fitter","initContainer","labelPosition","textContentLabel","labelDy","labelAttrs","textContentText","margin","padding","contentGrossArea","calcArea","filter","asString","lc","VIcon","Cylinder","Pipe","curve","ydm","sqrt","degree","degToRad","deg","PI","th","rotate","real","cos","imaginary","sin","rotated","multiply","jsonString","decompressFromEncodedURIComponent","decoded","compressToEncodedURIComponent","arg","obj","toString","divided","divideAttrs","_","gapString","gap4","dic","oldGrossSize","newGrossSize","arrow","xy","normalize","sign","u","abs","rotateBase","pump","v1","negate","pumpUp","va","vb","icons","requiredName","validIcons","Header","overlays","findOverlay","atom","lay","App","position","dxy","HideEdge","disable","productionTip","router","$mount","ydd","showOverlay","overlay","maxWidth","FurumaiLexer","Lexer","LexerATNSimulator","channelNames","modeNames","ruleIndex","actionIndex","ID_action","inputStream","CharStreams","fromString","errorListener","FurumaiErrorListener","lexer","removeErrorListeners","addErrorListener","tokenStream","CommonTokenStream","parser","tree","SyntaxError","FurumaiVisitorImpl","visit","recognizer","offendingSymbol","charPositionInLine","msg","error","message","range","at","column","row","ctx","eof","ss","conf","ElementAttribute","toDict","childAttributes","statements","isBuildingBlock","Attribute","Conf","every","attrType","attrList","textNode","parseConfig","configString","kv","ids","stmtList","accept","node","childCount","getChild","elementName","content","txt","centering"],"mappings":"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","file":"js/app.064469c7.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import {DataEncoderDecoderV1} from '@/utils/types'\n\nconst sampleCode = `group clients {\n  c1;\n  c2;\n};\n\ngroup kvs {\n  node [shape='cylinder'];\n  s1;\n  s2;\n  s3;\n  hinted_hand_off[shape='box'];\n};\n---\nc1 -> s1 [\n  label='write x=1\\\\n...',\n  'stroke-dasharray'='4'\n];\nc1 -> s2 [label='write x=1'];\ns1[label='x=1'];\ns2[label='x=1'];\n---\nc2[label='x=1'];\nc2 -> s2 [label='read x=1'];\n`\n\nconst codec = new DataEncoderDecoderV1()\nexport const formatVersion = codec.formatVersion\nexport const sampleFragment = codec.encode({version: 1, code: sampleCode, rough: true})\n","import { render, staticRenderFns } from \"./FurumaiApp.vue?vue&type=template&id=954c3980&\"\nimport script from \"./FurumaiApp.vue?vue&type=script&lang=ts&\"\nexport * from \"./FurumaiApp.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { render, staticRenderFns } from \"./Header.vue?vue&type=template&id=427dc33c&scoped=true&\"\nimport script from \"./Header.vue?vue&type=script&lang=ts&\"\nexport * from \"./Header.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Header.vue?vue&type=style&index=0&id=427dc33c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"427dc33c\",\n  null\n  \n)\n\nexport default component.exports","import {Overlay} from '@/grid/Overlay'\nimport {Container} from '@/grid/Container'\nimport {Box} from '@/layout/engine/Box'\nimport {Arrow} from '@/layout/engine/Arrow'\nimport {GridArea} from '@/grid/GridArea'\nimport {Elem} from '@/layout/engine/Elem'\nimport {Shape} from '@/components/model/Shape'\nimport {Decorations, num} from '@/utils/types'\nimport {SecureSvgAttrs} from '@/utils/security'\nimport {showArea} from '@/grid/visibility'\n\nexport class EdgeOverlay implements Overlay {\n  constructor(\n    readonly id: string,\n    private tailId: string,\n    private op: string,\n    private headId: string,\n    private attrs: Decorations,\n    private disabled: boolean = false,\n  ) {\n  }\n\n  public updateAttributes(attrs: Decorations): EdgeOverlay {\n    // TODO immutable\n    this.attrs = this.attrs.update(attrs)\n    return this\n  }\n\n  public disable(): EdgeOverlay {\n    this.disabled = true\n    return this\n  }\n\n  public vue(base: Container): Shape {\n    if (this.disabled) {\n      return {\n        type: 'nothing',\n        id: this.id,\n        box: Box.zero,\n        text: {textAttrs: SecureSvgAttrs.of({})},\n        svgAttrs: SecureSvgAttrs.of({}),\n      }\n    } else {\n      return this.vueIfNotDisabled(base)\n    }\n  }\n\n  public vueIfNotDisabled(base: Container): Shape {\n    const tail = base.findArea(this.tailId) as GridArea<Elem>\n    const head = base.findArea(this.headId) as GridArea<Elem>\n    const {dx, dy, t, label} = this.attrs.other\n    const box = Arrow.singleton.fit(tail.get.box, head.get.box, num(dx) || 0, num(dy) || 0)\n\n    showArea(tail)\n    showArea(head)\n    const svgAttrs = SecureSvgAttrs.of({\n      visibility: 'visible',\n      ...this.attrs.shape,\n    })\n    const text = {\n      label,\n      t,\n      textAttrs: SecureSvgAttrs.of(this.attrs.text),\n    }\n    return {\n      type: this.op === '->' ? 'arrow' : 'edge',\n      id: this.id,\n      box,\n      text,\n      svgAttrs,\n    }\n  }\n}\n","import {BuildingBlock} from '@/bind/BuildingBlock'\nimport {Env} from '@/bind/Env'\nimport {hideArea} from '@/grid/visibility'\nimport {GridArea} from '@/grid/GridArea'\nimport {Elem} from '@/layout/engine/Elem'\n\nexport class HideBlock implements BuildingBlock {\n  constructor(readonly id: string) {\n  }\n\n  public create(env: Env): GridArea<Elem> {\n    throw new Error(`not found: ${this.id}`)\n  }\n\n  public update(base: GridArea<Elem>, env: Env): GridArea<Elem> {\n    return hideArea(base)\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FurumaiApp.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FurumaiApp.vue?vue&type=script&lang=ts&\"","export default class Gap {\n  public static zero = Gap.gap1(0)\n\n  public static gap1(gap: number): Gap {\n    return new Gap(gap, gap, gap, gap)\n  }\n\n  public static gap2(tb: number, rl: number): Gap {\n    return new Gap(tb, rl, tb, rl)\n  }\n\n  public static gap4(top: number, right: number, bottom: number, left: number): Gap {\n    return new Gap(top, right, bottom, left)\n  }\n\n  constructor(\n    readonly top: number,\n    readonly right: number,\n    readonly bottom: number,\n    readonly left: number,\n  ) {\n  }\n\n  public toString(): string {\n    return `${this.top} ${this.right} ${this.bottom} ${this.left}`\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"svgContainer\"},[(_vm.rough && _vm.roughHtml.length > 0)?_c('svg',{staticClass:\"svg-root\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":(\"0 0 \" + (_vm.shape.box.width) + \" \" + (_vm.shape.box.height)),\"width\":_vm.shape.box.width / 2,\"height\":_vm.shape.box.height / 2},domProps:{\"innerHTML\":_vm._s(_vm.roughHtml)}}):_c('svg',{staticClass:\"svg-root\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":(\"0 0 \" + (_vm.shape.box.width) + \" \" + (_vm.shape.box.height)),\"width\":_vm.shape.box.width / 2,\"height\":_vm.shape.box.height / 2}},[_c('Group',{attrs:{\"g\":_vm.shape}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"567eeb22-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgComponent.vue?vue&type=template&id=3df79bb8&scoped=true&\"","import mod from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=style&index=0&id=427dc33c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=style&index=0&id=427dc33c&scoped=true&lang=css&\"","import {BuildingBlock} from '@/bind/BuildingBlock'\nimport {Env} from '@/bind/Env'\nimport {GridCell} from '@/grid/GridCell'\nimport {showArea} from '@/grid/visibility'\nimport {Attributes} from '@/utils/types'\n\nexport class Node implements BuildingBlock {\n  constructor(\n    readonly id: string,\n    private attrs: Attributes = Attributes.empty,\n  ) {\n  }\n\n  public create(env: Env): GridCell {\n    const baseAttrs = env.lookupAttributes('node')\n    const merged = baseAttrs.merge(this.attrs)\n    return GridCell.of(this.id, merged)\n  }\n\n  public update(base: GridCell, env: Env): GridCell {\n    return showArea(base).updateAttributes(this.attrs)\n  }\n}\n","import {Attributes, Dict} from '@/utils/types'\n\nexport class Env {\n  public static init = new Env( {})\n\n  private constructor(\n    private attrs: Dict<Attributes>,\n    private baseEnv?: Env,\n  ) {\n  }\n\n  public newEnv(attrs: Dict<Attributes>): Env {\n    return new Env(attrs, this)\n  }\n\n  public lookupAttributes(className: string): Attributes {\n    const p = this.baseEnv ? this.baseEnv.lookupAttributes(className) : Attributes.empty\n    return this.attrs[className] ? p.merge(this.attrs[className]) : p\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"nav\"},[_c('div',{staticClass:\"nav-left\"},[_c('router-link',{staticClass:\"brand\",attrs:{\"to\":{path: '/'}}},[_vm._v(\"Furumai\")]),_vm._m(0)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tabs\"},[_c('a',{attrs:{\"href\":\"./docs/\"}},[_vm._v(\"Docs\")]),_c('a',{attrs:{\"href\":\"https://github.com/araiichiro/furumai\"}},[_vm._v(\"GitHub\")])])}]\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"567eeb22-vue-loader-template\\\"}!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=template&id=427dc33c&scoped=true&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Prop, Vue} from 'vue-property-decorator'\nimport GridArea from '@/components/svg/GridArea.vue'\nimport {Shape} from '@/components/model/Shape'\nimport TextContent from '@/components/svg/TextContent.vue'\n\n@Component({\n  components: {\n    TextContent,\n    GridArea,\n  },\n})\nexport default class Person extends Vue {\n  @Prop()\n  public shape!: Shape\n\n  get shapeAttrs() {\n    return this.shape.svgAttrs.svgAttrs\n  }\n\n  get textAttrs() {\n    return {\n      'text-anchor': 'middle',\n      ...this.shape.text.textAttrs.svgAttrs,\n    }\n  }\n\n  get textPosition(): {x: number, y: number} {\n    const {x, y, width} = this.shape.box\n    return {\n      x: x + width / 2,\n      y: y - 32, // FIXME\n    }\n  }\n\n  get d(): string {\n    const box = this.shape.box\n    const {x, y, width, height} = box\n    return this.person(x + width / 4, y, width / 2, height)\n  }\n\n  private person(x: number, y: number, width: number, height: number): string {\n    const cx = this.shape.box.cx\n    const xx = x + width\n    const yy = y + height\n    const cr = height / 5\n\n    const cxr = cx - cr\n    const cxl = cx + cr\n    const yuu = y - cr / 3\n    const yum = y + cr\n    const yud = y + 2 * cr + cr / 3 // FIXME\n    const xl = x\n    const xr = xx\n    const y1 = y + cr * 2\n    const y2 = y + cr * 3\n    const y3 = cr * 4 + y\n\n    return `M ${cxr},${yum}\nC ${cxr},${yud}\n${cxl},${yud}\n${cxl},${yum}\nM ${cxr},${yum}\nC ${cxr},${yuu}\n${cxl},${yuu}\n${cxl},${yum}\nM${cx},${y1}\nL${cx},${y3}\nM${xl},${y2}\nL${xr},${y2}\nM${cx},${y3}\nL${xl},${yy}\nM${cx},${y3}\nL${xr},${yy}`\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('g',[_c('path',_vm._b({attrs:{\"d\":_vm.d}},'path',_vm.shapeAttrs,false)),_c('TextContent',{attrs:{\"content\":_vm.shape.text,\"position\":_vm.textPosition,\"attrs\":_vm.textAttrs}}),_c('GridArea',{attrs:{\"box\":_vm.shape.box}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"567eeb22-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pipe.vue?vue&type=template&id=92e1601a&scoped=true&\"","export class SecureSvgAttrs {\n  public static of(svgAttrs: { [key: string]: any }): SecureSvgAttrs {\n    Object.keys(svgAttrs).forEach((k) => {\n      const v = svgAttrs[k]\n      // check attribute for security reason\n      if (!isValid(k, v)) {\n        throw new Error(`Sorry, the attribute is not used for security reason: ${k} => ${v}`)\n      }\n    })\n    return new SecureSvgAttrs(svgAttrs)\n  }\n\n  private constructor(\n    readonly svgAttrs: { [key: string]: any },\n  ) {}\n}\n\nexport function parseIconShape(shape: string): string[] {\n  return shape.split(':')\n}\n\nexport function validatedShape(shape: string): string {\n  const type = shape || 'box'\n  if (type.startsWith('icon:')) {\n    const sp = parseIconShape(type)\n    if (sp.length === 2 && sp[0] === 'icon' && /^[0-9a-zA-Z\\-\\/]*$/.test(sp[1])) {\n      return type\n    } else {\n      throw new Error(`Sorry, the attribute is not used for security reason: shape => ${type}`)\n    }\n  } else {\n    if (type === 'box' || type === 'person' || type === 'cylinder' || type === 'pipe') {\n      return type\n    } else {\n      throw new Error(`Sorry, the attribute is not used for security reason: shape => ${type}`)\n    }\n  }\n}\n\nfunction isColor(text: string) {\n  const color3 = /^#[0-9a-fA-F]{3}$/\n  const color6 = /^#[0-9a-fA-F]{6}$/\n  return color3.test(text) || color6.test(text)\n}\n\nconst availableSvgAttributes = new Set([\n  'cx',\n  'cy',\n  'd',\n  'dx',\n  'dy',\n  'fill',\n  'font-family',\n  'font-size',\n  'font-stretch',\n  'font-style',\n  'font-variant',\n  'font-weight',\n  'fx',\n  'fy',\n  'height',\n  'id',\n  'lengthAdjust',\n  'markerHeight',\n  'markerUnits',\n  'markerWidth',\n  'method',\n  'orient',\n  'overline-position',\n  'overline-thickness',\n  'pathLength',\n  'rx',\n  'ry',\n  'slope',\n  'spreadMethod',\n  'textLength',\n  'underline-position',\n  'underline-thickness',\n  'viewBox',\n  'width',\n  'x',\n  'y',\n  'alignment-baseline',\n  'baseline-shift',\n  'color',\n  'display',\n  'dominant-baseline',\n  'enable-background',\n  'fill-opacity',\n  'fill-rule',\n  'flood-color',\n  'flood-opacity',\n  'font-size-adjust',\n  'kerning',\n  'letter-spacing',\n  'lighting-color',\n  'opacity',\n  'overflow',\n  'pointer-events',\n  'shape-rendering',\n  'stop-color',\n  'stop-opacity',\n  'stroke-dasharray',\n  'stroke-dashoffset',\n  'stroke-linecap',\n  'stroke-linejoin',\n  'stroke-miterlimit',\n  'stroke-opacity',\n  'stroke-width',\n  'stroke',\n  'text-anchor',\n  'text-decoration',\n  'visibility',\n  'word-spacing',\n  'writing-mode',\n  'margin',\n  'padding',\n])\n\nfunction isValid(attrName: string, attrValue: string) {\n  function checkName(name: string) {\n    return availableSvgAttributes.has(attrName)\n  }\n\n  function checkValue(v: string) {\n    return /^[0-9a-zA-Z\\s\\-_.,%]*$/.test(v) || isColor(v) || !isNaN(Number(v))\n  }\n\n  return checkName(attrName) && checkValue(attrValue)\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pipe.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pipe.vue?vue&type=script&lang=ts&\"","import {Config} from '@/utils/Config'\nimport {Container} from '@/grid/Container'\nimport {Env} from '@/bind/Env'\nimport {BuildingBlock} from '@/bind/BuildingBlock'\nimport {Attributes, Decorations, Dict} from '@/utils/types'\nimport {Landscape} from '@/layout/engine/Landscape'\nimport {Box} from '@/layout/engine/Box'\nimport {Portrait} from '@/layout/engine/Portrait'\n\nexport class Story {\n  constructor(public readonly frames: Frame[], private config: Config) {}\n\n  public moments(boot: Frame[]): IterableIterator<Container> {\n    const [init, ...updates] = this.frames\n    boot.push(init)\n    return new ContainerIterableIterator(\n      new ContextIterableIterator(boot, updates.values(), this.config),\n      this.config,\n    )\n  }\n}\n\nclass ContextIterableIterator implements IterableIterator<Context> {\n  private last: Context | undefined = undefined\n\n  constructor(private boot: Frame[], private frames: IterableIterator<Frame>, private config: Config) {}\n\n  public next(): IteratorResult<Context> {\n    if (this.last) {\n      const next = this.frames.next()\n      if (next.done) {\n        return next\n      } else {\n        const nextFrame = next.value\n        const baseContext = this.config.mode === 'diff' ? this.last : this.initContext()\n        this.last = nextFrame.setup(baseContext)\n        return {\n          done: false,\n          value: this.last,\n        }\n      }\n    } else {\n      this.last = this.initContext()\n      return {\n        done: false,\n        value: this.last,\n      }\n    }\n  }\n\n  public [Symbol.iterator](): IterableIterator<Context> {\n    return this\n  }\n\n  private initContext(): Context {\n    const elem = this.config.direction === 'left to right' ? new Landscape([], Box.zero) : new Portrait([], Box.zero)\n    const deco = Decorations.of({fill: 'none', stroke: 'none'})\n    const bootContext = {\n      env: Env.init,\n      container: new Container('_init', deco, elem),\n    }\n    return this.boot.reduce((context, frame) => {\n      return frame.setup(context)\n    }, bootContext)\n  }\n}\n\nclass ContainerIterableIterator implements IterableIterator<Container> {\n  constructor(private it: ContextIterableIterator, private config: Config) {}\n\n  public next(): IteratorResult<Container> {\n    const next = this.it.next()\n    if (next.done) {\n      return next\n    } else {\n      const context = next.value\n      const fit = context.container.map((a) => a.fit({x: 0, y: 0}))\n      if (this.config.align === 'center') {\n        const size = this.config.direction === 'left to right'\n          ? {height: fit.get.box.height}\n          : {width: fit.get.box.width}\n        return {\n          done: next.done,\n          value: fit.map((a) => a.fit({x: 0, y: 0}, size)),\n        }\n      } else {\n        return {\n          done: next.done,\n          value: fit,\n        }\n      }\n    }\n  }\n\n  public [Symbol.iterator](): IterableIterator<Container> {\n    return this\n  }\n}\n\nexport class Frame {\n  constructor(\n    private blocks: BuildingBlock[],\n    private attrs: Attributes,\n    private childAttrs: Dict<Attributes>,\n  ) {\n  }\n\n  public setup(base: Context): Context {\n    let container = base.container.updateAttributes(this.attrs)\n    const env = base.env.newEnv(this.childAttrs)\n    for (const block of this.blocks) {\n      const existing = container.find(block.id)\n      if (existing) {\n        block.update(existing, env)\n      } else {\n        const child = block.create(env)\n        container = container.append(child)\n      }\n    }\n    return {\n      env,\n      container,\n    }\n  }\n}\n\ninterface Context {\n  env: Env\n  container: Container\n}\n","import {BuildingBlock} from '@/bind/BuildingBlock'\nimport {Env} from '@/bind/Env'\nimport {EdgeOverlay} from '@/grid/EdgeOverlay'\nimport {Attrs, Decorations} from '@/utils/types'\nimport {ShowBlock} from '@/bind/ShowBlock'\n\nexport class Edge implements BuildingBlock {\n  public static of(\n    tailId: string,\n    op: string,\n    headId: string,\n    attrs: Attrs = {},\n  ): BuildingBlock[] {\n    return [\n      new Edge(this.idOf(tailId, headId), tailId, op, headId, attrs),\n      new ShowBlock(tailId),\n      new ShowBlock(headId),\n    ]\n  }\n\n  public static idOf(tailId: string, headId: string): string {\n    return `_edge_${tailId}_to_${headId}`\n  }\n\n  private constructor(\n    readonly id: string,\n    private tailId: string,\n    private op: string,\n    private headId: string,\n    private attrs: Attrs = {},\n  ) {\n  }\n\n  public create(env: Env): EdgeOverlay {\n    const baseAttrs = env.lookupAttributes('edge')\n    const deco = baseAttrs.attrs.update(Decorations.of(this.attrs))\n    return new EdgeOverlay(this.id, this.tailId, this.op, this.headId, deco)\n  }\n\n  public update(base: EdgeOverlay, env: Env): EdgeOverlay {\n    return base.updateAttributes(Decorations.of(this.attrs)) as EdgeOverlay\n  }\n}\n","\n\n\n\n\n\n\n\n\nimport {Component, Vue} from 'vue-property-decorator'\nimport FurumaiApp1 from '@/components/FurumaiApp1.vue'\nimport {DataEncoderDecoderV1} from '@/utils/types'\n\n@Component({\n  components: {\n    FurumaiApp1,\n  },\n})\nexport default class FurumaiApp extends Vue {\n  private static codec = new DataEncoderDecoderV1()\n\n  private version: number = -1\n  private furumaiData: any = {}\n\n  public mounted() {\n    const params = this.$route.params as any\n    if (params.format === FurumaiApp.codec.formatVersion) {\n      const data = FurumaiApp.codec.decode(params.data)\n      const {version, ...rest} = data\n      if (version && version > 0) {\n        this.version = version || 1\n        this.furumaiData = rest\n      } else {\n        throw new Error(`app version is not specified`)\n      }\n    } else {\n      throw new Error(`unsupported data format version: ${params.format}`)\n    }\n  }\n\n  public changeUrl(furumaiData: any) {\n    this.furumaiData = furumaiData\n    const data = {\n      version: this.version,\n      ...furumaiData,\n    }\n    const encoded = FurumaiApp.codec.encode(data)\n    this.$router.push({name: 'furumai', params: {format: FurumaiApp.codec.formatVersion, data: encoded}})\n  }\n}\n","import {GridArea} from '@/grid/GridArea'\nimport {Cell} from '@/layout/engine/Cell'\nimport {Box} from '@/layout/engine/Box'\nimport {Shape} from '@/components/model/Shape'\nimport {SecureSvgAttrs, validatedShape} from '@/utils/security'\nimport {Attributes, Decorations, num} from '@/utils/types'\n\nexport class GridCell implements GridArea<Cell> {\n  public static of(id: string, attrs: Attributes) {\n    return new GridCell(id, new Cell(Box.of(attrs.box)), attrs.attrs)\n  }\n\n  private constructor(\n    public readonly id: string,\n    private cell: Cell,\n    private attrs: Decorations,\n  ) {\n  }\n\n  get get(): Cell {\n    return this.cell\n  }\n\n  public updateAttributes(attrs: Attributes): GridCell {\n    // TODO immutable\n    this.attrs = this.attrs.update(attrs.attrs)\n    this.cell = this.cell.withBox(attrs.box)\n    return this\n  }\n\n  public map(f: (a: Cell) => Cell): GridCell {\n    const cell = f(this.cell)\n    return new GridCell(this.id, cell, this.attrs)\n  }\n\n  public vue(): Shape {\n    const {shape, label, t, dx, dy} = this.attrs.other\n    const text = {\n      label: label === '' ? '' : (label || this.id),\n      t,\n      textAttrs: SecureSvgAttrs.of(this.attrs.text),\n    }\n    return {\n      type: validatedShape(shape),\n      id: this.id,\n      box: this.cell.box.move(num(dx) || 0, num(dy) || 0),\n      text,\n      svgAttrs: SecureSvgAttrs.of(this.attrs.shape),\n    }\n  }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Prop, Vue, Watch} from 'vue-property-decorator'\nimport {Shape} from '@/components/model/Shape'\nimport Group from './Group.vue'\nimport {convertSvg} from '@/utils/rougher'\n\n@Component({\n  components: {\n    Group,\n  },\n})\nexport default class SvgComponent extends Vue {\n  @Prop()\n  public shape!: Shape\n\n  @Prop()\n  public rough!: boolean\n\n  public roughHtml: string = ``\n\n  public mounted() {\n    Vue.nextTick(() => this.refresh())\n  }\n\n  @Watch('shape')\n  public onShapeChanged(val: Shape, newVal: Shape) {\n    this.roughHtml = ''\n    Vue.nextTick(() => this.refresh())\n  }\n\n  private refresh() {\n    if (this.rough) {\n      const c = this.$refs.svgContainer as HTMLElement\n      const svg = c.firstElementChild as SVGElement\n      const converted = convertSvg(svg)\n      this.roughHtml = converted.innerHTML\n    }\n  }\n}\n","import {Vector2d} from '@/layout/engine/Vector2d'\nimport {Box} from '@/layout/engine/Box'\n\nexport class Arrow {\n  public static singleton = new Arrow()\n\n  public fit(tail: Box, head: Box, dx: number, dy: number): Box {\n    function cut(v: Vector2d, box: Box): Vector2d {\n      const candidates: Vector2d[] = []\n      if (v.dx < 0) {\n        const ratio = -(v.x1 - box.cx + box.width / 2) / v.dx\n        candidates.push(v.multiple(ratio))\n      } else if (v.dx > 0) {\n        const ratio = (box.cx - v.x1 + box.width / 2) / v.dx\n        candidates.push(v.multiple(ratio))\n      }\n      if (v.dy < 0) {\n        const ratio = -(v.y1 - box.cy + box.height / 2) / v.dy\n        candidates.push(v.multiple(ratio))\n      } else if (v.dy > 0) {\n        const ratio = (box.cy - v.y1 + box.height / 2) / v.dy\n        candidates.push(v.multiple(ratio))\n      }\n\n      if (candidates.length === 1) {\n        return candidates[0]\n      } else if (candidates.length === 2) {\n        const a = candidates[0]\n        const b = candidates[1]\n        if (a.length < b.length) {\n          return a\n        } else {\n          return b\n        }\n      } else {\n        throw new Error('not implemented: ' + JSON.stringify(candidates) + ', ' + JSON.stringify(v))\n      }\n    }\n\n    const x1 = tail.cx + dx\n    const y1 = tail.cy + dy\n    const x2 = head.cx + dx\n    const y2 = head.cy + dy\n    const vec = new Vector2d(x1, y1, x2, y2)\n    const tailCut = cut(vec, tail)\n    const headCut = cut(vec.reverse(), head)\n\n    const x = x1 + tailCut.dx\n    const y = y1 + tailCut.dy\n    const width = (x2 + headCut.dx) - x\n    const height = (y2 + headCut.dy) - y\n    // FIXME margin / padding\n    return Box.of({x, y, width, height})\n  }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Prop, Vue, Watch} from 'vue-property-decorator'\nimport {Route} from 'vue-router'\nimport {parse} from '@/utils/parser'\nimport {Story} from '@/utils/Story'\nimport * as model from '@/components/model/Group'\nimport {Group} from '@/components/model/Group'\nimport SvgComponent from '@/components/svg/SvgComponent.vue'\n\ninterface AppParams1 {\n  code: string\n  animation?: {\n    active?: boolean\n    speed?: number,\n  }\n  rough?: boolean\n  displayFirstSvg?: boolean\n}\n\n@Component({\n  components: {\n    SvgComponent,\n  },\n})\nexport default class FurumaiApp1 extends Vue {\n  @Prop({default: {}}) private furumaiData!: AppParams1\n  @Prop() private changeUrl!: (data: AppParams1) => void\n  @Prop({default: true}) private editorMode!: boolean\n  @Prop({default: true}) private viewCode!: boolean\n\n  private errors: string = ''\n\n  private defaultConfig = `config [\n  orientation='top to bottom',\n  mode='no diff',\n  align='no center'\n];\n\nfont-size = 24;\ngroup [margin='100 20', padding='20 16',\n       stroke=none, fill=none,\n       text.stroke=black, text.stroke-width=1, text.fill=black];\nzone  [margin='20 150', padding='20 16',\n       stroke=none, fill=none,\n       text.stroke=black, text.stroke-width=1, text.fill=black];\nnode  [margin='24 20', padding='24 16', width=215, height=150,\n       fill=none, stroke=black, 'stroke-width'=2,\n       text.fill=black, text.stroke-width=1];\nedge  [stroke=black, 'stroke-width'=2\n       text.fill=black, text.stroke-width=1];`\n\n  private svgs: model.Group[] = []\n\n  @Watch('$route')\n  public onRouteChanged(route: Route, oldRoute: Route) {\n    this.draw(this.furumaiData.code)\n  }\n\n  public pre(text: string): string {\n    return text.replace(/</g, '&lt;')\n  }\n\n  public mounted() {\n    const editor = this.$refs.editor as HTMLElement\n    if (editor) {\n      editor.focus()\n    }\n    this.draw(this.furumaiData.code)\n  }\n\n  public furumai() {\n    this.changeUrl(this.furumaiData)\n  }\n\n  public download() {\n    const div = this.$refs.moments as HTMLElement\n    const cards = div.getElementsByClassName('svg-root')\n\n    for (let i = 0; i < cards.length; i++) {\n      const c = cards.item(i)\n      if (c) {\n        const blob = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>' + c.outerHTML\n        const url = window.URL.createObjectURL(new Blob([blob], {type: 'image/svg+xml'}))\n        const link = document.createElement('a')\n        link.href = url\n        link.download = `furumai-${i}.svg`\n        document.body.appendChild(link)\n        link.click()\n        document.body.removeChild(link)\n      }\n    }\n  }\n\n  private toSvgOrError(text: string): model.Group[] | Error {\n    try {\n      return vue(text, this.defaultConfig)\n    } catch (e) {\n      return e\n    }\n  }\n\n  private draw(text: string): void {\n    this.errors = ''\n    const animationConfig = {\n      ...this.furumaiData.animation,\n    }\n    let svgs = this.toSvgOrError(text)\n    if (svgs instanceof Error) {\n        const stack = svgs.stack || ''\n        this.errors = stack\n    } else {\n        if (!this.furumaiData.displayFirstSvg) {\n            const [first, ...rest] = svgs\n            svgs = rest.length > 0 ? rest : svgs\n        }\n        this.svgs = svgs\n    }\n  }\n}\n\nfunction vue(furumaiCode: string, defaults: string): Group[] | SyntaxError {\n  const story = parse(furumaiCode)\n  if (story instanceof Story) {\n    const defaultConfig = parse(defaults) as Story\n    const ret: Group[] = []\n    for (const moment of story.moments(defaultConfig.frames)) {\n      ret.push(moment.vue())\n    }\n    return ret\n  } else {\n    return story\n  }\n}\n","\n\n\n\n\n\nimport {Component, Vue} from 'vue-property-decorator'\n\n@Component\nexport default class Footer extends Vue {\n}\n","import {RoughSVG} from 'roughjs/bin/svg'\nimport {Elem} from '@/layout/engine/Elem'\n\nconst d = document\nlet rc: RoughSVG = new RoughSVG(document.createElementNS('http://www.w3.org/2000/svg', 'svg'))\n\nexport function convertSvg(root: SVGElement): SVGElement {\n  const width = root.getAttribute('width') || 0\n  const height = root.getAttribute('height') || 0\n  const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg')\n  svg.setAttribute('xmlns', 'http://www.w3.org/2000/svg')\n  svg.setAttribute('width', `${width}`)\n  svg.setAttribute('height', `${height}`)\n  svg.setAttribute('viewBox', `0 0 ${Number(width) * 2} ${Number(height) * 2}`)\n  rc = new RoughSVG(svg)\n\n  const cs = root.children\n  for (let i = 0; i < cs.length; i++) {\n    const c = cs.item(i)\n    if (c) {\n      svg.append(convert(c, convertIfPossible))\n    } else {\n      throw new Error('null')\n    }\n  }\n  return svg\n}\n\nfunction dict(elem: Element): { [key: string]: string } {\n  const ret: { [key: string]: string } = {}\n  const aa = elem.attributes\n  for (let i = 0; i < aa.length; i++) {\n    const a = aa.item(i)\n    if (a) {\n      const name = a.name.replace(/[-_](.)/g, (match, group1) => {\n        return group1.toUpperCase()\n      })\n      ret[name] = a.value\n      ret[a.name] = a.value\n    } else {\n      throw new Error('null')\n    }\n  }\n  return ret\n}\n\nfunction setAttributes(elem: Element, attributes: { [key: string]: string }): Element {\n  Object.keys(attributes).forEach((k) => elem.setAttribute(k, attributes[k]))\n  return elem\n}\n\nfunction convert(elem: Element, func: (elem: Element) => Element): Element {\n  const tag = elem.tagName\n  switch (tag) {\n    case 'g':\n      const g = setAttributes(\n        d.createElementNS('http://www.w3.org/2000/svg', 'g'),\n        dict(elem),\n      )\n      const gcs = elem.children\n      for (let i = 0; i < gcs.length; i++) {\n        const c = gcs.item(i)\n        if (c) {\n          g.append(convert(c, func))\n        } else {\n          throw new Error('null')\n        }\n      }\n      return g\n    case 'text':\n      const t = setAttributes(\n        d.createElementNS('http://www.w3.org/2000/svg', 'text'),\n        dict(elem),\n      )\n      const tcs = elem.children\n      for (let i = 0; i < tcs.length; i++) {\n        const ts = tcs.item(i)\n        if (ts) {\n          t.append(convert(ts, func))\n        } else {\n          throw new Error('null')\n        }\n      }\n      return t\n    case 'tspan':\n      const tspan = setAttributes(\n        d.createElementNS('http://www.w3.org/2000/svg', 'tspan'),\n        dict(elem),\n      )\n      tspan.textContent = elem.textContent\n      return tspan\n    case 'svg':\n      const svg = copy(elem)\n      const cs = elem.children\n      for (let i = 0; i < cs.length; i++) {\n        const c = cs.item(i)\n        if (c) {\n          svg.append(convert(c, copy))\n        } else {\n          throw new Error('null')\n        }\n      }\n      return svg\n    default:\n      return func(elem)\n  }\n}\n\nfunction convertIfPossible(elem: Element): Element {\n  if (elem.classList.contains('no_rough')) {\n    return copy(elem)\n  }\n  const wrap = setAttributes(\n    d.createElementNS('http://www.w3.org/2000/svg', 'g'),\n    dict(elem),\n  )\n  wrap.appendChild(convertElem(elem))\n  return wrap\n}\n\nfunction copy(elem: Element): Element {\n  return setAttributes(\n    d.createElementNS('http://www.w3.org/2000/svg', elem.tagName),\n    dict(elem),\n  )\n}\n\nfunction convertElem(elem: Element): Element {\n  const tag = elem.tagName\n  const attrs = dict(elem)\n  const options: { [key: string]: any } = {\n    hachureGap: 2.0,\n    fillWeight: 0.6,\n    roughness: 2.0,\n    ...attrs,\n  }\n  switch (tag) {\n    case 'path':\n      return rc.path(attrs.d, attrs)\n    case 'line':\n      return rc.line(\n        parseFloat(attrs.x1),\n        parseFloat(attrs.y1),\n        parseFloat(attrs.x1),\n        parseFloat(attrs.y2),\n        options,\n      )\n    case 'rect':\n      return rc.rectangle(\n        parseFloat(attrs.x),\n        parseFloat(attrs.y),\n        parseFloat(attrs.width),\n        parseFloat(attrs.height),\n        options,\n      )\n    case 'ellipse':\n      return rc.ellipse(\n        parseFloat(attrs.cx),\n        parseFloat(attrs.cy),\n        parseFloat(attrs.rx),\n        parseFloat(attrs.ry),\n        options,\n      )\n    case 'circle':\n      return rc.circle(\n        parseFloat(attrs.cx),\n        parseFloat(attrs.cy),\n        parseFloat(attrs.r),\n        options,\n      )\n    case 'polygon':\n      throw new Error('not implemented')\n    default:\n      throw new Error('not implemented')\n  }\n}\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GridArea.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GridArea.vue?vue&type=script&lang=ts&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('router-view')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=67ac188c&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Header'),_c('router-view'),_c('Footer')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"567eeb22-vue-loader-template\\\"}!../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLayout.vue?vue&type=template&id=239cc65c&\"","import { render, staticRenderFns } from \"./Arrow.vue?vue&type=template&id=aeddd61e&scoped=true&\"\nimport script from \"./Arrow.vue?vue&type=script&lang=ts&\"\nexport * from \"./Arrow.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"aeddd61e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cylinder.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cylinder.vue?vue&type=script&lang=ts&\"","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Group.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Group.vue?vue&type=script&lang=ts&\"","// Generated from Furumai.g4 by ANTLR 4.7.3-SNAPSHOT\n\n\nimport { ATN } from \"antlr4ts/atn/ATN\";\nimport { ATNDeserializer } from \"antlr4ts/atn/ATNDeserializer\";\nimport { FailedPredicateException } from \"antlr4ts/FailedPredicateException\";\nimport { NotNull } from \"antlr4ts/Decorators\";\nimport { NoViableAltException } from \"antlr4ts/NoViableAltException\";\nimport { Override } from \"antlr4ts/Decorators\";\nimport { Parser } from \"antlr4ts/Parser\";\nimport { ParserRuleContext } from \"antlr4ts/ParserRuleContext\";\nimport { ParserATNSimulator } from \"antlr4ts/atn/ParserATNSimulator\";\nimport { ParseTreeListener } from \"antlr4ts/tree/ParseTreeListener\";\nimport { ParseTreeVisitor } from \"antlr4ts/tree/ParseTreeVisitor\";\nimport { RecognitionException } from \"antlr4ts/RecognitionException\";\nimport { RuleContext } from \"antlr4ts/RuleContext\";\n//import { RuleVersion } from \"antlr4ts/RuleVersion\";\nimport { TerminalNode } from \"antlr4ts/tree/TerminalNode\";\nimport { Token } from \"antlr4ts/Token\";\nimport { TokenStream } from \"antlr4ts/TokenStream\";\nimport { Vocabulary } from \"antlr4ts/Vocabulary\";\nimport { VocabularyImpl } from \"antlr4ts/VocabularyImpl\";\n\nimport * as Utils from \"antlr4ts/misc/Utils\";\n\nimport { FurumaiListener } from \"./FurumaiListener\";\nimport { FurumaiVisitor } from \"./FurumaiVisitor\";\n\n\nexport class FurumaiParser extends Parser {\n\tpublic static readonly T__0 = 1;\n\tpublic static readonly T__1 = 2;\n\tpublic static readonly T__2 = 3;\n\tpublic static readonly T__3 = 4;\n\tpublic static readonly T__4 = 5;\n\tpublic static readonly T__5 = 6;\n\tpublic static readonly T__6 = 7;\n\tpublic static readonly T__7 = 8;\n\tpublic static readonly NODE = 9;\n\tpublic static readonly EDGE = 10;\n\tpublic static readonly GROUP = 11;\n\tpublic static readonly ZONE = 12;\n\tpublic static readonly HIDE = 13;\n\tpublic static readonly DELETE = 14;\n\tpublic static readonly CONFIG = 15;\n\tpublic static readonly EDGEOP = 16;\n\tpublic static readonly ID = 17;\n\tpublic static readonly SPACES = 18;\n\tpublic static readonly RULE_story = 0;\n\tpublic static readonly RULE_moment = 1;\n\tpublic static readonly RULE_stmt_list = 2;\n\tpublic static readonly RULE_stmt = 3;\n\tpublic static readonly RULE_attr_stmt = 4;\n\tpublic static readonly RULE_config = 5;\n\tpublic static readonly RULE_attr_list = 6;\n\tpublic static readonly RULE_assignment = 7;\n\tpublic static readonly RULE_edge_stmt = 8;\n\tpublic static readonly RULE_node_stmt = 9;\n\tpublic static readonly RULE_group = 10;\n\tpublic static readonly RULE_zone = 11;\n\tpublic static readonly RULE_hide = 12;\n\t// tslint:disable:no-trailing-whitespace\n\tpublic static readonly ruleNames: string[] = [\n\t\t\"story\", \"moment\", \"stmt_list\", \"stmt\", \"attr_stmt\", \"config\", \"attr_list\", \n\t\t\"assignment\", \"edge_stmt\", \"node_stmt\", \"group\", \"zone\", \"hide\",\n\t];\n\n\tprivate static readonly _LITERAL_NAMES: Array<string | undefined> = [\n\t\tundefined, \"'---'\", \"';'\", \"'='\", \"'['\", \"','\", \"']'\", \"'{'\", \"'}'\", \"'node'\", \n\t\t\"'edge'\", \"'group'\", \"'zone'\", \"'hide'\", \"'delete'\", \"'config'\",\n\t];\n\tprivate static readonly _SYMBOLIC_NAMES: Array<string | undefined> = [\n\t\tundefined, undefined, undefined, undefined, undefined, undefined, undefined, \n\t\tundefined, undefined, \"NODE\", \"EDGE\", \"GROUP\", \"ZONE\", \"HIDE\", \"DELETE\", \n\t\t\"CONFIG\", \"EDGEOP\", \"ID\", \"SPACES\",\n\t];\n\tpublic static readonly VOCABULARY: Vocabulary = new VocabularyImpl(FurumaiParser._LITERAL_NAMES, FurumaiParser._SYMBOLIC_NAMES, []);\n\n\t// @Override\n\t// @NotNull\n\tpublic get vocabulary(): Vocabulary {\n\t\treturn FurumaiParser.VOCABULARY;\n\t}\n\t// tslint:enable:no-trailing-whitespace\n\n\t// @Override\n\tpublic get grammarFileName(): string { return \"Furumai.g4\"; }\n\n\t// @Override\n\tpublic get ruleNames(): string[] { return FurumaiParser.ruleNames; }\n\n\t// @Override\n\tpublic get serializedATN(): string { return FurumaiParser._serializedATN; }\n\n\tconstructor(input: TokenStream) {\n\t\tsuper(input);\n\t\tthis._interp = new ParserATNSimulator(FurumaiParser._ATN, this);\n\t}\n\t// @RuleVersion(0)\n\tpublic story(): StoryContext {\n\t\tlet _localctx: StoryContext = new StoryContext(this._ctx, this.state);\n\t\tthis.enterRule(_localctx, 0, FurumaiParser.RULE_story);\n\t\tlet _la: number;\n\t\ttry {\n\t\t\tlet _alt: number;\n\t\t\tthis.enterOuterAlt(_localctx, 1);\n\t\t\t{\n\t\t\tthis.state = 26;\n\t\t\tthis.moment();\n\t\t\tthis.state = 31;\n\t\t\tthis._errHandler.sync(this);\n\t\t\t_alt = this.interpreter.adaptivePredict(this._input, 0, this._ctx);\n\t\t\twhile (_alt !== 2 && _alt !== ATN.INVALID_ALT_NUMBER) {\n\t\t\t\tif (_alt === 1) {\n\t\t\t\t\t{\n\t\t\t\t\t{\n\t\t\t\t\tthis.state = 27;\n\t\t\t\t\tthis.match(FurumaiParser.T__0);\n\t\t\t\t\tthis.state = 28;\n\t\t\t\t\tthis.moment();\n\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.state = 33;\n\t\t\t\tthis._errHandler.sync(this);\n\t\t\t\t_alt = this.interpreter.adaptivePredict(this._input, 0, this._ctx);\n\t\t\t}\n\t\t\tthis.state = 35;\n\t\t\tthis._errHandler.sync(this);\n\t\t\t_la = this._input.LA(1);\n\t\t\tif (_la === FurumaiParser.T__0) {\n\t\t\t\t{\n\t\t\t\tthis.state = 34;\n\t\t\t\tthis.match(FurumaiParser.T__0);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.state = 37;\n\t\t\tthis.match(FurumaiParser.EOF);\n\t\t\t}\n\t\t}\n\t\tcatch (re) {\n\t\t\tif (re instanceof RecognitionException) {\n\t\t\t\t_localctx.exception = re;\n\t\t\t\tthis._errHandler.reportError(this, re);\n\t\t\t\tthis._errHandler.recover(this, re);\n\t\t\t} else {\n\t\t\t\tthrow re;\n\t\t\t}\n\t\t}\n\t\tfinally {\n\t\t\tthis.exitRule();\n\t\t}\n\t\treturn _localctx;\n\t}\n\t// @RuleVersion(0)\n\tpublic moment(): MomentContext {\n\t\tlet _localctx: MomentContext = new MomentContext(this._ctx, this.state);\n\t\tthis.enterRule(_localctx, 2, FurumaiParser.RULE_moment);\n\t\ttry {\n\t\t\tthis.enterOuterAlt(_localctx, 1);\n\t\t\t{\n\t\t\tthis.state = 39;\n\t\t\tthis.stmt_list();\n\t\t\t}\n\t\t}\n\t\tcatch (re) {\n\t\t\tif (re instanceof RecognitionException) {\n\t\t\t\t_localctx.exception = re;\n\t\t\t\tthis._errHandler.reportError(this, re);\n\t\t\t\tthis._errHandler.recover(this, re);\n\t\t\t} else {\n\t\t\t\tthrow re;\n\t\t\t}\n\t\t}\n\t\tfinally {\n\t\t\tthis.exitRule();\n\t\t}\n\t\treturn _localctx;\n\t}\n\t// @RuleVersion(0)\n\tpublic stmt_list(): Stmt_listContext {\n\t\tlet _localctx: Stmt_listContext = new Stmt_listContext(this._ctx, this.state);\n\t\tthis.enterRule(_localctx, 4, FurumaiParser.RULE_stmt_list);\n\t\tlet _la: number;\n\t\ttry {\n\t\t\tlet _alt: number;\n\t\t\tthis.enterOuterAlt(_localctx, 1);\n\t\t\t{\n\t\t\tthis.state = 41;\n\t\t\tthis.stmt();\n\t\t\tthis.state = 46;\n\t\t\tthis._errHandler.sync(this);\n\t\t\t_alt = this.interpreter.adaptivePredict(this._input, 2, this._ctx);\n\t\t\twhile (_alt !== 2 && _alt !== ATN.INVALID_ALT_NUMBER) {\n\t\t\t\tif (_alt === 1) {\n\t\t\t\t\t{\n\t\t\t\t\t{\n\t\t\t\t\tthis.state = 42;\n\t\t\t\t\tthis.match(FurumaiParser.T__1);\n\t\t\t\t\tthis.state = 43;\n\t\t\t\t\tthis.stmt();\n\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.state = 48;\n\t\t\t\tthis._errHandler.sync(this);\n\t\t\t\t_alt = this.interpreter.adaptivePredict(this._input, 2, this._ctx);\n\t\t\t}\n\t\t\tthis.state = 50;\n\t\t\tthis._errHandler.sync(this);\n\t\t\t_la = this._input.LA(1);\n\t\t\tif (_la === FurumaiParser.T__1) {\n\t\t\t\t{\n\t\t\t\tthis.state = 49;\n\t\t\t\tthis.match(FurumaiParser.T__1);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t}\n\t\t}\n\t\tcatch (re) {\n\t\t\tif (re instanceof RecognitionException) {\n\t\t\t\t_localctx.exception = re;\n\t\t\t\tthis._errHandler.reportError(this, re);\n\t\t\t\tthis._errHandler.recover(this, re);\n\t\t\t} else {\n\t\t\t\tthrow re;\n\t\t\t}\n\t\t}\n\t\tfinally {\n\t\t\tthis.exitRule();\n\t\t}\n\t\treturn _localctx;\n\t}\n\t// @RuleVersion(0)\n\tpublic stmt(): StmtContext {\n\t\tlet _localctx: StmtContext = new StmtContext(this._ctx, this.state);\n\t\tthis.enterRule(_localctx, 6, FurumaiParser.RULE_stmt);\n\t\ttry {\n\t\t\tthis.state = 60;\n\t\t\tthis._errHandler.sync(this);\n\t\t\tswitch ( this.interpreter.adaptivePredict(this._input, 4, this._ctx) ) {\n\t\t\tcase 1:\n\t\t\t\tthis.enterOuterAlt(_localctx, 1);\n\t\t\t\t{\n\t\t\t\tthis.state = 52;\n\t\t\t\tthis.node_stmt();\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\tthis.enterOuterAlt(_localctx, 2);\n\t\t\t\t{\n\t\t\t\tthis.state = 53;\n\t\t\t\tthis.edge_stmt();\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\t\t\t\tthis.enterOuterAlt(_localctx, 3);\n\t\t\t\t{\n\t\t\t\tthis.state = 54;\n\t\t\t\tthis.attr_stmt();\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 4:\n\t\t\t\tthis.enterOuterAlt(_localctx, 4);\n\t\t\t\t{\n\t\t\t\tthis.state = 55;\n\t\t\t\tthis.assignment();\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 5:\n\t\t\t\tthis.enterOuterAlt(_localctx, 5);\n\t\t\t\t{\n\t\t\t\tthis.state = 56;\n\t\t\t\tthis.group();\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 6:\n\t\t\t\tthis.enterOuterAlt(_localctx, 6);\n\t\t\t\t{\n\t\t\t\tthis.state = 57;\n\t\t\t\tthis.zone();\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 7:\n\t\t\t\tthis.enterOuterAlt(_localctx, 7);\n\t\t\t\t{\n\t\t\t\tthis.state = 58;\n\t\t\t\tthis.hide();\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 8:\n\t\t\t\tthis.enterOuterAlt(_localctx, 8);\n\t\t\t\t{\n\t\t\t\tthis.state = 59;\n\t\t\t\tthis.config();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tcatch (re) {\n\t\t\tif (re instanceof RecognitionException) {\n\t\t\t\t_localctx.exception = re;\n\t\t\t\tthis._errHandler.reportError(this, re);\n\t\t\t\tthis._errHandler.recover(this, re);\n\t\t\t} else {\n\t\t\t\tthrow re;\n\t\t\t}\n\t\t}\n\t\tfinally {\n\t\t\tthis.exitRule();\n\t\t}\n\t\treturn _localctx;\n\t}\n\t// @RuleVersion(0)\n\tpublic attr_stmt(): Attr_stmtContext {\n\t\tlet _localctx: Attr_stmtContext = new Attr_stmtContext(this._ctx, this.state);\n\t\tthis.enterRule(_localctx, 8, FurumaiParser.RULE_attr_stmt);\n\t\tlet _la: number;\n\t\ttry {\n\t\t\tthis.enterOuterAlt(_localctx, 1);\n\t\t\t{\n\t\t\tthis.state = 62;\n\t\t\t_la = this._input.LA(1);\n\t\t\tif (!((((_la) & ~0x1F) === 0 && ((1 << _la) & ((1 << FurumaiParser.NODE) | (1 << FurumaiParser.EDGE) | (1 << FurumaiParser.GROUP) | (1 << FurumaiParser.ZONE))) !== 0))) {\n\t\t\tthis._errHandler.recoverInline(this);\n\t\t\t} else {\n\t\t\t\tif (this._input.LA(1) === Token.EOF) {\n\t\t\t\t\tthis.matchedEOF = true;\n\t\t\t\t}\n\n\t\t\t\tthis._errHandler.reportMatch(this);\n\t\t\t\tthis.consume();\n\t\t\t}\n\t\t\tthis.state = 63;\n\t\t\tthis.attr_list();\n\t\t\t}\n\t\t}\n\t\tcatch (re) {\n\t\t\tif (re instanceof RecognitionException) {\n\t\t\t\t_localctx.exception = re;\n\t\t\t\tthis._errHandler.reportError(this, re);\n\t\t\t\tthis._errHandler.recover(this, re);\n\t\t\t} else {\n\t\t\t\tthrow re;\n\t\t\t}\n\t\t}\n\t\tfinally {\n\t\t\tthis.exitRule();\n\t\t}\n\t\treturn _localctx;\n\t}\n\t// @RuleVersion(0)\n\tpublic config(): ConfigContext {\n\t\tlet _localctx: ConfigContext = new ConfigContext(this._ctx, this.state);\n\t\tthis.enterRule(_localctx, 10, FurumaiParser.RULE_config);\n\t\ttry {\n\t\t\tthis.state = 70;\n\t\t\tthis._errHandler.sync(this);\n\t\t\tswitch ( this.interpreter.adaptivePredict(this._input, 5, this._ctx) ) {\n\t\t\tcase 1:\n\t\t\t\tthis.enterOuterAlt(_localctx, 1);\n\t\t\t\t{\n\t\t\t\tthis.state = 65;\n\t\t\t\tthis.match(FurumaiParser.CONFIG);\n\t\t\t\tthis.state = 66;\n\t\t\t\tthis.attr_list();\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\tthis.enterOuterAlt(_localctx, 2);\n\t\t\t\t{\n\t\t\t\tthis.state = 67;\n\t\t\t\tthis.match(FurumaiParser.CONFIG);\n\t\t\t\tthis.state = 68;\n\t\t\t\tthis.match(FurumaiParser.T__2);\n\t\t\t\tthis.state = 69;\n\t\t\t\tthis.match(FurumaiParser.ID);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tcatch (re) {\n\t\t\tif (re instanceof RecognitionException) {\n\t\t\t\t_localctx.exception = re;\n\t\t\t\tthis._errHandler.reportError(this, re);\n\t\t\t\tthis._errHandler.recover(this, re);\n\t\t\t} else {\n\t\t\t\tthrow re;\n\t\t\t}\n\t\t}\n\t\tfinally {\n\t\t\tthis.exitRule();\n\t\t}\n\t\treturn _localctx;\n\t}\n\t// @RuleVersion(0)\n\tpublic attr_list(): Attr_listContext {\n\t\tlet _localctx: Attr_listContext = new Attr_listContext(this._ctx, this.state);\n\t\tthis.enterRule(_localctx, 12, FurumaiParser.RULE_attr_list);\n\t\tlet _la: number;\n\t\ttry {\n\t\t\tthis.enterOuterAlt(_localctx, 1);\n\t\t\t{\n\t\t\tthis.state = 72;\n\t\t\tthis.match(FurumaiParser.T__3);\n\t\t\tthis.state = 73;\n\t\t\tthis.assignment();\n\t\t\tthis.state = 80;\n\t\t\tthis._errHandler.sync(this);\n\t\t\t_la = this._input.LA(1);\n\t\t\twhile ((((_la) & ~0x1F) === 0 && ((1 << _la) & ((1 << FurumaiParser.T__1) | (1 << FurumaiParser.T__4) | (1 << FurumaiParser.ID))) !== 0)) {\n\t\t\t\t{\n\t\t\t\t{\n\t\t\t\tthis.state = 75;\n\t\t\t\tthis._errHandler.sync(this);\n\t\t\t\t_la = this._input.LA(1);\n\t\t\t\tif (_la === FurumaiParser.T__1 || _la === FurumaiParser.T__4) {\n\t\t\t\t\t{\n\t\t\t\t\tthis.state = 74;\n\t\t\t\t\t_la = this._input.LA(1);\n\t\t\t\t\tif (!(_la === FurumaiParser.T__1 || _la === FurumaiParser.T__4)) {\n\t\t\t\t\tthis._errHandler.recoverInline(this);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (this._input.LA(1) === Token.EOF) {\n\t\t\t\t\t\t\tthis.matchedEOF = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis._errHandler.reportMatch(this);\n\t\t\t\t\t\tthis.consume();\n\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.state = 77;\n\t\t\t\tthis.assignment();\n\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.state = 82;\n\t\t\t\tthis._errHandler.sync(this);\n\t\t\t\t_la = this._input.LA(1);\n\t\t\t}\n\t\t\tthis.state = 83;\n\t\t\tthis.match(FurumaiParser.T__5);\n\t\t\t}\n\t\t}\n\t\tcatch (re) {\n\t\t\tif (re instanceof RecognitionException) {\n\t\t\t\t_localctx.exception = re;\n\t\t\t\tthis._errHandler.reportError(this, re);\n\t\t\t\tthis._errHandler.recover(this, re);\n\t\t\t} else {\n\t\t\t\tthrow re;\n\t\t\t}\n\t\t}\n\t\tfinally {\n\t\t\tthis.exitRule();\n\t\t}\n\t\treturn _localctx;\n\t}\n\t// @RuleVersion(0)\n\tpublic assignment(): AssignmentContext {\n\t\tlet _localctx: AssignmentContext = new AssignmentContext(this._ctx, this.state);\n\t\tthis.enterRule(_localctx, 14, FurumaiParser.RULE_assignment);\n\t\ttry {\n\t\t\tthis.enterOuterAlt(_localctx, 1);\n\t\t\t{\n\t\t\tthis.state = 85;\n\t\t\tthis.match(FurumaiParser.ID);\n\t\t\tthis.state = 86;\n\t\t\tthis.match(FurumaiParser.T__2);\n\t\t\tthis.state = 87;\n\t\t\tthis.match(FurumaiParser.ID);\n\t\t\t}\n\t\t}\n\t\tcatch (re) {\n\t\t\tif (re instanceof RecognitionException) {\n\t\t\t\t_localctx.exception = re;\n\t\t\t\tthis._errHandler.reportError(this, re);\n\t\t\t\tthis._errHandler.recover(this, re);\n\t\t\t} else {\n\t\t\t\tthrow re;\n\t\t\t}\n\t\t}\n\t\tfinally {\n\t\t\tthis.exitRule();\n\t\t}\n\t\treturn _localctx;\n\t}\n\t// @RuleVersion(0)\n\tpublic edge_stmt(): Edge_stmtContext {\n\t\tlet _localctx: Edge_stmtContext = new Edge_stmtContext(this._ctx, this.state);\n\t\tthis.enterRule(_localctx, 16, FurumaiParser.RULE_edge_stmt);\n\t\tlet _la: number;\n\t\ttry {\n\t\t\tthis.enterOuterAlt(_localctx, 1);\n\t\t\t{\n\t\t\tthis.state = 89;\n\t\t\tthis.match(FurumaiParser.ID);\n\t\t\tthis.state = 90;\n\t\t\tthis.match(FurumaiParser.EDGEOP);\n\t\t\tthis.state = 91;\n\t\t\tthis.match(FurumaiParser.ID);\n\t\t\tthis.state = 93;\n\t\t\tthis._errHandler.sync(this);\n\t\t\t_la = this._input.LA(1);\n\t\t\tif (_la === FurumaiParser.T__3) {\n\t\t\t\t{\n\t\t\t\tthis.state = 92;\n\t\t\t\tthis.attr_list();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t}\n\t\t}\n\t\tcatch (re) {\n\t\t\tif (re instanceof RecognitionException) {\n\t\t\t\t_localctx.exception = re;\n\t\t\t\tthis._errHandler.reportError(this, re);\n\t\t\t\tthis._errHandler.recover(this, re);\n\t\t\t} else {\n\t\t\t\tthrow re;\n\t\t\t}\n\t\t}\n\t\tfinally {\n\t\t\tthis.exitRule();\n\t\t}\n\t\treturn _localctx;\n\t}\n\t// @RuleVersion(0)\n\tpublic node_stmt(): Node_stmtContext {\n\t\tlet _localctx: Node_stmtContext = new Node_stmtContext(this._ctx, this.state);\n\t\tthis.enterRule(_localctx, 18, FurumaiParser.RULE_node_stmt);\n\t\tlet _la: number;\n\t\ttry {\n\t\t\tthis.enterOuterAlt(_localctx, 1);\n\t\t\t{\n\t\t\tthis.state = 95;\n\t\t\tthis.match(FurumaiParser.ID);\n\t\t\tthis.state = 97;\n\t\t\tthis._errHandler.sync(this);\n\t\t\t_la = this._input.LA(1);\n\t\t\tif (_la === FurumaiParser.T__3) {\n\t\t\t\t{\n\t\t\t\tthis.state = 96;\n\t\t\t\tthis.attr_list();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t}\n\t\t}\n\t\tcatch (re) {\n\t\t\tif (re instanceof RecognitionException) {\n\t\t\t\t_localctx.exception = re;\n\t\t\t\tthis._errHandler.reportError(this, re);\n\t\t\t\tthis._errHandler.recover(this, re);\n\t\t\t} else {\n\t\t\t\tthrow re;\n\t\t\t}\n\t\t}\n\t\tfinally {\n\t\t\tthis.exitRule();\n\t\t}\n\t\treturn _localctx;\n\t}\n\t// @RuleVersion(0)\n\tpublic group(): GroupContext {\n\t\tlet _localctx: GroupContext = new GroupContext(this._ctx, this.state);\n\t\tthis.enterRule(_localctx, 20, FurumaiParser.RULE_group);\n\t\ttry {\n\t\t\tthis.enterOuterAlt(_localctx, 1);\n\t\t\t{\n\t\t\tthis.state = 99;\n\t\t\tthis.match(FurumaiParser.GROUP);\n\t\t\tthis.state = 100;\n\t\t\tthis.match(FurumaiParser.ID);\n\t\t\tthis.state = 101;\n\t\t\tthis.match(FurumaiParser.T__6);\n\t\t\tthis.state = 102;\n\t\t\tthis.stmt_list();\n\t\t\tthis.state = 103;\n\t\t\tthis.match(FurumaiParser.T__7);\n\t\t\t}\n\t\t}\n\t\tcatch (re) {\n\t\t\tif (re instanceof RecognitionException) {\n\t\t\t\t_localctx.exception = re;\n\t\t\t\tthis._errHandler.reportError(this, re);\n\t\t\t\tthis._errHandler.recover(this, re);\n\t\t\t} else {\n\t\t\t\tthrow re;\n\t\t\t}\n\t\t}\n\t\tfinally {\n\t\t\tthis.exitRule();\n\t\t}\n\t\treturn _localctx;\n\t}\n\t// @RuleVersion(0)\n\tpublic zone(): ZoneContext {\n\t\tlet _localctx: ZoneContext = new ZoneContext(this._ctx, this.state);\n\t\tthis.enterRule(_localctx, 22, FurumaiParser.RULE_zone);\n\t\ttry {\n\t\t\tthis.enterOuterAlt(_localctx, 1);\n\t\t\t{\n\t\t\tthis.state = 105;\n\t\t\tthis.match(FurumaiParser.ZONE);\n\t\t\tthis.state = 106;\n\t\t\tthis.match(FurumaiParser.ID);\n\t\t\tthis.state = 107;\n\t\t\tthis.match(FurumaiParser.T__6);\n\t\t\tthis.state = 108;\n\t\t\tthis.stmt_list();\n\t\t\tthis.state = 109;\n\t\t\tthis.match(FurumaiParser.T__7);\n\t\t\t}\n\t\t}\n\t\tcatch (re) {\n\t\t\tif (re instanceof RecognitionException) {\n\t\t\t\t_localctx.exception = re;\n\t\t\t\tthis._errHandler.reportError(this, re);\n\t\t\t\tthis._errHandler.recover(this, re);\n\t\t\t} else {\n\t\t\t\tthrow re;\n\t\t\t}\n\t\t}\n\t\tfinally {\n\t\t\tthis.exitRule();\n\t\t}\n\t\treturn _localctx;\n\t}\n\t// @RuleVersion(0)\n\tpublic hide(): HideContext {\n\t\tlet _localctx: HideContext = new HideContext(this._ctx, this.state);\n\t\tthis.enterRule(_localctx, 24, FurumaiParser.RULE_hide);\n\t\tlet _la: number;\n\t\ttry {\n\t\t\tthis.enterOuterAlt(_localctx, 1);\n\t\t\t{\n\t\t\tthis.state = 111;\n\t\t\t_la = this._input.LA(1);\n\t\t\tif (!(_la === FurumaiParser.HIDE || _la === FurumaiParser.DELETE)) {\n\t\t\tthis._errHandler.recoverInline(this);\n\t\t\t} else {\n\t\t\t\tif (this._input.LA(1) === Token.EOF) {\n\t\t\t\t\tthis.matchedEOF = true;\n\t\t\t\t}\n\n\t\t\t\tthis._errHandler.reportMatch(this);\n\t\t\t\tthis.consume();\n\t\t\t}\n\t\t\tthis.state = 116;\n\t\t\tthis._errHandler.sync(this);\n\t\t\tswitch ( this.interpreter.adaptivePredict(this._input, 10, this._ctx) ) {\n\t\t\tcase 1:\n\t\t\t\t{\n\t\t\t\tthis.state = 112;\n\t\t\t\tthis.match(FurumaiParser.ID);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\t{\n\t\t\t\tthis.state = 113;\n\t\t\t\tthis.match(FurumaiParser.ID);\n\t\t\t\tthis.state = 114;\n\t\t\t\tthis.match(FurumaiParser.EDGEOP);\n\t\t\t\tthis.state = 115;\n\t\t\t\tthis.match(FurumaiParser.ID);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcatch (re) {\n\t\t\tif (re instanceof RecognitionException) {\n\t\t\t\t_localctx.exception = re;\n\t\t\t\tthis._errHandler.reportError(this, re);\n\t\t\t\tthis._errHandler.recover(this, re);\n\t\t\t} else {\n\t\t\t\tthrow re;\n\t\t\t}\n\t\t}\n\t\tfinally {\n\t\t\tthis.exitRule();\n\t\t}\n\t\treturn _localctx;\n\t}\n\n\tpublic static readonly _serializedATN: string =\n\t\t\"\\x03\\uC91D\\uCABA\\u058D\\uAFBA\\u4F53\\u0607\\uEA8B\\uC241\\x03\\x14y\\x04\\x02\" +\n\t\t\"\\t\\x02\\x04\\x03\\t\\x03\\x04\\x04\\t\\x04\\x04\\x05\\t\\x05\\x04\\x06\\t\\x06\\x04\\x07\" +\n\t\t\"\\t\\x07\\x04\\b\\t\\b\\x04\\t\\t\\t\\x04\\n\\t\\n\\x04\\v\\t\\v\\x04\\f\\t\\f\\x04\\r\\t\\r\\x04\" +\n\t\t\"\\x0E\\t\\x0E\\x03\\x02\\x03\\x02\\x03\\x02\\x07\\x02 \\n\\x02\\f\\x02\\x0E\\x02#\\v\\x02\" +\n\t\t\"\\x03\\x02\\x05\\x02&\\n\\x02\\x03\\x02\\x03\\x02\\x03\\x03\\x03\\x03\\x03\\x04\\x03\\x04\" +\n\t\t\"\\x03\\x04\\x07\\x04/\\n\\x04\\f\\x04\\x0E\\x042\\v\\x04\\x03\\x04\\x05\\x045\\n\\x04\\x03\" +\n\t\t\"\\x05\\x03\\x05\\x03\\x05\\x03\\x05\\x03\\x05\\x03\\x05\\x03\\x05\\x03\\x05\\x05\\x05?\" +\n\t\t\"\\n\\x05\\x03\\x06\\x03\\x06\\x03\\x06\\x03\\x07\\x03\\x07\\x03\\x07\\x03\\x07\\x03\\x07\" +\n\t\t\"\\x05\\x07I\\n\\x07\\x03\\b\\x03\\b\\x03\\b\\x05\\bN\\n\\b\\x03\\b\\x07\\bQ\\n\\b\\f\\b\\x0E\" +\n\t\t\"\\bT\\v\\b\\x03\\b\\x03\\b\\x03\\t\\x03\\t\\x03\\t\\x03\\t\\x03\\n\\x03\\n\\x03\\n\\x03\\n\\x05\" +\n\t\t\"\\n`\\n\\n\\x03\\v\\x03\\v\\x05\\vd\\n\\v\\x03\\f\\x03\\f\\x03\\f\\x03\\f\\x03\\f\\x03\\f\\x03\" +\n\t\t\"\\r\\x03\\r\\x03\\r\\x03\\r\\x03\\r\\x03\\r\\x03\\x0E\\x03\\x0E\\x03\\x0E\\x03\\x0E\\x03\\x0E\" +\n\t\t\"\\x05\\x0Ew\\n\\x0E\\x03\\x0E\\x02\\x02\\x02\\x0F\\x02\\x02\\x04\\x02\\x06\\x02\\b\\x02\" +\n\t\t\"\\n\\x02\\f\\x02\\x0E\\x02\\x10\\x02\\x12\\x02\\x14\\x02\\x16\\x02\\x18\\x02\\x1A\\x02\\x02\" +\n\t\t\"\\x05\\x03\\x02\\v\\x0E\\x04\\x02\\x04\\x04\\x07\\x07\\x03\\x02\\x0F\\x10\\x02|\\x02\\x1C\" +\n\t\t\"\\x03\\x02\\x02\\x02\\x04)\\x03\\x02\\x02\\x02\\x06+\\x03\\x02\\x02\\x02\\b>\\x03\\x02\" +\n\t\t\"\\x02\\x02\\n@\\x03\\x02\\x02\\x02\\fH\\x03\\x02\\x02\\x02\\x0EJ\\x03\\x02\\x02\\x02\\x10\" +\n\t\t\"W\\x03\\x02\\x02\\x02\\x12[\\x03\\x02\\x02\\x02\\x14a\\x03\\x02\\x02\\x02\\x16e\\x03\\x02\" +\n\t\t\"\\x02\\x02\\x18k\\x03\\x02\\x02\\x02\\x1Aq\\x03\\x02\\x02\\x02\\x1C!\\x05\\x04\\x03\\x02\" +\n\t\t\"\\x1D\\x1E\\x07\\x03\\x02\\x02\\x1E \\x05\\x04\\x03\\x02\\x1F\\x1D\\x03\\x02\\x02\\x02\" +\n\t\t\" #\\x03\\x02\\x02\\x02!\\x1F\\x03\\x02\\x02\\x02!\\\"\\x03\\x02\\x02\\x02\\\"%\\x03\\x02\" +\n\t\t\"\\x02\\x02#!\\x03\\x02\\x02\\x02$&\\x07\\x03\\x02\\x02%$\\x03\\x02\\x02\\x02%&\\x03\\x02\" +\n\t\t\"\\x02\\x02&\\'\\x03\\x02\\x02\\x02\\'(\\x07\\x02\\x02\\x03(\\x03\\x03\\x02\\x02\\x02)*\" +\n\t\t\"\\x05\\x06\\x04\\x02*\\x05\\x03\\x02\\x02\\x02+0\\x05\\b\\x05\\x02,-\\x07\\x04\\x02\\x02\" +\n\t\t\"-/\\x05\\b\\x05\\x02.,\\x03\\x02\\x02\\x02/2\\x03\\x02\\x02\\x020.\\x03\\x02\\x02\\x02\" +\n\t\t\"01\\x03\\x02\\x02\\x0214\\x03\\x02\\x02\\x0220\\x03\\x02\\x02\\x0235\\x07\\x04\\x02\\x02\" +\n\t\t\"43\\x03\\x02\\x02\\x0245\\x03\\x02\\x02\\x025\\x07\\x03\\x02\\x02\\x026?\\x05\\x14\\v\" +\n\t\t\"\\x027?\\x05\\x12\\n\\x028?\\x05\\n\\x06\\x029?\\x05\\x10\\t\\x02:?\\x05\\x16\\f\\x02;\" +\n\t\t\"?\\x05\\x18\\r\\x02<?\\x05\\x1A\\x0E\\x02=?\\x05\\f\\x07\\x02>6\\x03\\x02\\x02\\x02>7\" +\n\t\t\"\\x03\\x02\\x02\\x02>8\\x03\\x02\\x02\\x02>9\\x03\\x02\\x02\\x02>:\\x03\\x02\\x02\\x02\" +\n\t\t\">;\\x03\\x02\\x02\\x02><\\x03\\x02\\x02\\x02>=\\x03\\x02\\x02\\x02?\\t\\x03\\x02\\x02\" +\n\t\t\"\\x02@A\\t\\x02\\x02\\x02AB\\x05\\x0E\\b\\x02B\\v\\x03\\x02\\x02\\x02CD\\x07\\x11\\x02\" +\n\t\t\"\\x02DI\\x05\\x0E\\b\\x02EF\\x07\\x11\\x02\\x02FG\\x07\\x05\\x02\\x02GI\\x07\\x13\\x02\" +\n\t\t\"\\x02HC\\x03\\x02\\x02\\x02HE\\x03\\x02\\x02\\x02I\\r\\x03\\x02\\x02\\x02JK\\x07\\x06\" +\n\t\t\"\\x02\\x02KR\\x05\\x10\\t\\x02LN\\t\\x03\\x02\\x02ML\\x03\\x02\\x02\\x02MN\\x03\\x02\\x02\" +\n\t\t\"\\x02NO\\x03\\x02\\x02\\x02OQ\\x05\\x10\\t\\x02PM\\x03\\x02\\x02\\x02QT\\x03\\x02\\x02\" +\n\t\t\"\\x02RP\\x03\\x02\\x02\\x02RS\\x03\\x02\\x02\\x02SU\\x03\\x02\\x02\\x02TR\\x03\\x02\\x02\" +\n\t\t\"\\x02UV\\x07\\b\\x02\\x02V\\x0F\\x03\\x02\\x02\\x02WX\\x07\\x13\\x02\\x02XY\\x07\\x05\" +\n\t\t\"\\x02\\x02YZ\\x07\\x13\\x02\\x02Z\\x11\\x03\\x02\\x02\\x02[\\\\\\x07\\x13\\x02\\x02\\\\]\" +\n\t\t\"\\x07\\x12\\x02\\x02]_\\x07\\x13\\x02\\x02^`\\x05\\x0E\\b\\x02_^\\x03\\x02\\x02\\x02_\" +\n\t\t\"`\\x03\\x02\\x02\\x02`\\x13\\x03\\x02\\x02\\x02ac\\x07\\x13\\x02\\x02bd\\x05\\x0E\\b\\x02\" +\n\t\t\"cb\\x03\\x02\\x02\\x02cd\\x03\\x02\\x02\\x02d\\x15\\x03\\x02\\x02\\x02ef\\x07\\r\\x02\" +\n\t\t\"\\x02fg\\x07\\x13\\x02\\x02gh\\x07\\t\\x02\\x02hi\\x05\\x06\\x04\\x02ij\\x07\\n\\x02\\x02\" +\n\t\t\"j\\x17\\x03\\x02\\x02\\x02kl\\x07\\x0E\\x02\\x02lm\\x07\\x13\\x02\\x02mn\\x07\\t\\x02\" +\n\t\t\"\\x02no\\x05\\x06\\x04\\x02op\\x07\\n\\x02\\x02p\\x19\\x03\\x02\\x02\\x02qv\\t\\x04\\x02\" +\n\t\t\"\\x02rw\\x07\\x13\\x02\\x02st\\x07\\x13\\x02\\x02tu\\x07\\x12\\x02\\x02uw\\x07\\x13\\x02\" +\n\t\t\"\\x02vr\\x03\\x02\\x02\\x02vs\\x03\\x02\\x02\\x02w\\x1B\\x03\\x02\\x02\\x02\\r!%04>H\" +\n\t\t\"MR_cv\";\n\tpublic static __ATN: ATN;\n\tpublic static get _ATN(): ATN {\n\t\tif (!FurumaiParser.__ATN) {\n\t\t\tFurumaiParser.__ATN = new ATNDeserializer().deserialize(Utils.toCharArray(FurumaiParser._serializedATN));\n\t\t}\n\n\t\treturn FurumaiParser.__ATN;\n\t}\n\n}\n\nexport class StoryContext extends ParserRuleContext {\n\tpublic moment(): MomentContext[];\n\tpublic moment(i: number): MomentContext;\n\tpublic moment(i?: number): MomentContext | MomentContext[] {\n\t\tif (i === undefined) {\n\t\t\treturn this.getRuleContexts(MomentContext);\n\t\t} else {\n\t\t\treturn this.getRuleContext(i, MomentContext);\n\t\t}\n\t}\n\tpublic EOF(): TerminalNode { return this.getToken(FurumaiParser.EOF, 0); }\n\tconstructor(parent: ParserRuleContext | undefined, invokingState: number) {\n\t\tsuper(parent, invokingState);\n\t}\n\t// @Override\n\tpublic get ruleIndex(): number { return FurumaiParser.RULE_story; }\n\t// @Override\n\tpublic enterRule(listener: FurumaiListener): void {\n\t\tif (listener.enterStory) {\n\t\t\tlistener.enterStory(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic exitRule(listener: FurumaiListener): void {\n\t\tif (listener.exitStory) {\n\t\t\tlistener.exitStory(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic accept<Result>(visitor: FurumaiVisitor<Result>): Result {\n\t\tif (visitor.visitStory) {\n\t\t\treturn visitor.visitStory(this);\n\t\t} else {\n\t\t\treturn visitor.visitChildren(this);\n\t\t}\n\t}\n}\n\n\nexport class MomentContext extends ParserRuleContext {\n\tpublic stmt_list(): Stmt_listContext {\n\t\treturn this.getRuleContext(0, Stmt_listContext);\n\t}\n\tconstructor(parent: ParserRuleContext | undefined, invokingState: number) {\n\t\tsuper(parent, invokingState);\n\t}\n\t// @Override\n\tpublic get ruleIndex(): number { return FurumaiParser.RULE_moment; }\n\t// @Override\n\tpublic enterRule(listener: FurumaiListener): void {\n\t\tif (listener.enterMoment) {\n\t\t\tlistener.enterMoment(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic exitRule(listener: FurumaiListener): void {\n\t\tif (listener.exitMoment) {\n\t\t\tlistener.exitMoment(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic accept<Result>(visitor: FurumaiVisitor<Result>): Result {\n\t\tif (visitor.visitMoment) {\n\t\t\treturn visitor.visitMoment(this);\n\t\t} else {\n\t\t\treturn visitor.visitChildren(this);\n\t\t}\n\t}\n}\n\n\nexport class Stmt_listContext extends ParserRuleContext {\n\tpublic stmt(): StmtContext[];\n\tpublic stmt(i: number): StmtContext;\n\tpublic stmt(i?: number): StmtContext | StmtContext[] {\n\t\tif (i === undefined) {\n\t\t\treturn this.getRuleContexts(StmtContext);\n\t\t} else {\n\t\t\treturn this.getRuleContext(i, StmtContext);\n\t\t}\n\t}\n\tconstructor(parent: ParserRuleContext | undefined, invokingState: number) {\n\t\tsuper(parent, invokingState);\n\t}\n\t// @Override\n\tpublic get ruleIndex(): number { return FurumaiParser.RULE_stmt_list; }\n\t// @Override\n\tpublic enterRule(listener: FurumaiListener): void {\n\t\tif (listener.enterStmt_list) {\n\t\t\tlistener.enterStmt_list(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic exitRule(listener: FurumaiListener): void {\n\t\tif (listener.exitStmt_list) {\n\t\t\tlistener.exitStmt_list(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic accept<Result>(visitor: FurumaiVisitor<Result>): Result {\n\t\tif (visitor.visitStmt_list) {\n\t\t\treturn visitor.visitStmt_list(this);\n\t\t} else {\n\t\t\treturn visitor.visitChildren(this);\n\t\t}\n\t}\n}\n\n\nexport class StmtContext extends ParserRuleContext {\n\tpublic node_stmt(): Node_stmtContext | undefined {\n\t\treturn this.tryGetRuleContext(0, Node_stmtContext);\n\t}\n\tpublic edge_stmt(): Edge_stmtContext | undefined {\n\t\treturn this.tryGetRuleContext(0, Edge_stmtContext);\n\t}\n\tpublic attr_stmt(): Attr_stmtContext | undefined {\n\t\treturn this.tryGetRuleContext(0, Attr_stmtContext);\n\t}\n\tpublic assignment(): AssignmentContext | undefined {\n\t\treturn this.tryGetRuleContext(0, AssignmentContext);\n\t}\n\tpublic group(): GroupContext | undefined {\n\t\treturn this.tryGetRuleContext(0, GroupContext);\n\t}\n\tpublic zone(): ZoneContext | undefined {\n\t\treturn this.tryGetRuleContext(0, ZoneContext);\n\t}\n\tpublic hide(): HideContext | undefined {\n\t\treturn this.tryGetRuleContext(0, HideContext);\n\t}\n\tpublic config(): ConfigContext | undefined {\n\t\treturn this.tryGetRuleContext(0, ConfigContext);\n\t}\n\tconstructor(parent: ParserRuleContext | undefined, invokingState: number) {\n\t\tsuper(parent, invokingState);\n\t}\n\t// @Override\n\tpublic get ruleIndex(): number { return FurumaiParser.RULE_stmt; }\n\t// @Override\n\tpublic enterRule(listener: FurumaiListener): void {\n\t\tif (listener.enterStmt) {\n\t\t\tlistener.enterStmt(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic exitRule(listener: FurumaiListener): void {\n\t\tif (listener.exitStmt) {\n\t\t\tlistener.exitStmt(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic accept<Result>(visitor: FurumaiVisitor<Result>): Result {\n\t\tif (visitor.visitStmt) {\n\t\t\treturn visitor.visitStmt(this);\n\t\t} else {\n\t\t\treturn visitor.visitChildren(this);\n\t\t}\n\t}\n}\n\n\nexport class Attr_stmtContext extends ParserRuleContext {\n\tpublic attr_list(): Attr_listContext {\n\t\treturn this.getRuleContext(0, Attr_listContext);\n\t}\n\tpublic GROUP(): TerminalNode | undefined { return this.tryGetToken(FurumaiParser.GROUP, 0); }\n\tpublic NODE(): TerminalNode | undefined { return this.tryGetToken(FurumaiParser.NODE, 0); }\n\tpublic EDGE(): TerminalNode | undefined { return this.tryGetToken(FurumaiParser.EDGE, 0); }\n\tpublic ZONE(): TerminalNode | undefined { return this.tryGetToken(FurumaiParser.ZONE, 0); }\n\tconstructor(parent: ParserRuleContext | undefined, invokingState: number) {\n\t\tsuper(parent, invokingState);\n\t}\n\t// @Override\n\tpublic get ruleIndex(): number { return FurumaiParser.RULE_attr_stmt; }\n\t// @Override\n\tpublic enterRule(listener: FurumaiListener): void {\n\t\tif (listener.enterAttr_stmt) {\n\t\t\tlistener.enterAttr_stmt(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic exitRule(listener: FurumaiListener): void {\n\t\tif (listener.exitAttr_stmt) {\n\t\t\tlistener.exitAttr_stmt(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic accept<Result>(visitor: FurumaiVisitor<Result>): Result {\n\t\tif (visitor.visitAttr_stmt) {\n\t\t\treturn visitor.visitAttr_stmt(this);\n\t\t} else {\n\t\t\treturn visitor.visitChildren(this);\n\t\t}\n\t}\n}\n\n\nexport class ConfigContext extends ParserRuleContext {\n\tpublic CONFIG(): TerminalNode { return this.getToken(FurumaiParser.CONFIG, 0); }\n\tpublic attr_list(): Attr_listContext | undefined {\n\t\treturn this.tryGetRuleContext(0, Attr_listContext);\n\t}\n\tpublic ID(): TerminalNode | undefined { return this.tryGetToken(FurumaiParser.ID, 0); }\n\tconstructor(parent: ParserRuleContext | undefined, invokingState: number) {\n\t\tsuper(parent, invokingState);\n\t}\n\t// @Override\n\tpublic get ruleIndex(): number { return FurumaiParser.RULE_config; }\n\t// @Override\n\tpublic enterRule(listener: FurumaiListener): void {\n\t\tif (listener.enterConfig) {\n\t\t\tlistener.enterConfig(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic exitRule(listener: FurumaiListener): void {\n\t\tif (listener.exitConfig) {\n\t\t\tlistener.exitConfig(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic accept<Result>(visitor: FurumaiVisitor<Result>): Result {\n\t\tif (visitor.visitConfig) {\n\t\t\treturn visitor.visitConfig(this);\n\t\t} else {\n\t\t\treturn visitor.visitChildren(this);\n\t\t}\n\t}\n}\n\n\nexport class Attr_listContext extends ParserRuleContext {\n\tpublic assignment(): AssignmentContext[];\n\tpublic assignment(i: number): AssignmentContext;\n\tpublic assignment(i?: number): AssignmentContext | AssignmentContext[] {\n\t\tif (i === undefined) {\n\t\t\treturn this.getRuleContexts(AssignmentContext);\n\t\t} else {\n\t\t\treturn this.getRuleContext(i, AssignmentContext);\n\t\t}\n\t}\n\tconstructor(parent: ParserRuleContext | undefined, invokingState: number) {\n\t\tsuper(parent, invokingState);\n\t}\n\t// @Override\n\tpublic get ruleIndex(): number { return FurumaiParser.RULE_attr_list; }\n\t// @Override\n\tpublic enterRule(listener: FurumaiListener): void {\n\t\tif (listener.enterAttr_list) {\n\t\t\tlistener.enterAttr_list(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic exitRule(listener: FurumaiListener): void {\n\t\tif (listener.exitAttr_list) {\n\t\t\tlistener.exitAttr_list(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic accept<Result>(visitor: FurumaiVisitor<Result>): Result {\n\t\tif (visitor.visitAttr_list) {\n\t\t\treturn visitor.visitAttr_list(this);\n\t\t} else {\n\t\t\treturn visitor.visitChildren(this);\n\t\t}\n\t}\n}\n\n\nexport class AssignmentContext extends ParserRuleContext {\n\tpublic ID(): TerminalNode[];\n\tpublic ID(i: number): TerminalNode;\n\tpublic ID(i?: number): TerminalNode | TerminalNode[] {\n\t\tif (i === undefined) {\n\t\t\treturn this.getTokens(FurumaiParser.ID);\n\t\t} else {\n\t\t\treturn this.getToken(FurumaiParser.ID, i);\n\t\t}\n\t}\n\tconstructor(parent: ParserRuleContext | undefined, invokingState: number) {\n\t\tsuper(parent, invokingState);\n\t}\n\t// @Override\n\tpublic get ruleIndex(): number { return FurumaiParser.RULE_assignment; }\n\t// @Override\n\tpublic enterRule(listener: FurumaiListener): void {\n\t\tif (listener.enterAssignment) {\n\t\t\tlistener.enterAssignment(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic exitRule(listener: FurumaiListener): void {\n\t\tif (listener.exitAssignment) {\n\t\t\tlistener.exitAssignment(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic accept<Result>(visitor: FurumaiVisitor<Result>): Result {\n\t\tif (visitor.visitAssignment) {\n\t\t\treturn visitor.visitAssignment(this);\n\t\t} else {\n\t\t\treturn visitor.visitChildren(this);\n\t\t}\n\t}\n}\n\n\nexport class Edge_stmtContext extends ParserRuleContext {\n\tpublic ID(): TerminalNode[];\n\tpublic ID(i: number): TerminalNode;\n\tpublic ID(i?: number): TerminalNode | TerminalNode[] {\n\t\tif (i === undefined) {\n\t\t\treturn this.getTokens(FurumaiParser.ID);\n\t\t} else {\n\t\t\treturn this.getToken(FurumaiParser.ID, i);\n\t\t}\n\t}\n\tpublic EDGEOP(): TerminalNode { return this.getToken(FurumaiParser.EDGEOP, 0); }\n\tpublic attr_list(): Attr_listContext | undefined {\n\t\treturn this.tryGetRuleContext(0, Attr_listContext);\n\t}\n\tconstructor(parent: ParserRuleContext | undefined, invokingState: number) {\n\t\tsuper(parent, invokingState);\n\t}\n\t// @Override\n\tpublic get ruleIndex(): number { return FurumaiParser.RULE_edge_stmt; }\n\t// @Override\n\tpublic enterRule(listener: FurumaiListener): void {\n\t\tif (listener.enterEdge_stmt) {\n\t\t\tlistener.enterEdge_stmt(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic exitRule(listener: FurumaiListener): void {\n\t\tif (listener.exitEdge_stmt) {\n\t\t\tlistener.exitEdge_stmt(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic accept<Result>(visitor: FurumaiVisitor<Result>): Result {\n\t\tif (visitor.visitEdge_stmt) {\n\t\t\treturn visitor.visitEdge_stmt(this);\n\t\t} else {\n\t\t\treturn visitor.visitChildren(this);\n\t\t}\n\t}\n}\n\n\nexport class Node_stmtContext extends ParserRuleContext {\n\tpublic ID(): TerminalNode { return this.getToken(FurumaiParser.ID, 0); }\n\tpublic attr_list(): Attr_listContext | undefined {\n\t\treturn this.tryGetRuleContext(0, Attr_listContext);\n\t}\n\tconstructor(parent: ParserRuleContext | undefined, invokingState: number) {\n\t\tsuper(parent, invokingState);\n\t}\n\t// @Override\n\tpublic get ruleIndex(): number { return FurumaiParser.RULE_node_stmt; }\n\t// @Override\n\tpublic enterRule(listener: FurumaiListener): void {\n\t\tif (listener.enterNode_stmt) {\n\t\t\tlistener.enterNode_stmt(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic exitRule(listener: FurumaiListener): void {\n\t\tif (listener.exitNode_stmt) {\n\t\t\tlistener.exitNode_stmt(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic accept<Result>(visitor: FurumaiVisitor<Result>): Result {\n\t\tif (visitor.visitNode_stmt) {\n\t\t\treturn visitor.visitNode_stmt(this);\n\t\t} else {\n\t\t\treturn visitor.visitChildren(this);\n\t\t}\n\t}\n}\n\n\nexport class GroupContext extends ParserRuleContext {\n\tpublic GROUP(): TerminalNode { return this.getToken(FurumaiParser.GROUP, 0); }\n\tpublic ID(): TerminalNode { return this.getToken(FurumaiParser.ID, 0); }\n\tpublic stmt_list(): Stmt_listContext {\n\t\treturn this.getRuleContext(0, Stmt_listContext);\n\t}\n\tconstructor(parent: ParserRuleContext | undefined, invokingState: number) {\n\t\tsuper(parent, invokingState);\n\t}\n\t// @Override\n\tpublic get ruleIndex(): number { return FurumaiParser.RULE_group; }\n\t// @Override\n\tpublic enterRule(listener: FurumaiListener): void {\n\t\tif (listener.enterGroup) {\n\t\t\tlistener.enterGroup(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic exitRule(listener: FurumaiListener): void {\n\t\tif (listener.exitGroup) {\n\t\t\tlistener.exitGroup(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic accept<Result>(visitor: FurumaiVisitor<Result>): Result {\n\t\tif (visitor.visitGroup) {\n\t\t\treturn visitor.visitGroup(this);\n\t\t} else {\n\t\t\treturn visitor.visitChildren(this);\n\t\t}\n\t}\n}\n\n\nexport class ZoneContext extends ParserRuleContext {\n\tpublic ZONE(): TerminalNode { return this.getToken(FurumaiParser.ZONE, 0); }\n\tpublic ID(): TerminalNode { return this.getToken(FurumaiParser.ID, 0); }\n\tpublic stmt_list(): Stmt_listContext {\n\t\treturn this.getRuleContext(0, Stmt_listContext);\n\t}\n\tconstructor(parent: ParserRuleContext | undefined, invokingState: number) {\n\t\tsuper(parent, invokingState);\n\t}\n\t// @Override\n\tpublic get ruleIndex(): number { return FurumaiParser.RULE_zone; }\n\t// @Override\n\tpublic enterRule(listener: FurumaiListener): void {\n\t\tif (listener.enterZone) {\n\t\t\tlistener.enterZone(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic exitRule(listener: FurumaiListener): void {\n\t\tif (listener.exitZone) {\n\t\t\tlistener.exitZone(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic accept<Result>(visitor: FurumaiVisitor<Result>): Result {\n\t\tif (visitor.visitZone) {\n\t\t\treturn visitor.visitZone(this);\n\t\t} else {\n\t\t\treturn visitor.visitChildren(this);\n\t\t}\n\t}\n}\n\n\nexport class HideContext extends ParserRuleContext {\n\tpublic HIDE(): TerminalNode | undefined { return this.tryGetToken(FurumaiParser.HIDE, 0); }\n\tpublic DELETE(): TerminalNode | undefined { return this.tryGetToken(FurumaiParser.DELETE, 0); }\n\tpublic ID(): TerminalNode[];\n\tpublic ID(i: number): TerminalNode;\n\tpublic ID(i?: number): TerminalNode | TerminalNode[] {\n\t\tif (i === undefined) {\n\t\t\treturn this.getTokens(FurumaiParser.ID);\n\t\t} else {\n\t\t\treturn this.getToken(FurumaiParser.ID, i);\n\t\t}\n\t}\n\tpublic EDGEOP(): TerminalNode | undefined { return this.tryGetToken(FurumaiParser.EDGEOP, 0); }\n\tconstructor(parent: ParserRuleContext | undefined, invokingState: number) {\n\t\tsuper(parent, invokingState);\n\t}\n\t// @Override\n\tpublic get ruleIndex(): number { return FurumaiParser.RULE_hide; }\n\t// @Override\n\tpublic enterRule(listener: FurumaiListener): void {\n\t\tif (listener.enterHide) {\n\t\t\tlistener.enterHide(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic exitRule(listener: FurumaiListener): void {\n\t\tif (listener.exitHide) {\n\t\t\tlistener.exitHide(this);\n\t\t}\n\t}\n\t// @Override\n\tpublic accept<Result>(visitor: FurumaiVisitor<Result>): Result {\n\t\tif (visitor.visitHide) {\n\t\t\treturn visitor.visitHide(this);\n\t\t} else {\n\t\t\treturn visitor.visitChildren(this);\n\t\t}\n\t}\n}\n\n\n","import { render, staticRenderFns } from \"./Group.vue?vue&type=template&id=1d138cb4&scoped=true&\"\nimport script from \"./Group.vue?vue&type=script&lang=ts&\"\nexport * from \"./Group.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d138cb4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app1\"},[_c('div',{staticClass:\"row\"},[(_vm.viewCode)?_c('div',{staticClass:\"col\"},[(_vm.editorMode)?_c('div',{staticClass:\"code-editor-wrap\"},[_c('label',[_c('div',[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.furumaiData.code),expression:\"furumaiData.code\"}],ref:\"editor\",staticClass:\"code-editor\",attrs:{\"title\":\"Furumai Description\"},domProps:{\"value\":(_vm.furumaiData.code)},on:{\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }if(!$event.ctrlKey){ return null; }return _vm.furumai($event)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }if(!$event.altKey){ return null; }return _vm.furumai($event)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }if(!$event.metaKey){ return null; }return _vm.furumai($event)}],\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.furumaiData, \"code\", $event.target.value)}}})]),_c('div',{staticClass:\"nav-right\"},[_c('label',{staticClass:\"options\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.furumaiData.rough),expression:\"furumaiData.rough\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.furumaiData.rough)?_vm._i(_vm.furumaiData.rough,null)>-1:(_vm.furumaiData.rough)},on:{\"change\":[function($event){var $$a=_vm.furumaiData.rough,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.furumaiData, \"rough\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.furumaiData, \"rough\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.furumaiData, \"rough\", $$c)}},_vm.furumai]}}),_vm._v(\"Rough.js\\n            \")]),_c('label',{staticClass:\"options\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.furumaiData.displayFirstSvg),expression:\"furumaiData.displayFirstSvg\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.furumaiData.displayFirstSvg)?_vm._i(_vm.furumaiData.displayFirstSvg,null)>-1:(_vm.furumaiData.displayFirstSvg)},on:{\"change\":[function($event){var $$a=_vm.furumaiData.displayFirstSvg,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.furumaiData, \"displayFirstSvg\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.furumaiData, \"displayFirstSvg\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.furumaiData, \"displayFirstSvg\", $$c)}},_vm.furumai]}}),_vm._v(\"Display 1st SVG\\n            \")]),_c('button',{staticClass:\"button primary furumai-button\",on:{\"click\":_vm.furumai}},[_vm._v(\"View (Ctrl + Enter)\")])]),_c('hr'),_c('div',[_vm._v(\"\\n            Default settings:\\n            \"),_c('pre',[_vm._v(_vm._s(_vm.defaultConfig))])])])]):_c('div',{staticClass:\"code-viewer\"},[_c('pre',{staticClass:\"language-none\"},[_vm._v(_vm._s(_vm.pre(_vm.furumaiData.code)))])])]):_vm._e(),_c('div',{staticClass:\"col-6\"},[(_vm.errors.length > 0)?_c('div',{staticClass:\"text-error\"},[_c('pre',[_vm._v(_vm._s(_vm.errors))])]):_c('div',{ref:\"moments\"},_vm._l((_vm.svgs),function(s){return _c('div',{staticClass:\"card\"},[_c('SvgComponent',{attrs:{\"shape\":s,\"rough\":_vm.furumaiData.rough}})],1)}),0),_c('div',{staticClass:\"nav-right moments-footer\"},[(_vm.editorMode)?_c('button',{staticClass:\"button primary\",on:{\"click\":_vm.download}},[_vm._v(\"Download SVG(s)\")]):_vm._e()])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"567eeb22-vue-loader-template\\\"}!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FurumaiApp1.vue?vue&type=template&id=6507d84b&\"","import { render, staticRenderFns } from \"./VIcon.vue?vue&type=template&id=1a6a949c&scoped=true&\"\nimport script from \"./VIcon.vue?vue&type=script&lang=ts&\"\nexport * from \"./VIcon.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1a6a949c\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport Router from 'vue-router'\nimport {formatVersion, sampleFragment} from '@/utils/sample'\nimport AppLayout from '@/AppLayout.vue'\nimport FurumaiApp from '@/components/FurumaiApp.vue'\n\nVue.use(Router)\n\nexport default new Router({\n  base: process.env.BASE_URL,\n  routes: [\n    {\n      path: '/',\n      component: AppLayout,\n      children: [\n        {\n          path: '',\n          redirect: {\n            name: 'furumai',\n            params: {\n              format: formatVersion,\n              data: sampleFragment,\n            },\n          },\n        }, {\n          path: 'apps/:format/:data',\n          component: FurumaiApp,\n          name: 'furumai',\n        },\n      ],\n    },\n  ],\n})\n","import mod from \"-!../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLayout.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLayout.vue?vue&type=style&index=0&lang=css&\"","import { render, staticRenderFns } from \"./FurumaiApp1.vue?vue&type=template&id=6507d84b&\"\nimport script from \"./FurumaiApp1.vue?vue&type=script&lang=ts&\"\nexport * from \"./FurumaiApp1.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FurumaiApp1.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import {Wrap} from '@/layout/engine/Wrap'\nimport {Elem} from '@/layout/engine/Elem'\nimport Gap from '@/layout/engine/Gap'\nimport {Box, Point, Size} from '@/layout/engine/Box'\n\nexport class Landscape implements Elem {\n  constructor(\n    readonly children: Array<Wrap<Elem>>,\n    readonly box: Box,\n  ) {\n  }\n\n  public fit(point: Point, grossSize: Partial<Size> = {}): Landscape {\n    const old = this.box.contentArea\n    const childrenArea = this.box.calcContentArea(point, grossSize)\n    const {x, y, width, height} = childrenArea\n    let xx = x\n\n    const gap = width ? Gap.gap2(0, (width - old.width) / (2 * this.children.length)) : Gap.zero\n    const w = width ? {width: old.width / this.children.length} : {}\n    const h = height ? {height} : {}\n    const childNodes: Array<Wrap<Elem>> = []\n    for (const c of this.children) {\n      xx += gap.left\n      const moved = c.map((elem) => elem.fit({x: xx, y}, {...w, ...h}))\n      childNodes.push(moved)\n      xx += moved.get.box.grossArea.width\n      xx += gap.right\n    }\n\n    const maxHeight = Math.max(...childNodes.map((c) => c.get.box.grossArea.height))\n    const childContentArea = {x, y, width: xx - x, height: maxHeight}\n    return new Landscape(childNodes, this.box.inflate(childContentArea))\n  }\n\n  public withBox(box: Partial<Box>): Landscape {\n    return new Landscape(this.children, this.box.update(box))\n  }\n\n  public append(child: Wrap<Elem>): Landscape {\n    return new Landscape([...this.children, child], this.box)\n  }\n}\n","import { render, staticRenderFns } from \"./GridArea.vue?vue&type=template&id=1339332c&scoped=true&\"\nimport script from \"./GridArea.vue?vue&type=script&lang=ts&\"\nexport * from \"./GridArea.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1339332c\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FurumaiApp1.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FurumaiApp1.vue?vue&type=script&lang=ts&\"","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VIcon.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VIcon.vue?vue&type=script&lang=ts&\"","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextContent.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextContent.vue?vue&type=script&lang=ts&\"","import {BuildingBlock} from '@/bind/BuildingBlock'\nimport {Env} from '@/bind/Env'\nimport {Container} from '@/grid/Container'\nimport {Landscape} from '@/layout/engine/Landscape'\nimport {Portrait} from '@/layout/engine/Portrait'\nimport {Box} from '@/layout/engine/Box'\nimport {Attributes, Dict} from '@/utils/types'\n\nexport class Compound implements BuildingBlock {\n  constructor(\n    public readonly id: string,\n    private compoundType: CompoundType,\n    private blocks: BuildingBlock[] = [],\n    private attrs: Attributes = Attributes.empty,\n    private childAttrs?: Dict<Attributes>,\n  ) {\n  }\n\n  public create(env: Env): Container {\n    const merged = env.lookupAttributes(this.compoundType).merge(this.attrs)\n    const attrs = merged.attrs\n    const box = merged.box\n    const fitterClass = this.compoundType === 'zone' ? Portrait : Landscape\n    const fitter = new fitterClass([], Box.of(box))\n    const initContainer = new Container(\n      this.id,\n      attrs,\n      fitter,\n    )\n    const newEnv = env.newEnv(this.childAttrs || {})\n    return this.blocks.reduce((container, block) => {\n      const existing = container.find(block.id)\n      if (existing) {\n        block.update(existing, newEnv)\n        return container\n      } else {\n        const ret = block.create(newEnv)\n        return container.append(ret)\n      }\n    }, initContainer)\n  }\n\n  public update(base: Container, env: Env): Container {\n    throw new Error('Sorry, not implemented yet') // TODO implement\n  }\n}\n\nexport type CompoundType = 'group' | 'zone'\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('g',[_c('v-icon',_vm._b({staticClass:\"no_rough\",attrs:{\"name\":_vm.name}},'v-icon',_vm.shapeAttrs,false)),_c('TextContent',{attrs:{\"position\":_vm.labelPosition,\"content\":_vm.textContentLabel,\"dy\":_vm.labelDy,\"attrs\":_vm.labelAttrs}}),_c('TextContent',{attrs:{\"position\":_vm.textPosition,\"content\":_vm.textContentText,\"centering\":true,\"attrs\":_vm.textAttrs}}),_c('GridArea',{attrs:{\"box\":_vm.shape.box}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"567eeb22-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VIcon.vue?vue&type=template&id=1a6a949c&scoped=true&\"","import Gap from '@/layout/engine/Gap'\n\nexport interface Point {\n  x: number\n  y: number\n}\n\nexport interface Size {\n  width: number\n  height: number\n}\n\nexport interface Area extends Point, Size {\n}\n\nexport interface Gaps {\n  margin: Gap\n  padding: Gap\n}\n\nexport class Box implements Point, Size, Gaps {\n  public static zero = Box.of({})\n\n  public static of(box: Partial<Box>): Box {\n    const {x, y, width, height, margin, padding} = {\n      x: 0, y: 0, width: 0, height: 0, margin: Gap.zero, padding: Gap.zero,\n      ...box,\n    }\n    return new Box(x, y, width, height, margin, padding)\n  }\n\n  constructor(\n    readonly x: number,\n    readonly y: number,\n    readonly width: number,\n    readonly height: number,\n    readonly margin: Gap,\n    readonly padding: Gap,\n  ) {\n\n  }\n\n  get grossArea(): Area {\n    const {x, y, width, height} = this\n    const {left, right, top, bottom} = this.margin\n    return {\n      x: x - left,\n      y: y - top,\n      width: left + width + right,\n      height: top + height + bottom,\n    }\n  }\n\n  get area(): Area {\n    return this\n  }\n\n  get contentArea(): Area {\n    const {x, y, width, height, padding} = this\n    return {\n      x: x + padding.left,\n      y: y + padding.top,\n      width: width - (padding.left + padding.right),\n      height: height - (padding.top + padding.bottom),\n    }\n  }\n\n  get cx() {\n    const r = this\n    return r.x + (r.width / 2)\n  }\n\n  get cy() {\n    const r = this\n    return r.y + (r.height / 2)\n  }\n\n  public inflate(contentGrossArea: Area): Box {\n    const {x, y, width, height} = contentGrossArea\n    const {left, right, top, bottom} = this.padding\n    return new Box(\n      x - left,\n      y - top,\n      left + width + right,\n      top + height + bottom,\n      this.margin,\n      this.padding,\n    )\n  }\n\n  public calcGrossArea(point: Point, size: Partial<Size>): Point & Partial<Size> {\n    const {x, y} = point\n    const {width, height} = size\n    const {left, right, top, bottom} = this.margin\n    const w = width ? {width: width + (left + right)} : {}\n    const h = height ? {height: height + (top + bottom)} : {}\n    return {\n      x: x - left,\n      y: y - top,\n      ...w,\n      ...h,\n    }\n  }\n\n  public calcArea(point: Point, grossSize: Partial<Size> = {}): Point & Partial<Size> {\n    const {x, y} = point\n    const {width, height} = grossSize\n    const {left, right, top, bottom} = this.margin\n    const w = width ? {width: width - (left + right)} : {}\n    const h = height ? {height: height - (top + bottom)} : {}\n    return {\n      x: x + left,\n      y: y + top,\n      ...w,\n      ...h,\n    }\n  }\n\n  public calcContentArea(point: Point, grossSize: Partial<Size> = {}): Point & Partial<Size> {\n    const {x, y, width, height} = this.calcArea(point, grossSize)\n    const {left, right, top, bottom} = this.padding\n    const w = width ? {width: width - (left + right)} : {}\n    const h = height ? {height: height - (top + bottom)} : {}\n    return {\n      x: x + left,\n      y: y + top,\n      ...w,\n      ...h,\n    }\n  }\n\n  public update(box: Partial<Box>): Box {\n    return Box.of({...this, ...box})\n  }\n\n  public move(dx: number, dy: number): Box {\n    const {x, y} = this\n    return this.update({x: x + dx, y: y + dy})\n  }\n}\n","import { render, staticRenderFns } from \"./AppLayout.vue?vue&type=template&id=239cc65c&\"\nimport script from \"./AppLayout.vue?vue&type=script&lang=ts&\"\nexport * from \"./AppLayout.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AppLayout.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\nimport {Component, Prop, Vue} from 'vue-property-decorator'\nimport {Box} from '@/layout/engine/Box'\n\n@Component\nexport default class GridArea extends Vue {\n  @Prop()\n  public box!: Box\n\n  get attrs(): any {\n    const {x, y, width, height, margin} = this.box\n    return {\n      fill: 'none',\n      stroke: 'none',\n      visibility: 'hidden',\n      x: x - margin.left,\n      y: y - margin.top,\n      width: margin.left + width + margin.right,\n      height: margin.top + height + margin.bottom,\n    }\n  }\n\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"footer\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"567eeb22-vue-loader-template\\\"}!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Footer.vue?vue&type=template&id=4ffd0aaa&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.version === 1)?_c('FurumaiApp1',{attrs:{\"furumaiData\":_vm.furumaiData,\"changeUrl\":_vm.changeUrl}}):(_vm.version === -1)?_c('div',[_vm._v(\"version = -1\")]):_c('div',[_vm._v(\"version error: \"+_vm._s(_vm.version))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"567eeb22-vue-loader-template\\\"}!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FurumaiApp.vue?vue&type=template&id=954c3980&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Prop, Vue} from 'vue-property-decorator'\nimport GridArea from '@/components/svg/GridArea.vue'\nimport * as model from '@/components/model/Group'\nimport TextContent from '@/components/svg/TextContent.vue'\nimport {Shape} from '@/components/model/Shape'\nimport Cylinder from '@/components/svg/Cylinder.vue'\nimport Person from '@/components/svg/Person.vue'\nimport Box from '@/components/svg/Box.vue'\nimport Arrow from '@/components/svg/Arrow.vue'\nimport Pipe from '@/components/svg/Pipe.vue'\nimport VIcon from '@/components/svg/VIcon.vue'\nimport {Attrs, asString} from '@/utils/types'\n\n@Component({\n  name: 'Group',\n  components: {\n    VIcon,\n    Person,\n    Cylinder,\n    Pipe,\n    TextContent,\n    GridArea,\n    Box,\n    Arrow,\n  },\n})\nexport default class Group extends Vue {\n  @Prop()\n  public g!: model.Group\n\n  get childGroups(): model.Group[] {\n    return this.g.children.filter((i) => i.type === 'group').map((i) => i as model.Group)\n  }\n\n  get boxes(): Shape[] {\n    return this.g.children.filter((i) => i.type === 'box')\n  }\n\n  get cylinders(): Shape[] {\n    return this.g.children.filter((i) => i.type === 'cylinder')\n  }\n\n  get pipes(): Shape[] {\n      return this.g.children.filter((i) => i.type === 'pipe')\n  }\n\n  get persons(): Shape[] {\n    return this.g.children.filter((i) => i.type === 'person')\n  }\n\n  get vIcons(): Shape[] {\n    return this.g.children.filter((i) => i.type.startsWith('icon'))\n  }\n\n  get arrows(): Shape[] {\n    return this.g.children.filter((i) => i.type === 'arrow' || i.type === 'edge')\n  }\n\n  get attrs(): Attrs {\n    const {x, y, width, height} = asString(this.g.box)\n    return {\n      x,\n      y,\n      width,\n      height,\n      ...this.g.svgAttrs.svgAttrs,\n    }\n  }\n\n  get textPosition(): {x: number, y: number} {\n    const {x, y} = this.g.box\n    return {x, y}\n  }\n\n  get labelDy(): number {\n    const label = this.g.text.label || ''\n    const lc = label.split('\\\\n').length\n    return -1 * lc\n  }\n\n  get textAttrs() {\n    return this.g.text.textAttrs.svgAttrs\n  }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Prop, Vue} from 'vue-property-decorator'\nimport GridArea from '@/components/svg/GridArea.vue'\nimport {Shape} from '@/components/model/Shape'\nimport TextContent from '@/components/svg/TextContent.vue'\n\n@Component({\n    components: {\n      TextContent,\n      GridArea,\n    },\n  })\n  export default class Pipe extends Vue {\n    @Prop()\n    public shape!: Shape\n\n    get shapeAttrs() {\n      return this.shape.svgAttrs.svgAttrs\n    }\n\n    get textAttrs() {\n      return this.shape.text.textAttrs.svgAttrs\n    }\n\n    get textPosition(): {x: number, y: number} {\n      const {x, y, padding} = this.shape.box\n      return {\n        x: x + padding.left + 10, // FIXME\n        y: y + padding.top - 10, // FIXME\n      }\n    }\n\n    get d(): string {\n      const box = this.shape.box\n      const cx = box.cx\n      const cy = box.cy\n      const {width, height} = box\n\n      const curve = 8 + (width * 1.2) / 20  // FIXME\n      const xl = cx - (width / 2)\n      const xr = cx + (width / 2)\n      const yum = cy - (height / 2)\n      const ydm = cy + (height / 2)\n\n      return `M ${xl},${yum}\nC ${xl + curve},${yum}\n  ${xl + curve},${ydm}\n  ${xl},${ydm}\nM ${xl},${yum}\nC ${xl - curve},${yum}\n  ${xl - curve},${ydm}\n  ${xl},${ydm}\nM ${xl},${yum}\nL ${xr},${yum}\nC ${xr + curve},${yum}\n  ${xr + curve},${ydm}\n  ${xr},${ydm}\nL ${xl},${ydm}`\n    }\n  }\n","import { render, staticRenderFns } from \"./Cylinder.vue?vue&type=template&id=7cda04ce&scoped=true&\"\nimport script from \"./Cylinder.vue?vue&type=script&lang=ts&\"\nexport * from \"./Cylinder.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7cda04ce\",\n  null\n  \n)\n\nexport default component.exports","export class Vector2d {\n  constructor(\n    readonly x1: number,\n    readonly y1: number,\n    readonly x2: number,\n    readonly y2: number,\n  ) {\n  }\n\n  get length() {\n    return Math.sqrt(this.dx ** 2 + this.dy ** 2)\n  }\n\n  get dx(): number {\n    return this.x2 - this.x1\n  }\n\n  get dy(): number {\n    return this.y2 - this.y1\n  }\n\n  public rotate(degree: number): Vector2d {\n    function degToRad(deg: number) {\n      return deg * Math.PI / 180\n    }\n\n    const x1 = this.x1\n    const y1 = this.y1\n    const th = degToRad(degree)\n\n    const rotate = {\n      real: Math.cos(th),\n      imaginary: Math.sin(th),\n    }\n    const rotated = multiply({real: this.dx, imaginary: this.dy}, rotate)\n    return new Vector2d(x1, y1, x1 + rotated.real, y1 + rotated.imaginary)\n  }\n\n  public negate(): Vector2d {\n    const x1 = this.x1\n    const y1 = this.y1\n    return new Vector2d(x1, y1, x1 - this.dx, y1 - this.dy)\n  }\n\n  public reverse(): Vector2d {\n    return new Vector2d(this.x2, this.y2, this.x1, this.y1)\n  }\n\n  public move(dx: number, dy: number): Vector2d {\n    return new Vector2d(this.x1 + dx, this.y1 + dy, this.x2 + dx, this.y2 + dy)\n  }\n\n  public normalize(): Vector2d {\n    const d = this.length\n    return new Vector2d(0, 0, this.dx / d, this.dy / d)\n  }\n\n  public multiple(n: number): Vector2d {\n    const x1 = this.x1\n    const y1 = this.y1\n    return new Vector2d(x1, y1, x1 + this.dx * n, y1 + this.dy * n)\n  }\n}\n\nexport interface ComplexNumber {\n  real: number,\n  imaginary: number,\n}\n\nexport function multiply(a: ComplexNumber, b: ComplexNumber): ComplexNumber {\n  return {\n    real: (a.real * b.real) - (a.imaginary * b.imaginary),\n    imaginary: a.real * b.imaginary + a.imaginary * b.real,\n  }\n}\n","import LZString from 'lz-string'\nimport {Box} from '@/layout/engine/Box'\nimport Gap from '@/layout/engine/Gap'\n\nexport interface DataEncoderDecoder<S, T> {\n  formatVersion: string\n\n  decode(encoded: S): T\n\n  encode(decoded: T): S\n}\n\nexport class DataEncoderDecoderV1 implements DataEncoderDecoder<string, Data> {\n  public readonly formatVersion = 'v1'\n\n  public decode(encoded: string): Data {\n    const jsonString = LZString.decompressFromEncodedURIComponent(encoded)\n    return JSON.parse(jsonString) as Data\n  }\n\n  public encode(decoded: Data): string {\n    const d = JSON.stringify(decoded)\n    return LZString.compressToEncodedURIComponent(d)\n  }\n}\n\nexport function num(v?: any): number | undefined {\n  return v ? Number(v) : undefined\n}\n\nexport function asString(arg: any): {[key: string]: string} {\n  return Object.keys(arg).reduce((obj, k) => {\n    obj[k] = arg[k].toString()\n    return obj\n  }, {} as {[key: string]: string})\n}\n\nexport type Data = any\n\nexport interface Dict<T> {\n  [key: string]: T\n}\n\nexport type Attrs = Dict<string>\n\nexport class Decorations {\n  public static empty = Decorations.of({})\n\n  public static of(attrs: Attrs): Decorations {\n    const {shape, label, t, dx, dy, ...rest} = attrs\n    const divided = divideAttrs(rest)\n    const other: Attrs = {shape, label, t, dx, dy}\n    Object.keys(other).forEach((k) => {\n      if (other[k] === undefined) {\n        delete other[k]\n      }\n    })\n    return new Decorations(divided.shape, divided.text, other)\n  }\n\n  private constructor(readonly shape: Attrs, readonly text: Attrs, readonly other: Attrs) {}\n\n  public update(attrs: Decorations): Decorations {\n    return new Decorations(\n      {\n        ...this.shape,\n        ...attrs.shape,\n      }, {\n        ...this.text,\n        ...attrs.text,\n      }, {\n        ...this.other,\n        ...attrs.other,\n      },\n    )\n  }\n}\n\nfunction divideAttrs(attrs: Attrs): {shape: Attrs, text: Attrs} {\n  const shapeAttrs = filter(attrs, (k, _) => !k.startsWith('text.'))\n  const textAttrs: Attrs = {}\n  Object.keys(attrs).forEach((k) => {\n    if (!k.startsWith('text.') && !(['y', 'dx', 'dy'].indexOf(k) > -1)) {\n      textAttrs[k] = attrs[k]\n    }\n  })\n  Object.keys(attrs).forEach((k) => {\n    if (k.startsWith('text.')) {\n      const key = k.slice('text.'.length)\n      textAttrs[key] = attrs[k]\n    }\n  })\n\n  return {\n    shape: shapeAttrs,\n    text: textAttrs,\n  }\n}\n\nfunction filter(svgAttrs: Attrs, f: (k: string, v: string) => boolean): Attrs {\n  return Object.keys(svgAttrs).reduce((obj, k) => {\n    const value = svgAttrs[k]\n    if (f(k, value)) {\n      obj[k] = value\n    }\n    return obj\n  }, {} as Attrs)\n}\n\nfunction parse(gapString: string): Gap | undefined {\n  if (gapString) {\n    const g = gapString.split(' ').map((s) => Number(s))\n    if (g.length === 4) {\n      return Gap.gap4(g[0], g[1], g[2], g[3])\n    } else if (g.length === 2) {\n      return Gap.gap2(g[0], g[1])\n    } else if (g.length === 1) {\n      return Gap.gap1(g[0])\n    } else {\n      return undefined\n    }\n  } else {\n    return undefined\n  }\n}\n\nexport class Attributes {\n  public static empty = Attributes.of({})\n\n  public static of(dic: Attrs): Attributes {\n    const {id, x, y, width, height, margin, padding, ...rest} = dic\n    const box: any = {\n      id,\n      x: num(x), y: num(y),\n      width: num(width), height: num(height),\n      margin: parse(margin), padding: parse(padding),\n    }\n\n    Object.keys(box).forEach((k) => {\n      if (box[k] === undefined) {\n        delete box[k]\n      }\n    })\n\n    return new Attributes(box, Decorations.of(rest))\n  }\n\n  private constructor(readonly box: Partial<Box>, readonly attrs: Decorations) {\n  }\n\n  public merge(attrs: Attributes): Attributes {\n    return new Attributes(\n      {\n        ...this.box,\n        ...attrs.box,\n      },\n      this.attrs.update(attrs.attrs),\n    )\n  }\n}\n","import {Box, Point, Size} from '@/layout/engine/Box'\nimport {Elem} from '@/layout/engine/Elem'\nimport Gap from '@/layout/engine/Gap'\n\nexport class Cell implements Elem {\n  private static gap(oldGrossSize: Size, newGrossSize: Partial<Size>): Gap {\n    const {width, height} = {\n      ...oldGrossSize,\n      ...newGrossSize,\n    }\n    return Gap.gap2(height - oldGrossSize.height, width - oldGrossSize.width)\n  }\n\n  constructor(readonly box: Box) {\n  }\n\n  public fit(point: Point, grossSize: Partial<Size>): Cell {\n    const gap = Cell.gap(this.box.grossArea as Size, grossSize)\n    const x = point.x + gap.left\n    const y = point.y + gap.right\n    return this.withBox(this.box.calcArea({x, y}))\n  }\n\n  public withBox(box: Partial<Box>): Cell {\n    return new Cell(this.box.update(box))\n  }\n}\n","import { render, staticRenderFns } from \"./TextContent.vue?vue&type=template&id=16200155&scoped=true&\"\nimport script from \"./TextContent.vue?vue&type=script&lang=ts&\"\nexport * from \"./TextContent.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"16200155\",\n  null\n  \n)\n\nexport default component.exports","import { render, staticRenderFns } from \"./Box.vue?vue&type=template&id=0ef3f318&scoped=true&\"\nimport script from \"./Box.vue?vue&type=script&lang=ts&\"\nexport * from \"./Box.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0ef3f318\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('rect',_vm._b({staticClass:\"no_rough\"},'rect',_vm.attrs,false))}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"567eeb22-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GridArea.vue?vue&type=template&id=1339332c&scoped=true&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Prop, Vue} from 'vue-property-decorator'\nimport GridArea from '@/components/svg/GridArea.vue'\nimport {Shape} from '@/components/model/Shape'\nimport {Vector2d} from '@/layout/engine/Vector2d'\nimport TextContent from '@/components/svg/TextContent.vue'\n\n@Component({\n  components: {\n    TextContent,\n    GridArea,\n  },\n})\nexport default class Arrow extends Vue {\n  @Prop()\n  public shape!: Shape\n\n  // textPosition!: {x: number, y: number}\n  get textPosition(): {x: number, y: number} {\n    const {x1, y1, x2, y2} = this.xy\n    const vec = new Vector2d(x1, y1, x2, y2)\n\n    let v = vec.normalize()\n    v = v.dy === 0 ? v.rotate(90 * Math.sign(v.dx)) : v.dy > 0 ? v.rotate(-90) : v.rotate(90)\n    v = v.multiple(24)\n\n    const cos = vec.dx / vec.length\n    const u = Math.abs(cos) > 0.98 ? vec.multiple(cos).multiple(0.35) : vec.multiple(0.1)\n    const box = this.shape.box\n    return {\n      x: box.cx + v.dx - u.dx,\n      y: box.cy + v.dy - u.dy,\n    }\n  }\n\n  private get xy(): {x1: number, y1: number, x2: number, y2: number} {\n    const {x, y, width, height} = this.shape.box\n    return {x1: x, y1: y, x2: x + width, y2: y + height}\n  }\n\n  get d(): string {\n    return this.shape.type === 'arrow' ? this.arrow : this.line\n  }\n\n  get line(): string {\n    const {x1, y1, x2, y2} = this.xy\n    return `M${x1} ${y1} L${x2} ${y2}`\n  }\n\n  get arrow(): string {\n    const {x1, y1, x2, y2} = this.xy\n    function rotateBase(deg: number, pump: number) {\n      const v1 = new Vector2d(x1, y1, x2, y2).normalize().multiple(pump).rotate(deg).negate()\n      return v1.move(x2, y2)\n    }\n\n    const degree = this.defaults.arrow.head.degree\n    const pumpUp = this.defaults.arrow.head.size\n    const va = rotateBase(degree, pumpUp)\n    const vb = rotateBase(-degree, pumpUp)\n\n    return `M ${x1} ${y1}\nL ${x2} ${y2}\nM ${va.x2} ${va.y2}\nL ${x2} ${y2}\nM ${vb.x2} ${vb.y2}\nL ${x2} ${y2}`\n  }\n\n  public get shapeAttrs() {\n    return this.shape.svgAttrs.svgAttrs\n  }\n\n  public get textAttrs() {\n    return this.shape.text.textAttrs.svgAttrs\n  }\n\n  private defaults = {\n    arrow: {\n      head: {\n        size: 26,\n        degree: 27,\n      },\n    },\n  }\n}\n\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Prop, Vue} from 'vue-property-decorator'\nimport 'vue-awesome/icons'\nimport TextContent from '@/components/svg/TextContent.vue'\nimport Icon from 'vue-awesome/components/Icon.vue'\nimport GridArea from '@/components/svg/GridArea.vue'\nimport {Shape} from '@/components/model/Shape'\nimport {asString} from '@/utils/types'\n\n@Component({\n  components: {\n    GridArea,\n    TextContent,\n    'v-icon': Icon,\n  },\n})\nexport default class VIcon extends Vue {\n  private static validIcons = new Set(VIcon.icons())\n\n  private static icons(): string[] {\n    const a = []\n    for (const i of Object.keys((Icon as any).icons)) {\n      a.push(i)\n    }\n    return a\n  }\n\n  @Prop()\n  public shape!: Shape\n\n  get name(): string {\n    const requiredName = this.shape.type.split(':')[1]\n    if (VIcon.validIcons.has(requiredName)) {\n      return requiredName\n    } else {\n      throw new Error(`Sorry, the attribute is not used for security reason: shape => ${this.shape.type}`)\n    }\n  }\n\n  get labelPosition(): {x: number, y: number} {\n    const {x, y} = this.shape.box\n    return {\n      x,\n      y,\n    }\n  }\n\n  get labelDy(): number {\n    const label = this.shape.text.label || ''\n    const lc = label.split('\\\\n').length\n    return -1 * lc\n  }\n\n  get textContentText() {\n    return {\n      t: this.shape.text.t,\n    }\n  }\n\n  get textContentLabel() {\n    return {\n      label: this.shape.text.label,\n    }\n  }\n\n  get textPosition(): {x: number, y: number} {\n    const {x, y, width, height, padding} = this.shape.box\n    return {\n      x: x + width / 2,\n      y: y + height / 2,\n    }\n  }\n\n  public get shapeAttrs() {\n    const {x, y, width, height, margin, padding} = asString(this.shape.box)\n    return {\n      id: `_icon_${this.shape.id}`,\n      x, y, width, height, margin, padding,\n      ...this.shape.svgAttrs.svgAttrs,\n    }\n  }\n\n  public get labelAttrs() {\n    return {\n      ...this.shape.text.textAttrs.svgAttrs,\n    }\n  }\n\n  public get textAttrs() {\n    return {\n      'text-anchor': 'middle',\n      ...this.shape.text.textAttrs.svgAttrs,\n    }\n  }\n}\n\n","\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Vue} from 'vue-property-decorator'\n\n@Component\nexport default class Header extends Vue {\n}\n","import { render, staticRenderFns } from \"./Pipe.vue?vue&type=template&id=92e1601a&scoped=true&\"\nimport script from \"./Pipe.vue?vue&type=script&lang=ts&\"\nexport * from \"./Pipe.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"92e1601a\",\n  null\n  \n)\n\nexport default component.exports","import {BuildingBlock} from '@/bind/BuildingBlock'\nimport {Env} from '@/bind/Env'\nimport {showArea} from '@/grid/visibility'\nimport {GridArea} from '@/grid/GridArea'\nimport {Elem} from '@/layout/engine/Elem'\n\nexport class ShowBlock implements BuildingBlock {\n  constructor(readonly id: string) {\n  }\n\n  public create(env: Env): GridArea<Elem> {\n    throw new Error(`not found: ${this.id}`)\n  }\n\n  public update(base: GridArea<Elem>, env: Env): GridArea<Elem> {\n    return showArea(base)\n  }\n}\n","import {Landscape} from '@/layout/engine/Landscape'\nimport {Portrait} from '@/layout/engine/Portrait'\nimport {Elem} from '@/layout/engine/Elem'\nimport {GridArea} from '@/grid/GridArea'\nimport {Overlay} from '@/grid/Overlay'\nimport {GridCell} from '@/grid/GridCell'\nimport {Group} from '@/components/model/Group'\nimport {Attributes, Decorations} from '@/utils/types'\nimport {SecureSvgAttrs} from '@/utils/security'\n\nexport class Container implements GridArea<Landscape | Portrait> {\n  constructor(\n    public readonly id: string,\n    private attrs: Decorations,\n    private elem: Landscape | Portrait,\n    private overlays: Overlay[] = [],\n  ) {\n  }\n\n  get get(): Landscape | Portrait {\n    return this.elem\n  }\n\n  public updateAttributes(attrs: Attributes): Container {\n    // TODO immutable\n    this.attrs = this.attrs.update(attrs.attrs)\n    this.elem = this.elem.withBox(attrs.box)\n    return this\n  }\n\n  public find(id: string): GridArea<Elem> | Overlay | undefined {\n    return this.findArea(id) || this.findOverlay(id)\n  }\n\n  public findArea(id: string): GridArea<Elem> | undefined {\n    if (this.id === id) {\n      return this\n    } else {\n      const ret = this.elem.children\n        .map((i) => {\n          if (i instanceof Container) {\n            return i.findArea(id)\n          } else {\n            const atom = i as GridArea<Elem>\n            return id === atom.id ? atom : undefined\n          }\n        })\n        .filter((i) => i)\n      if (ret.length === 1) {\n        return ret[0]\n      } else {\n        return undefined\n      }\n    }\n  }\n\n  public findOverlay(id: string): Overlay | undefined {\n    const ret = this.overlays\n      .map((i) => i.id === id ? i : undefined)\n      .filter((i) => i)\n    if (ret.length === 1) {\n      return ret[0]\n    } else {\n      return undefined\n    }\n  }\n\n  public map(f: (a: Landscape | Portrait) => Landscape | Portrait): Container {\n    return new Container(this.id, this.attrs, f(this.elem), this.overlays)\n  }\n\n  public append(child: GridArea<Elem> | Overlay): Container {\n    if (child instanceof Container || child instanceof GridCell) {\n      return new Container(\n        this.id,\n        this.attrs,\n        this.elem.append(child as GridArea<Elem>),\n        this.overlays,\n      )\n    } else {\n      return new Container(\n        this.id,\n        this.attrs,\n        this.elem,\n        [child as Overlay, ...this.overlays],\n      )\n    }\n  }\n\n  public vue(): Group {\n    const box = this.elem.box\n    const children = this.elem.children.map((c) => (c as GridArea<Elem>).vue())\n    const overlays = this.overlays.map((lay) => lay.vue(this))\n    const text = {\n      label: this.attrs.other.label,\n      t: this.attrs.other.t,\n      textAttrs: SecureSvgAttrs.of(this.attrs.text),\n    }\n    return {\n      type: 'group',\n      id: this.id,\n      box,\n      text,\n      svgAttrs: SecureSvgAttrs.of(this.attrs.shape),\n      children: children.concat(overlays),\n    }\n  }\n}\n","\n\n\n\n\n\n\n\n\nimport {Component, Vue} from 'vue-property-decorator'\nimport Footer from '@/components/Footer.vue'\nimport Header from '@/components/Header.vue'\n\n@Component({\n  components: {Footer, Header},\n})\nexport default class App extends Vue {\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('g',[_c('rect',_vm._b({},'rect',_vm.shapeAttrs,false)),_c('TextContent',{attrs:{\"content\":_vm.shape.text,\"position\":_vm.textPosition,\"attrs\":_vm.textAttrs}}),_c('GridArea',{attrs:{\"box\":_vm.shape.box}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"567eeb22-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Box.vue?vue&type=template&id=0ef3f318&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('text',_vm._b({attrs:{\"x\":_vm.position.x + _vm.dxy.x,\"y\":_vm.position.y + _vm.dxy.y}},'text',_vm.attrs,false),_vm._l((_vm.texts),function(t){return _c('tspan',_vm._b({attrs:{\"dy\":t.dy,\"x\":_vm.position.x + _vm.dxy.x}},'tspan',_vm.attrs,false),[_vm._v(_vm._s(t.text))])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"567eeb22-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextContent.vue?vue&type=template&id=16200155&scoped=true&\"","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/ts-loader/index.js??ref--12-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLayout.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/ts-loader/index.js??ref--12-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLayout.vue?vue&type=script&lang=ts&\"","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Person.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Person.vue?vue&type=script&lang=ts&\"","import mod from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FurumaiApp1.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FurumaiApp1.vue?vue&type=style&index=0&lang=css&\"","import {BuildingBlock} from '@/bind/BuildingBlock'\nimport {Edge} from '@/bind/Edge'\nimport {Env} from '@/bind/Env'\nimport {EdgeOverlay} from '@/grid/EdgeOverlay'\n\nexport class HideEdge implements BuildingBlock {\n  public readonly id: string\n\n  constructor(private tailId: string, private headId: string) {\n    this.id = Edge.idOf(tailId, headId)\n  }\n\n  public create(env: Env): EdgeOverlay {\n    throw new Error(`edge not found: ${this.tailId} -> ${this.headId}`)\n  }\n\n  public update(base: EdgeOverlay, env: Env): EdgeOverlay {\n    return base.disable()\n  }\n}\n","import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\n\nVue.config.productionTip = false\n\nnew Vue({\n  router,\n  render: (h) => h(App),\n}).$mount('#app')\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SvgComponent.vue?vue&type=template&id=3df79bb8&scoped=true&\"\nimport script from \"./SvgComponent.vue?vue&type=script&lang=ts&\"\nexport * from \"./SvgComponent.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3df79bb8\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Arrow.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Arrow.vue?vue&type=script&lang=ts&\"","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Footer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Footer.vue?vue&type=script&lang=ts&\"","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Box.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Box.vue?vue&type=script&lang=ts&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Prop, Vue} from 'vue-property-decorator'\nimport GridArea from '@/components/svg/GridArea.vue'\nimport {Shape} from '@/components/model/Shape'\nimport TextContent from '@/components/svg/TextContent.vue'\n\n@Component({\n  components: {\n    TextContent,\n    GridArea,\n  },\n})\nexport default class Cylinder extends Vue {\n  @Prop()\n  public shape!: Shape\n\n  get shapeAttrs() {\n    return this.shape.svgAttrs.svgAttrs\n  }\n\n  get textAttrs() {\n    return this.shape.text.textAttrs.svgAttrs\n  }\n\n  get textPosition(): {x: number, y: number} {\n    const {x, y, padding} = this.shape.box\n    return {\n      x: x + padding.left,\n      y: y + padding.top,\n    }\n  }\n\n  get d(): string {\n    const box = this.shape.box\n    const cx = box.cx\n    const cy = box.cy\n    const {width, height} = box\n\n    const curve = 8 + (width * 1.2) / 20  // FIXME\n    const xl = cx - (width / 2)\n    const xr = cx + (width / 2)\n    const yum = cy - (height / 2)\n    const yuu = yum - curve\n    const yud = yum + curve\n    const ydm = cy + (height / 2)\n    const ydd = ydm + curve\n\n    return `M ${xr},${yum}\nC ${xr},${yud}\n  ${xl},${yud}\n  ${xl},${yum}\nM ${xr},${yum}\nC ${xr},${yuu}\n  ${xl},${yuu}\n  ${xl},${yum}\nM ${xr},${yum}\nL ${xr},${ydm}\nC ${xr},${ydd}\n  ${xl},${ydd}\n  ${xl},${ydm}\nL ${xl},${yum}`\n\n\n  }\n}\n","import {Overlay} from '@/grid/Overlay'\nimport {GridArea} from '@/grid/GridArea'\nimport {Elem} from '@/layout/engine/Elem'\nimport {Attributes, Decorations} from '@/utils/types'\n\nexport function showArea<A extends GridArea<Elem>>(block: A): A {\n  return block.updateAttributes(Attributes.of({visibility: 'visible'})) as A\n}\n\nexport function showOverlay(overlay: Overlay): Overlay {\n  return overlay.updateAttributes(Decorations.of({visibility: 'visible'}))\n}\n\nexport function hideArea(block: GridArea<Elem>): GridArea<Elem> {\n  return block.updateAttributes(Attributes.of({visibility: 'hidden'}))\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('g',[_c('path',_vm._b({attrs:{\"d\":_vm.d}},'path',_vm.shapeAttrs,false)),_c('TextContent',{attrs:{\"content\":_vm.shape.text,\"position\":_vm.textPosition,\"attrs\":_vm.textAttrs}}),_c('GridArea',{attrs:{\"box\":_vm.shape.box}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"567eeb22-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Person.vue?vue&type=template&id=fdc53260&scoped=true&\"","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgComponent.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgComponent.vue?vue&type=script&lang=ts&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Prop, Vue} from 'vue-property-decorator'\nimport {Shape} from '@/components/model/Shape'\nimport GridArea from '@/components/svg/GridArea.vue'\nimport TextContent from '@/components/svg/TextContent.vue'\nimport {asString} from '@/utils/types'\n\n@Component({\n  components: {\n    TextContent,\n    GridArea,\n  },\n})\nexport default class Box extends Vue {\n  @Prop()\n  public shape!: Shape\n\n  public get shapeAttrs() {\n    const {x, y, width, height, margin, padding} = asString(this.shape.box)\n    return {\n      id: `_rect_${this.shape.id}`,\n      x, y, width, height, margin, padding,\n      ...this.shape.svgAttrs.svgAttrs,\n    }\n  }\n\n  public get textAttrs() {\n    return this.shape.text.textAttrs.svgAttrs\n  }\n\n  get textPosition(): {x: number, y: number} {\n    const {x, y, padding} = this.shape.box\n    return {\n      x: x + padding.left,\n      y: y + padding.top,\n    }\n  }\n}\n","import {Wrap} from '@/layout/engine/Wrap'\nimport {Elem} from '@/layout/engine/Elem'\nimport Gap from '@/layout/engine/Gap'\nimport {Area, Box, Point, Size} from '@/layout/engine/Box'\n\nexport class Portrait implements Elem {\n  constructor(\n    readonly children: Array<Wrap<Elem>>,\n    readonly box: Box,\n  ) {\n  }\n\n  public fit(point: Point, grossSize: Partial<Size> = {}): Portrait {\n    const old = this.box.contentArea\n    const childrenArea = this.box.calcContentArea(point, grossSize)\n    const {x, y, width, height} = childrenArea\n    let yy = y\n\n    const gap = height ? Gap.gap2((height - old.height) / (2 * this.children.length), 0) : Gap.zero\n    const w = width ? {width} : {}\n    const h = height ? {height: old.height / this.children.length} : {}\n    const childNodes: Array<Wrap<Elem>> = []\n    for (const c of this.children) {\n      yy += gap.top\n      const moved = c.map((elem) => elem.fit({x, y: yy}, {...w, ...h}))\n      childNodes.push(moved)\n      yy += moved.get.box.grossArea.height\n      yy += gap.bottom\n    }\n\n    const maxWidth = Math.max(...childNodes.map((c) => c.get.box.grossArea.width))\n    const childContentArea: Area = {x, y, width: maxWidth, height: yy - y}\n    return new Portrait(childNodes, this.box.inflate(childContentArea))\n  }\n\n  public withBox(box: Partial<Box>): Portrait {\n    return new Portrait(this.children, this.box.update(box))\n  }\n\n  public append(child: Wrap<Elem>): Portrait {\n    return new Portrait([...this.children, child], this.box)\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('g',[_c('path',_vm._b({attrs:{\"d\":_vm.d}},'path',_vm.shapeAttrs,false)),_c('TextContent',{attrs:{\"content\":_vm.shape.text,\"position\":_vm.textPosition,\"attrs\":_vm.textAttrs}}),_c('GridArea',{attrs:{\"box\":_vm.shape.box}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"567eeb22-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cylinder.vue?vue&type=template&id=7cda04ce&scoped=true&\"","// Generated from Furumai.g4 by ANTLR 4.7.3-SNAPSHOT\n\n\nimport { ATN } from \"antlr4ts/atn/ATN\";\nimport { ATNDeserializer } from \"antlr4ts/atn/ATNDeserializer\";\nimport { CharStream } from \"antlr4ts/CharStream\";\nimport { Lexer } from \"antlr4ts/Lexer\";\nimport { LexerATNSimulator } from \"antlr4ts/atn/LexerATNSimulator\";\nimport { NotNull } from \"antlr4ts/Decorators\";\nimport { Override } from \"antlr4ts/Decorators\";\nimport { RuleContext } from \"antlr4ts/RuleContext\";\nimport { Vocabulary } from \"antlr4ts/Vocabulary\";\nimport { VocabularyImpl } from \"antlr4ts/VocabularyImpl\";\n\nimport * as Utils from \"antlr4ts/misc/Utils\";\n\n\nexport class FurumaiLexer extends Lexer {\n\tpublic static readonly T__0 = 1;\n\tpublic static readonly T__1 = 2;\n\tpublic static readonly T__2 = 3;\n\tpublic static readonly T__3 = 4;\n\tpublic static readonly T__4 = 5;\n\tpublic static readonly T__5 = 6;\n\tpublic static readonly T__6 = 7;\n\tpublic static readonly T__7 = 8;\n\tpublic static readonly NODE = 9;\n\tpublic static readonly EDGE = 10;\n\tpublic static readonly GROUP = 11;\n\tpublic static readonly ZONE = 12;\n\tpublic static readonly HIDE = 13;\n\tpublic static readonly DELETE = 14;\n\tpublic static readonly CONFIG = 15;\n\tpublic static readonly EDGEOP = 16;\n\tpublic static readonly ID = 17;\n\tpublic static readonly SPACES = 18;\n\n\t// tslint:disable:no-trailing-whitespace\n\tpublic static readonly channelNames: string[] = [\n\t\t\"DEFAULT_TOKEN_CHANNEL\", \"HIDDEN\",\n\t];\n\n\t// tslint:disable:no-trailing-whitespace\n\tpublic static readonly modeNames: string[] = [\n\t\t\"DEFAULT_MODE\",\n\t];\n\n\tpublic static readonly ruleNames: string[] = [\n\t\t\"T__0\", \"T__1\", \"T__2\", \"T__3\", \"T__4\", \"T__5\", \"T__6\", \"T__7\", \"NODE\", \n\t\t\"EDGE\", \"GROUP\", \"ZONE\", \"HIDE\", \"DELETE\", \"CONFIG\", \"EDGEOP\", \"ID\", \"SPACES\",\n\t];\n\n\tprivate static readonly _LITERAL_NAMES: Array<string | undefined> = [\n\t\tundefined, \"'---'\", \"';'\", \"'='\", \"'['\", \"','\", \"']'\", \"'{'\", \"'}'\", \"'node'\", \n\t\t\"'edge'\", \"'group'\", \"'zone'\", \"'hide'\", \"'delete'\", \"'config'\",\n\t];\n\tprivate static readonly _SYMBOLIC_NAMES: Array<string | undefined> = [\n\t\tundefined, undefined, undefined, undefined, undefined, undefined, undefined, \n\t\tundefined, undefined, \"NODE\", \"EDGE\", \"GROUP\", \"ZONE\", \"HIDE\", \"DELETE\", \n\t\t\"CONFIG\", \"EDGEOP\", \"ID\", \"SPACES\",\n\t];\n\tpublic static readonly VOCABULARY: Vocabulary = new VocabularyImpl(FurumaiLexer._LITERAL_NAMES, FurumaiLexer._SYMBOLIC_NAMES, []);\n\n\t// @Override\n\t// @NotNull\n\tpublic get vocabulary(): Vocabulary {\n\t\treturn FurumaiLexer.VOCABULARY;\n\t}\n\t// tslint:enable:no-trailing-whitespace\n\n\n\tconstructor(input: CharStream) {\n\t\tsuper(input);\n\t\tthis._interp = new LexerATNSimulator(FurumaiLexer._ATN, this);\n\t}\n\n\t// @Override\n\tpublic get grammarFileName(): string { return \"Furumai.g4\"; }\n\n\t// @Override\n\tpublic get ruleNames(): string[] { return FurumaiLexer.ruleNames; }\n\n\t// @Override\n\tpublic get serializedATN(): string { return FurumaiLexer._serializedATN; }\n\n\t// @Override\n\tpublic get channelNames(): string[] { return FurumaiLexer.channelNames; }\n\n\t// @Override\n\tpublic get modeNames(): string[] { return FurumaiLexer.modeNames; }\n\n\t// @Override\n\tpublic action(_localctx: RuleContext, ruleIndex: number, actionIndex: number): void {\n\t\tswitch (ruleIndex) {\n\t\tcase 16:\n\t\t\tthis.ID_action(_localctx, actionIndex);\n\t\t\tbreak;\n\t\t}\n\t}\n\tprivate ID_action(_localctx: RuleContext, actionIndex: number): void {\n\t\tswitch (actionIndex) {\n\t\tcase 0:\n\t\t\tthis.text = this.text.slice(1, -1)\n\t\t\tbreak;\n\n\t\tcase 1:\n\t\t\tthis.text = this.text.slice(1, -1)\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tpublic static readonly _serializedATN: string =\n\t\t\"\\x03\\uC91D\\uCABA\\u058D\\uAFBA\\u4F53\\u0607\\uEA8B\\uC241\\x02\\x14\\x86\\b\\x01\" +\n\t\t\"\\x04\\x02\\t\\x02\\x04\\x03\\t\\x03\\x04\\x04\\t\\x04\\x04\\x05\\t\\x05\\x04\\x06\\t\\x06\" +\n\t\t\"\\x04\\x07\\t\\x07\\x04\\b\\t\\b\\x04\\t\\t\\t\\x04\\n\\t\\n\\x04\\v\\t\\v\\x04\\f\\t\\f\\x04\\r\" +\n\t\t\"\\t\\r\\x04\\x0E\\t\\x0E\\x04\\x0F\\t\\x0F\\x04\\x10\\t\\x10\\x04\\x11\\t\\x11\\x04\\x12\\t\" +\n\t\t\"\\x12\\x04\\x13\\t\\x13\\x03\\x02\\x03\\x02\\x03\\x02\\x03\\x02\\x03\\x03\\x03\\x03\\x03\" +\n\t\t\"\\x04\\x03\\x04\\x03\\x05\\x03\\x05\\x03\\x06\\x03\\x06\\x03\\x07\\x03\\x07\\x03\\b\\x03\" +\n\t\t\"\\b\\x03\\t\\x03\\t\\x03\\n\\x03\\n\\x03\\n\\x03\\n\\x03\\n\\x03\\v\\x03\\v\\x03\\v\\x03\\v\\x03\" +\n\t\t\"\\v\\x03\\f\\x03\\f\\x03\\f\\x03\\f\\x03\\f\\x03\\f\\x03\\r\\x03\\r\\x03\\r\\x03\\r\\x03\\r\\x03\" +\n\t\t\"\\x0E\\x03\\x0E\\x03\\x0E\\x03\\x0E\\x03\\x0E\\x03\\x0F\\x03\\x0F\\x03\\x0F\\x03\\x0F\\x03\" +\n\t\t\"\\x0F\\x03\\x0F\\x03\\x0F\\x03\\x10\\x03\\x10\\x03\\x10\\x03\\x10\\x03\\x10\\x03\\x10\\x03\" +\n\t\t\"\\x10\\x03\\x11\\x03\\x11\\x03\\x11\\x03\\x11\\x05\\x11f\\n\\x11\\x03\\x12\\x03\\x12\\x07\" +\n\t\t\"\\x12j\\n\\x12\\f\\x12\\x0E\\x12m\\v\\x12\\x03\\x12\\x03\\x12\\x03\\x12\\x03\\x12\\x07\\x12\" +\n\t\t\"s\\n\\x12\\f\\x12\\x0E\\x12v\\v\\x12\\x03\\x12\\x03\\x12\\x03\\x12\\x03\\x12\\x07\\x12|\" +\n\t\t\"\\n\\x12\\f\\x12\\x0E\\x12\\x7F\\v\\x12\\x05\\x12\\x81\\n\\x12\\x03\\x13\\x03\\x13\\x03\\x13\" +\n\t\t\"\\x03\\x13\\x02\\x02\\x02\\x14\\x03\\x02\\x03\\x05\\x02\\x04\\x07\\x02\\x05\\t\\x02\\x06\" +\n\t\t\"\\v\\x02\\x07\\r\\x02\\b\\x0F\\x02\\t\\x11\\x02\\n\\x13\\x02\\v\\x15\\x02\\f\\x17\\x02\\r\\x19\" +\n\t\t\"\\x02\\x0E\\x1B\\x02\\x0F\\x1D\\x02\\x10\\x1F\\x02\\x11!\\x02\\x12#\\x02\\x13%\\x02\\x14\" +\n\t\t\"\\x03\\x02\\x07\\x03\\x02))\\x03\\x02$$\\x07\\x02//2;C\\\\aac|\\x07\\x02/02;C\\\\aac\" +\n\t\t\"|\\x05\\x02\\v\\r\\x0F\\x0F\\\"\\\"\\x02\\x8B\\x02\\x03\\x03\\x02\\x02\\x02\\x02\\x05\\x03\" +\n\t\t\"\\x02\\x02\\x02\\x02\\x07\\x03\\x02\\x02\\x02\\x02\\t\\x03\\x02\\x02\\x02\\x02\\v\\x03\\x02\" +\n\t\t\"\\x02\\x02\\x02\\r\\x03\\x02\\x02\\x02\\x02\\x0F\\x03\\x02\\x02\\x02\\x02\\x11\\x03\\x02\" +\n\t\t\"\\x02\\x02\\x02\\x13\\x03\\x02\\x02\\x02\\x02\\x15\\x03\\x02\\x02\\x02\\x02\\x17\\x03\\x02\" +\n\t\t\"\\x02\\x02\\x02\\x19\\x03\\x02\\x02\\x02\\x02\\x1B\\x03\\x02\\x02\\x02\\x02\\x1D\\x03\\x02\" +\n\t\t\"\\x02\\x02\\x02\\x1F\\x03\\x02\\x02\\x02\\x02!\\x03\\x02\\x02\\x02\\x02#\\x03\\x02\\x02\" +\n\t\t\"\\x02\\x02%\\x03\\x02\\x02\\x02\\x03\\'\\x03\\x02\\x02\\x02\\x05+\\x03\\x02\\x02\\x02\\x07\" +\n\t\t\"-\\x03\\x02\\x02\\x02\\t/\\x03\\x02\\x02\\x02\\v1\\x03\\x02\\x02\\x02\\r3\\x03\\x02\\x02\" +\n\t\t\"\\x02\\x0F5\\x03\\x02\\x02\\x02\\x117\\x03\\x02\\x02\\x02\\x139\\x03\\x02\\x02\\x02\\x15\" +\n\t\t\">\\x03\\x02\\x02\\x02\\x17C\\x03\\x02\\x02\\x02\\x19I\\x03\\x02\\x02\\x02\\x1BN\\x03\\x02\" +\n\t\t\"\\x02\\x02\\x1DS\\x03\\x02\\x02\\x02\\x1FZ\\x03\\x02\\x02\\x02!e\\x03\\x02\\x02\\x02#\" +\n\t\t\"\\x80\\x03\\x02\\x02\\x02%\\x82\\x03\\x02\\x02\\x02\\'(\\x07/\\x02\\x02()\\x07/\\x02\\x02\" +\n\t\t\")*\\x07/\\x02\\x02*\\x04\\x03\\x02\\x02\\x02+,\\x07=\\x02\\x02,\\x06\\x03\\x02\\x02\\x02\" +\n\t\t\"-.\\x07?\\x02\\x02.\\b\\x03\\x02\\x02\\x02/0\\x07]\\x02\\x020\\n\\x03\\x02\\x02\\x021\" +\n\t\t\"2\\x07.\\x02\\x022\\f\\x03\\x02\\x02\\x0234\\x07_\\x02\\x024\\x0E\\x03\\x02\\x02\\x02\" +\n\t\t\"56\\x07}\\x02\\x026\\x10\\x03\\x02\\x02\\x0278\\x07\\x7F\\x02\\x028\\x12\\x03\\x02\\x02\" +\n\t\t\"\\x029:\\x07p\\x02\\x02:;\\x07q\\x02\\x02;<\\x07f\\x02\\x02<=\\x07g\\x02\\x02=\\x14\" +\n\t\t\"\\x03\\x02\\x02\\x02>?\\x07g\\x02\\x02?@\\x07f\\x02\\x02@A\\x07i\\x02\\x02AB\\x07g\\x02\" +\n\t\t\"\\x02B\\x16\\x03\\x02\\x02\\x02CD\\x07i\\x02\\x02DE\\x07t\\x02\\x02EF\\x07q\\x02\\x02\" +\n\t\t\"FG\\x07w\\x02\\x02GH\\x07r\\x02\\x02H\\x18\\x03\\x02\\x02\\x02IJ\\x07|\\x02\\x02JK\\x07\" +\n\t\t\"q\\x02\\x02KL\\x07p\\x02\\x02LM\\x07g\\x02\\x02M\\x1A\\x03\\x02\\x02\\x02NO\\x07j\\x02\" +\n\t\t\"\\x02OP\\x07k\\x02\\x02PQ\\x07f\\x02\\x02QR\\x07g\\x02\\x02R\\x1C\\x03\\x02\\x02\\x02\" +\n\t\t\"ST\\x07f\\x02\\x02TU\\x07g\\x02\\x02UV\\x07n\\x02\\x02VW\\x07g\\x02\\x02WX\\x07v\\x02\" +\n\t\t\"\\x02XY\\x07g\\x02\\x02Y\\x1E\\x03\\x02\\x02\\x02Z[\\x07e\\x02\\x02[\\\\\\x07q\\x02\\x02\" +\n\t\t\"\\\\]\\x07p\\x02\\x02]^\\x07h\\x02\\x02^_\\x07k\\x02\\x02_`\\x07i\\x02\\x02` \\x03\\x02\" +\n\t\t\"\\x02\\x02ab\\x07/\\x02\\x02bf\\x07@\\x02\\x02cd\\x07/\\x02\\x02df\\x07/\\x02\\x02e\" +\n\t\t\"a\\x03\\x02\\x02\\x02ec\\x03\\x02\\x02\\x02f\\\"\\x03\\x02\\x02\\x02gk\\x07)\\x02\\x02\" +\n\t\t\"hj\\n\\x02\\x02\\x02ih\\x03\\x02\\x02\\x02jm\\x03\\x02\\x02\\x02ki\\x03\\x02\\x02\\x02\" +\n\t\t\"kl\\x03\\x02\\x02\\x02ln\\x03\\x02\\x02\\x02mk\\x03\\x02\\x02\\x02no\\x07)\\x02\\x02\" +\n\t\t\"o\\x81\\b\\x12\\x02\\x02pt\\x07$\\x02\\x02qs\\n\\x03\\x02\\x02rq\\x03\\x02\\x02\\x02s\" +\n\t\t\"v\\x03\\x02\\x02\\x02tr\\x03\\x02\\x02\\x02tu\\x03\\x02\\x02\\x02uw\\x03\\x02\\x02\\x02\" +\n\t\t\"vt\\x03\\x02\\x02\\x02wx\\x07$\\x02\\x02x\\x81\\b\\x12\\x03\\x02y}\\t\\x04\\x02\\x02z\" +\n\t\t\"|\\t\\x05\\x02\\x02{z\\x03\\x02\\x02\\x02|\\x7F\\x03\\x02\\x02\\x02}{\\x03\\x02\\x02\\x02\" +\n\t\t\"}~\\x03\\x02\\x02\\x02~\\x81\\x03\\x02\\x02\\x02\\x7F}\\x03\\x02\\x02\\x02\\x80g\\x03\" +\n\t\t\"\\x02\\x02\\x02\\x80p\\x03\\x02\\x02\\x02\\x80y\\x03\\x02\\x02\\x02\\x81$\\x03\\x02\\x02\" +\n\t\t\"\\x02\\x82\\x83\\t\\x06\\x02\\x02\\x83\\x84\\x03\\x02\\x02\\x02\\x84\\x85\\b\\x13\\x04\\x02\" +\n\t\t\"\\x85&\\x03\\x02\\x02\\x02\\b\\x02ekt}\\x80\\x05\\x03\\x12\\x02\\x03\\x12\\x03\\x02\\x03\" +\n\t\t\"\\x02\";\n\tpublic static __ATN: ATN;\n\tpublic static get _ATN(): ATN {\n\t\tif (!FurumaiLexer.__ATN) {\n\t\t\tFurumaiLexer.__ATN = new ATNDeserializer().deserialize(Utils.toCharArray(FurumaiLexer._serializedATN));\n\t\t}\n\n\t\treturn FurumaiLexer.__ATN;\n\t}\n\n}\n\n","import { render, staticRenderFns } from \"./Person.vue?vue&type=template&id=fdc53260&scoped=true&\"\nimport script from \"./Person.vue?vue&type=script&lang=ts&\"\nexport * from \"./Person.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fdc53260\",\n  null\n  \n)\n\nexport default component.exports","import {RuleNode} from 'antlr4ts/tree/RuleNode'\nimport {ErrorNode} from 'antlr4ts/tree/ErrorNode'\nimport {TerminalNode} from 'antlr4ts/tree/TerminalNode'\nimport {ParseTree} from 'antlr4ts/tree'\nimport {ANTLRErrorListener, CharStreams, CommonTokenStream, RecognitionException, Recognizer} from 'antlr4ts'\nimport {BuildingBlock} from '@/bind/BuildingBlock'\nimport {Compound} from '@/bind/Compound'\nimport {Edge} from '@/bind/Edge'\nimport {HideBlock} from '@/bind/HideBlock'\nimport {HideEdge} from '@/bind/HideEdge'\nimport {Node} from '@/bind/Node'\nimport {\n  AssignmentContext,\n  Attr_listContext,\n  Attr_stmtContext,\n  ConfigContext,\n  Edge_stmtContext,\n  FurumaiParser,\n  GroupContext,\n  HideContext,\n  MomentContext,\n  Node_stmtContext,\n  Stmt_listContext,\n  StmtContext,\n  StoryContext,\n  ZoneContext,\n} from '@/generated/antlr4ts/FurumaiParser'\nimport {FurumaiLexer} from '@/generated/antlr4ts/FurumaiLexer'\nimport {FurumaiVisitor} from '@/generated/antlr4ts/FurumaiVisitor'\nimport {Config} from '@/utils/Config'\nimport {Frame, Story} from '@/utils/Story'\nimport {Attributes, Attrs, Dict} from '@/utils/types'\nimport {ShowBlock} from '@/bind/ShowBlock'\n\nexport function parse(text: string): Story | SyntaxError {\n  const inputStream = CharStreams.fromString(text)\n  const errorListener = new FurumaiErrorListener()\n  const lexer = new FurumaiLexer(inputStream)\n  lexer.removeErrorListeners()\n  lexer.addErrorListener(errorListener)\n  const tokenStream = new CommonTokenStream(lexer)\n  const parser = new FurumaiParser(tokenStream)\n  parser.removeErrorListeners()\n  parser.addErrorListener(errorListener)\n  const tree = parser.story()\n  if (errorListener.errors.length > 0) {\n    return new SyntaxError(JSON.stringify(errorListener.errors))\n  } else {\n    const visitor = new FurumaiVisitorImpl()\n    return visitor.visit(tree)\n  }\n}\n\nclass FurumaiErrorListener implements ANTLRErrorListener<any> {\n  public errors: any[] = []\n\n  public syntaxError<T extends any>(\n    recognizer: Recognizer<T, any>,\n    offendingSymbol?: T,\n    line?: number,\n    charPositionInLine?: number,\n    msg?: string,\n    e?: RecognitionException,\n  ): void {\n    const error = {\n      message: msg,\n      range: {\n        at: {\n          column: charPositionInLine,\n          row: line,\n        },\n      },\n    }\n    this.errors.push(error)\n  }\n}\n\nclass FurumaiVisitorImpl implements FurumaiVisitor<any> {\n  private static isBuildingBlock(a: any): boolean {\n    return a instanceof Compound\n      || a instanceof Node\n      || a instanceof Edge\n      || a instanceof HideBlock\n      || a instanceof HideEdge\n      || a instanceof ShowBlock\n  }\n\n  public visitStory(ctx: StoryContext): Story {\n    const eof = ctx.EOF()\n    if (eof) {\n      const ss: StatementList[] = ctx.moment().map((f) => this.visit(f))\n      const conf = ss[0].config\n      const frames = ss.map((s) => frame(s))\n      return new Story(frames, conf)\n    } else {\n      throw new SyntaxError('invalid input statement syntax')\n    }\n\n    function frame(s: StatementList): Frame {\n      const attributes = Attributes.of(s.attributes)\n      const dict = ElementAttribute.toDict(s.childAttributes)\n      return new Frame(s.blocks, attributes, dict)\n    }\n  }\n\n  public visitMoment(ctx: MomentContext): StatementList {\n    return this.visit(ctx.stmt_list())\n  }\n\n  public visitStmt_list(ctx: Stmt_listContext): StatementList {\n    const statements = ctx.stmt().map((stmt) => this.visit(stmt))\n    const blocks: BuildingBlock[] = []\n    const childAttributes: ElementAttribute[] = []\n    const attributes: Attribute[] = []\n    const cs: Conf[] = []\n\n    statements.forEach((a) => {\n      if (FurumaiVisitorImpl.isBuildingBlock(a)) {\n        blocks.push(a)\n      } else if (a instanceof ElementAttribute) {\n        childAttributes.push(a)\n      } else if (a instanceof Attribute) {\n        attributes.push(a as Attribute)\n      } else if (a instanceof Conf) {\n        cs.push(a)\n      } else if (a instanceof Array && a.every((x) => FurumaiVisitorImpl.isBuildingBlock(x))) {\n        a.forEach((x) => blocks.push(x))\n      } else {\n        throw new Error('not implemented: ' + JSON.stringify(a))\n      }\n    })\n\n    return {\n      blocks,\n      attributes: Attribute.reduce(attributes),\n      childAttributes,\n      config: cs.length > 0 ? cs[0].config : {},\n    }\n  }\n\n  public visitStmt(ctx: StmtContext): BuildingBlock | ElementAttribute | Attribute | Config | BuildingBlock[] {\n    const stmt =\n      ctx.node_stmt() ||\n      ctx.edge_stmt() ||\n      ctx.attr_stmt() ||\n      ctx.assignment() ||\n      ctx.zone() ||\n      ctx.group() ||\n      ctx.hide() ||\n      ctx.config()\n\n    if (stmt) {\n      return this.visit(stmt)\n    } else {\n      throw new Error('not implemented')\n    }\n  }\n\n  public visitAttr_stmt(ctx: Attr_stmtContext): ElementAttribute {\n    const attrType = ctx.GROUP() || ctx.NODE() || ctx.EDGE() || ctx.ZONE()\n    const attrList = ctx.attr_list()\n    const attributes = attrList ? Attribute.reduce(this.visit(attrList)) : {}\n    if (attrType) {\n      return new ElementAttribute(\n        attrType.text,\n        attributes,\n      )\n    } else {\n      throw new Error('internal error: invalid state (parse)')\n    }\n  }\n\n  public visitConfig(ctx: ConfigContext): Conf {\n    const textNode = ctx.ID()\n    const attrList = ctx.attr_list()\n    if (attrList) {\n      const config: Config = attrList ? Attribute.reduce(this.visit(attrList)) : {}\n      return new Conf(config)\n    } else if (textNode) {\n      return parseConfig(textNode.text)\n    } else {\n      throw new Error('internal error: invalid state (parse)')\n    }\n\n    /**\n     * @deprecated\n     */\n    function parseConfig(configString: string): Conf {\n      const conf: Attrs = {}\n      configString.split(',').forEach((line) => {\n        const kv = line.split('=')\n        conf[kv[0]] = kv[1]\n      })\n      return new Conf(conf)\n    }\n  }\n\n  public visitAttr_list(ctx: Attr_listContext): Attribute[] {\n    return ctx.assignment().map((a) => this.visit(a))\n  }\n\n  public visitAssignment(ctx: AssignmentContext): Attribute {\n    const ids = ctx.ID().map((n) => n.text)\n    return new Attribute(ids[0], ids[1])\n  }\n\n  public visitEdge_stmt(ctx: Edge_stmtContext): BuildingBlock[] {\n    const ids = ctx.ID().map((n) => n.text)\n    const attrList = ctx.attr_list()\n    const op = ctx.EDGEOP().text\n    if (attrList) {\n      const attrs: Attribute[] = this.visit(attrList)\n      return Edge.of(ids[0], op, ids[1], Attribute.reduce(attrs))\n    } else {\n      return Edge.of(ids[0], op, ids[1])\n    }\n  }\n\n  public visitNode_stmt(ctx: Node_stmtContext): Node {\n    const attrList = ctx.attr_list()\n    if (attrList) {\n      const attrs: Attribute[] = this.visit(attrList)\n      return new Node(ctx.ID().text, Attributes.of(Attribute.reduce(attrs)))\n    } else {\n      return new Node(ctx.ID().text)\n    }\n  }\n\n  public visitGroup(ctx: GroupContext): Compound {\n    const stmtList = ctx.stmt_list()\n    if (stmtList) {\n      const s: StatementList = this.visit(stmtList)\n      const attrs = Attributes.of(s.attributes)\n      const childAttrs = ElementAttribute.toDict(s.childAttributes)\n      return new Compound(ctx.ID().text, 'group', s.blocks, attrs, childAttrs)\n    } else {\n      return new Compound(ctx.ID().text, 'group')\n    }\n  }\n\n  public visitZone(ctx: ZoneContext): Compound {\n    const stmtList = ctx.stmt_list()\n    if (stmtList) {\n      const s: StatementList = this.visit(stmtList)\n      const attrs = Attributes.of(s.attributes)\n      const childAttrs = ElementAttribute.toDict(s.childAttributes)\n      return new Compound(ctx.ID().text, 'zone', s.blocks, attrs, childAttrs)\n    } else {\n      return new Compound(ctx.ID().text, 'zone')\n    }\n  }\n\n  public visitHide(ctx: HideContext): BuildingBlock {\n    const ids = ctx.ID().map((n) => n.text)\n    if (ids.length === 1) {\n      return new HideBlock(ids[0])\n    } else if (ids.length === 2) {\n      return new HideEdge(ids[0], ids[1])\n    } else {\n      throw new Error('not implemented')\n    }\n  }\n\n  public visit(tree: ParseTree): any {\n    return tree.accept(this)\n  }\n\n  public visitChildren(node: RuleNode): any {\n    let result\n    const n = node.childCount\n    for (let i = 0; i < n; i++) {\n      const c = node.getChild(i)\n      result = c.accept(this)\n    }\n    return result\n  }\n\n  public visitErrorNode(node: ErrorNode): any {\n    return undefined\n  }\n\n  public visitTerminal(node: TerminalNode): any {\n    return undefined\n  }\n}\n\ntype AttributeName = string\ntype AttributeValue = string\n\nclass Attribute {\n  public static reduce(attrs: Attribute[]): Attrs {\n    return attrs.reduce((map, obj) => {\n      map[obj.key] = obj.value\n      return map\n    }, {} as Attrs)\n  }\n\n  constructor(readonly key: AttributeName, readonly value: AttributeValue) {\n  }\n}\n\ninterface StatementList {\n  readonly blocks: BuildingBlock[]\n  readonly attributes: Attrs\n  readonly childAttributes: ElementAttribute[]\n  readonly config: Config\n}\n\nclass ElementAttribute {\n  public static toDict(attrs: ElementAttribute[]): Dict<Attributes> {\n    return attrs.reduce((map, obj) => {\n      map[obj.elementName] = Attributes.of(obj.attributes)\n      return map\n    }, {} as Dict<Attributes>)\n  }\n\n  constructor(\n    readonly elementName: string,\n    readonly attributes: Attrs,\n  ) {\n  }\n}\n\nclass Conf {\n  constructor(readonly config: Config) {}\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('g',_vm._b({},'g',_vm.g.svgAttrs.svgAttrs,false),[_c('rect',_vm._b({},'rect',_vm.attrs,false)),_c('TextContent',{attrs:{\"content\":_vm.g.text,\"position\":_vm.textPosition,\"dy\":_vm.labelDy,\"attrs\":_vm.textAttrs}}),_vm._l((_vm.childGroups),function(c){return _c('Group',{key:c.id,attrs:{\"g\":c}})}),_vm._l((_vm.boxes),function(c){return _c('Box',{key:c.id,attrs:{\"shape\":c}})}),_vm._l((_vm.cylinders),function(c){return _c('Cylinder',{key:c.id,attrs:{\"shape\":c}})}),_vm._l((_vm.pipes),function(c){return _c('Pipe',{key:c.id,attrs:{\"shape\":c}})}),_vm._l((_vm.persons),function(c){return _c('Person',{key:c.id,attrs:{\"shape\":c}})}),_vm._l((_vm.vIcons),function(c){return _c('VIcon',{key:c.id,attrs:{\"shape\":c}})}),_vm._l((_vm.arrows),function(c){return _c('Arrow',{key:c.id,attrs:{\"shape\":c}})}),_c('GridArea',{attrs:{\"box\":_vm.g.box}})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"567eeb22-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Group.vue?vue&type=template&id=1d138cb4&scoped=true&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Prop, Vue} from 'vue-property-decorator'\nimport * as api from '@/components/model/TextContent'\nimport {Attrs, num} from '@/utils/types'\n\n@Component\nexport default class TextContent extends Vue {\n  @Prop()\n  public content!: api.TextContent\n\n  @Prop({default: false})\n  public centering!: boolean\n\n  @Prop({default: 0.5})\n  public dy!: number\n\n  @Prop({default: {x: 0, y: 0}})\n  public position!: {x: number, y: number}\n\n  @Prop()\n  public attrs!: Attrs\n\n  get dxy(): {x: number, y: number} {\n    const {dx, dy} = this.attrs\n    return {x: num(dx) || 0, y: num(dy) || 0}\n  }\n\n  get texts(): Array<{text: string, dy: string}> {\n    const label = this.content.label\n    const content = this.content.t\n    const txt = label ? (content ? label + '\\\\n' + content : label) : content || ''\n    if (txt) {\n      if (this.centering) {\n        const [head, ...tail] = txt.split('\\\\n')\n        const first = {text: head, dy: `${0.35 - tail.length * 0.5}em`}\n        const rest = tail.map((s) => {\n          return {text: s, dy: '1em'}\n        })\n        return [first, ...rest]\n      } else {\n        const [head, ...tail] = txt.split('\\\\n')\n        const first = {text: head, dy: `${this.dy + 0.35}em`}\n        const rest = tail.map((s) => {\n          return {text: s, dy: '1em'}\n        })\n        return [first, ...rest]\n      }\n    } else {\n      return []\n    }\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('g',[_c('path',_vm._b({attrs:{\"d\":_vm.d}},'path',_vm.shapeAttrs,false)),_c('TextContent',{attrs:{\"content\":_vm.shape.text,\"position\":_vm.textPosition,\"centering\":true,\"attrs\":_vm.textAttrs}}),_c('GridArea',{attrs:{\"box\":_vm.shape.box}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"567eeb22-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Arrow.vue?vue&type=template&id=aeddd61e&scoped=true&\"","import { render, staticRenderFns } from \"./Footer.vue?vue&type=template&id=4ffd0aaa&scoped=true&\"\nimport script from \"./Footer.vue?vue&type=script&lang=ts&\"\nexport * from \"./Footer.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ffd0aaa\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}